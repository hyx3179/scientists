window.run=function(){const o="V15.148";const c="å°çŒ«ç‚å­¦å®¶ç‰ˆæœ¬"+o;const q={zh:{"option.observe":"è§‚æµ‹å¤©æ–‡ç°è±¡","option.festival":"ä¸¾åŠèŠ‚æ—¥","option.praise":"èµç¾å¤ªé˜³","option.autofeed":"çŒ®ç¥­æ­»çµå…½","option.hunt":"æ´¾å‡ºçŒäºº","option.crypto":"é»‘å¸äº¤æ˜“","option.embassies":"å»ºé€ å¤§ä½¿é¦†","option.style":"å æ»¡å±å¹•","option.useWorkers":"å¯ç”¨åå°æ»¡é€Ÿç‚å­¦å®¶","filter.build":"å»ºç­‘","filter.craft":"å·¥è‰ºåˆ¶ä½œ","filter.space":"å¤ªç©ºç›¸å…³","filter.upgrade":"å·¥åŠå‡çº§","filter.research":"ç§‘å­¦ç ”ç©¶","filter.policy":"æ”¿ç­–","filter.upgBld":"è¥ç«å»ºç­‘å‡çº§","filter.trade":"è´¸æ˜“","filter.embassy":"å¤§ä½¿é¦†","filter.hunt":"ç‹©çŒ","filter.praise":"èµç¾å¤ªé˜³","filter.adore":"èµç¾ç¾¤æ˜Ÿ","filter.transcend":"æ¬¡å…ƒè¶…è¶Š","filter.sacrifice":"çŒ®ç¥­","filter.faithBld":"å¤ªé˜³æ•™å›¢","filter.accelerate":"å…‰é˜´ä¼¼ç®­","filter.time.skip":"æ—¶é—´è·³è½¬","filter.festival":"ä¸¾åŠèŠ‚æ—¥","filter.star":"å¤©æ–‡ç°è±¡","filter.distribute":"çŒ«çŒ«åˆ†é…","filter.leader":"é¢†è¢–ç›¸å…³","filter.misc":"å–µå–µå–µ","dispose.necrocorn":"å°çŒ«å¸®ä½ å¤„ç†æ‰äº†å½±å“æ•ˆç‡çš„å¤šä½™æ­»çµå…½","act.feed":"å°çŒ«å‘åˆ©ç»´å¦çŒ®ä¸Šç¥­å“ã€‚å¤ç¥å¾ˆé«˜å…´","blackcoin.buy":"å°çŒ«èŠ±æ‰ {1} é—ç‰©ï¼ŒåŠ ä»“äº† {0} é»‘å¸","blackcoin.sell":"å°çŒ«æŠ›å”® {1} é»‘å¸ï¼Œå¥—ç°äº† {0} é—ç‰©","act.observe":"å°çŒ«è§‚æµ‹äº†å¤©æ–‡ç°è±¡{0}","act.hunt":"{0} æ³¢{1}å»æ‰“çŒ","act.hunt.unicorn":"å°çŒ«æ€¥ç€æ´¾å‡ºçŒäººå¸®ç‹¬è§’å…½é…ç§ï¼Œå‘œå‘¼åè¿çˆªà¸… à¸…","act.hunt.trade":"å°çŒ«è´¸æ˜“åå†³å®šå»æ‰“çŒ","act.hunt.mint":"æ¯›çš®æˆ–ç¾Šçš®çº¸å¤„äºä½å‚¨é‡","act.build":"å°çŒ«å»ºé€ äº†ä¸€ä¸ª {0}","act.builds":"å°çŒ«å»ºé€ äº† {1} ä¸ªæ–°çš„ {0}","act.craft":" {0} {1}","act.trade":" {1} äº¤æ˜“ {0} æ¬¡","upgrade.space.mission":"å°çŒ«æ‰§è¡Œäº† {0} çš„ä»»åŠ¡","upgrade.space":"å°çŒ«æ‰§è¡Œäº† {0}","upgrade.race":"å°çŒ«æ¢é™©é‡åˆ°äº†æ–°çš„æ–‡æ˜ï¼š{0}","upgrade.upgrade":"{1}å‘æ˜äº† {0}","upgrade.limited":"ä¼˜åŒ– {0}","upgrade.unlimited":"å…¨éƒ¨ {0}","upgrade.tech":"{1}ç ”ç©¶äº† {0}","upgrade.policy":"å°çŒ«é€šè¿‡äº† {0} æ³•æ¡ˆ","festival.hold":"å‘œå‘¼ï¼Œå°çŒ«å¼€è¶´äº†","festival.extend":"å°çŒ«åŠ äº†ä¸€å¹´é’Ÿ","build.embassy":"åœ¨ {1} è®¾ç«‹äº† {0} ä¸ªå¤§ä½¿é¦†","build.embassies":"åœ¨ {1} è®¾ç«‹äº† {0} ä¸ªå¤§ä½¿é¦†","act.praise":"èµç¾å¤ªé˜³! æ¶ˆè€—äº† {0} ä¿¡ä»°è½¬åŒ–æˆ {1} çš„è™”è¯š","praise.trigger.set":"è¾“å…¥æ–°çš„èµç¾å¤ªé˜³çš„è§¦å‘å€¼ï¼Œå–å€¼èŒƒå›´ä¸º 0 åˆ° 1çš„çº¯å°æ•°\n å½“ä¸º0.98æ—¶ä¸”ç‚¹å‡ºå¤ªé˜³é©å‘½ï¼Œè‹¥è™”è¯šå¤ªå°‘å°çŒ«æ¯å¤©èµç¾å¤ªé˜³","summary.praise.msg":"è™”è¯šçš„å°çŒ«æ¯å¤©éƒ½ä¼šèµç¾å¤ªé˜³ï¼Œç›´åˆ°å¤ªé˜³é©å‘½åŠ æˆå¤§äº {0} %<br>è¯´ä½ äº†è™”è¯šå¤ªä½äº†! (è™”è¯šæ»šçŒ«å’ªè¶Šæ»šè¶Šè™”è¯š","act.sun.discover":"å°çŒ«åœ¨å®—æ•™ç¥·å‘Šäº† {0} ","act.sun.discovers":"å°çŒ«åœ¨å®—æ•™ç¥·å‘Šäº† {0} {1} æ¬¡","act.sun.discovers.leader":"å“²å­¦å®¶å°çŒ«åœ¨å®—æ•™ç¥·å‘Šäº† {0} {1} æ¬¡","ui.items":"é¡¹ç›®","ui.disable.all":"å…¨éƒ¨ç¦ç”¨","ui.enable.all":"å…¨éƒ¨å¯ç”¨","ui.craft.resources":"èµ„æº","ui.trigger":"è§¦å‘æ¡ä»¶","ui.trigger.set":"è¾“å…¥æ–°çš„ {0} è§¦å‘æ¡ä»¶ï¼Œå–å€¼èŒƒå›´ä¸º 0 åˆ° 1 çš„å°æ•°ã€‚\n\n è§¦å‘æ¡ä»¶ï¼šå½“å‰è§¦å‘èµ„æºæ•°é‡ / è§¦å‘èµ„æºçš„ä¸Šé™æ•°é‡\né¼ æ ‡ç§»åŠ¨åˆ°è¯¥é¡¹ç›®åå­—ä¸Šèƒ½çœ‹åˆ°è§¦å‘èµ„æº","ui.trigger.resource":"è§¦å‘èµ„æºä¸º","ui.none":"æ— ","ui.limit":"é™åˆ¶","ui.tradeLimit":"AIè®¡ç®—","ui.distributeLimit":"é™é‡","ui.craftLimit":"AIå¹³è¡¡","ui.upgradesLimit":"ä¼˜é€‰","ui.trigger.filterGame.set":"è®¾ç½®æ¸¸æˆæ—¥å¿—æ•°é‡ä¸Šé™","ui.trigger.missions.set":"è¾“å…¥ä¸€ä¸ªæ–°çš„ æ¢ç´¢æ˜Ÿçƒ è§¦å‘å€¼,å–å€¼èŒƒå›´ä¸º 0 åˆ° 13 çš„æ•´æ•°ã€‚\nåˆ†åˆ«å¯¹åº”13é¢—æ˜Ÿçƒã€‚\n\né»˜è®¤ä¼˜å…ˆç¢§æ± æ¢ç´¢ï¼Œä¼šæš‚æ—¶è·³è¿‡æ²™ä¸˜","ui.trigger.crypto.set":"è¾“å…¥ä¸€ä¸ªæ–°çš„ {0} è§¦å‘å€¼ï¼Œ\næ”¯æŒ3ä¸ªå‚æ•°ï¼š-ç¬¦å·éš”å¼€æ•°å­—å‚æ•°\nç¬¬ä¸€ä¸ªæ•°å­—ï¼šå½“é—ç‰©æ•°é‡å¤§äºè§¦å‘å€¼æ‰ä¼šè¿›è¡Œé»‘å¸äº¤æ˜“\nç¬¬äºŒä¸ªæ•°å­—ï¼šä¹°å…¥çš„æœ€é«˜ä»·ï¼ˆè¶…è¿‡è¿™ä»·æ ¼å°±ä¸ä¼šä¹°äº†ï¼‰\nç¬¬ä¸‰ä¸ªæ•°å­—ï¼šå–å‡ºæœ€ä½çš„ä»·æ ¼ã€‚ï¼ˆä½äºè¿™ä»·æ ¼å°±ä¸ä¼šå–å‡ºï¼‰\né»˜è®¤1e7-881-1060","ui.engine":"å¯ç”¨å°çŒ«ç‚å­¦å®¶","ui.build":"è¥ç«","ui.space":"å¤ªç©º","ui.craft":"å·¥è‰º","ui.upgrade":"å‡çº§","ui.trade":"è´¸æ˜“","ui.faith":"å®—æ•™","ui.time":"æ—¶é—´","ui.options":"å°å–µæ‚é¡¹","ui.filter":"æ—¥å¿—è¿‡æ»¤","ui.distribute":"å–µå–µç®¡ç†","ui.max":"Max: {0}","msg.catnip":"å¦‚æœå¯’å†¬çŒ«è–„è·äº§é‡ä½äº0ï¼Œè¿ç»­å¯’å†·çš„å¤©æ°”ï¼Œå°çŒ«ä¼šé¥¿æ­»<br>å°çŒ«ç‚å­¦å®¶ä¼šç•™ä¸‹è¿‡å¯’å†¬çš„çŒ«è–„è·","ui.upgrade.upgrades":"å·¥åŠå‡çº§","ui.upgrade.techs":"ç§‘å­¦ç§‘æŠ€","ui.upgrade.races":"æ¢é™©è€…å‡ºå‘!","ui.upgrade.missions":"æ¢ç´¢æ˜Ÿçƒ","ui.upgrade.buildings":"å‡çº§å»ºç­‘","ui.upgrade.policies":"æ”¿ç­–","ui.upgrade.policies.load":"è¯»å–","ui.upgrade.policies.show":"åˆ—è¡¨","ui.faith.addtion":"å®—æ•™é™„åŠ ","option.faith.best.unicorn":"è‡ªåŠ¨æœ€ä½³ç‹¬è§’å…½å»ºç­‘","option.faith.best.unicorn.desc":"è‡ªåŠ¨çŒ®ç¥­ç‹¬è§’å…½ï¼Œå¹¶ä¼šä»¥ç‹¬è§’å…½æˆ–è±¡ç‰™æ¥å†³å®šå»ºé€ ç‹¬è§’å…½ç‰§åœº~è±¡ç‰™å¡”...å¤ªé˜³å°–é¡¶<br>å½“è±¡ç‰™ä¸è¶³æ—¶ä¼šåˆ‡æ¢æˆè±¡ç‰™æ¨¡å¼å…·ä½“å¯ä»¥ç‚¹å‡»å°çŒ«æ€»ç»“çœ‹åˆ°(æ¦‚è§ˆè¿˜æœªæ›´æ–°è±¡ç‰™æ¨¡å¼)",unicornSacrifice:"å°çŒ«è®© {0} ä¸ªç‹¬è§’å…½ç¾¤è¿”å›äº†å¤©ä¸Šçš„ç»´åº¦ï¼Œæ”¶é›†äº† {1} æ»´ç‹¬è§’å…½çš„çœ¼æ³ª","option.faith.transcend":"è‡ªåŠ¨æœ€ä½³æ¬¡å…ƒè¶…è¶Š","summary.transcend.catnip":"å–µå–µå–µï¼Œä½ ä¹Ÿä¸æƒ³æ¬¡å…ƒè¶…è¶Šå†èµç¾ç¾¤æ˜Ÿåè®©å°å–µé¥¿æ­»å§ï¼Ÿï¼ˆçŒ«è–„è·äº§é‡å°†æ˜¯ï¼š{0}ï¼‰","act.transcend":"æ¶ˆè€— {0} é¡¿æ‚Ÿï¼Œè¾¾åˆ°æ¬¡å…ƒè¶…è¶Š {1}","summary.transcend":"æ¬¡å…ƒè¶…è¶Šäº† {0} æ¬¡","option.faith.adore":"èµç¾ç¾¤æ˜Ÿ","act.adore":"èµç¾ç¾¤æ˜Ÿ! æ¶ˆè€—äº† {0} è™”è¯šè½¬åŒ–æˆ {1} é¡¿æ‚Ÿ","act.adore.last":"ä¸‹æ¬¡å°çŒ«èµç¾ç¾¤æ˜Ÿï¼Œä¼šç­‰åˆ°è™”è¯šå¤§äº {0} ","summary.adore":"èµç¾ç¾¤æ˜Ÿäº† {0} æ¬¡ï¼Œå…±ç§¯ç´¯äº† {1} é¡¿æ‚Ÿ","summary.adore.catnip":"å–µå–µå–µï¼Œä½ ä¹Ÿä¸æƒ³èµç¾ç¾¤æ˜Ÿåè®©å°å–µé¥¿æ­»å§ï¼Ÿï¼ˆçŒ«è–„è·äº§é‡å°†æ˜¯ï¼š{0}ï¼‰","summary.adore.solar":"èªæ˜çš„å°çŒ«å·²ç»ä¼šç®—æœŸæœ›äº†ï¼Œå½“å¤ªé˜³é©å‘½åŠ æˆåˆ°è¾¾ï¼š{0}% åæ‰ä¼šèµç¾ç¾¤æ˜Ÿ","summary.adore.last":"ä¸‹æ¬¡èµç¾ç¾¤æ˜Ÿä¼šç­‰åˆ°è™”è¯šå¤§äº{0} ","adore.trigger.set":"èµç¾ç¾¤æ˜Ÿå†èµç¾å¤ªé˜³åçš„å¤ªé˜³é©å‘½åŠ æˆ â‰¥ è§¦å‘æ¡ä»¶ * 1000%ï¼Œ\nè§¦å‘æ¡ä»¶å–å€¼èŒƒå›´ä¸º 0 åˆ° 1 çš„å°æ•°ï¼ˆ0.001ä¸ºè‡ªåŠ¨æ¨¡å¼ï¼‰\n\nåŒæ—¶æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ç‚å­¦å®¶å°†è‡ªåŠ¨èµç¾ç¾¤æ˜Ÿã€‚\n1. å½“å‰ä¿¡ä»° / ä¿¡ä»°ä¸Šé™ â‰¥ 0.98(èµç¾å¤ªé˜³è§¦å‘æ¡ä»¶è®¾ç½®0.98é…åˆä½¿ç”¨)\n2.æœ‰æœˆçƒå‰å“¨\n3.èµç¾ç¾¤æ˜Ÿåçš„çŒ«è–„è·äº§é‡ï¼0ã€‚\næ¨èå¯ç”¨è¯¥åŠŸèƒ½å¤šæ”¾å‡ ä¸ªå†œæ°‘ï¼Œå–µå–µä¿æŠ¤åä¼šä¸å…è®¸é¥¿æ­»å–µå–µå–µ\nä¼˜å…ˆæ¬¡å…ƒè¶…è¶Š => èµç¾ç¾¤æ˜Ÿ => èµç¾å¤ªé˜³","resources.add":"æ·»åŠ èµ„æº","resources.clear.unused":"æ¸…é™¤æœªä½¿ç”¨","resources.stock":"åº“å­˜: {0}","resources.consume":"æ¶ˆè€—ç‡: {0}","resources.del":"åˆ é™¤","resources.stock.set":"è®¾ç½® {0} çš„åº“å­˜","resources.consume.set":"è®¾ç½® {0} çš„æ¶ˆè€—ç‡","resources.del.confirm":"ç¡®å®šè¦å–æ¶ˆ {0} çš„åº“å­˜æ§åˆ¶?","status.ks.enable":"ç¥è¯´ï¼Œè¦æœ‰çŒ«çŒ«ç‚å­¦å®¶!","status.ks.disable":"å¤ªæ•¬ä¸šäº†ï¼Œè¯¥æ­‡äº†","status.sub.enable":"å¯ç”¨ {0}","status.auto.enable":"å¯ç”¨è‡ªåŠ¨åŒ– {0}","status.sub.disable":"ç¦ç”¨ {0}","status.auto.disable":"ç¦ç”¨è‡ªåŠ¨åŒ– {0}","time.game":"çŒ«ç‚å­¦å®¶ç­‰å¾…æ¸¸æˆå¤„ç†{0} æ¯«ç§’","time.ks":"å¯çˆ±å°å–µç‚å­¦å®¶ä¸€å…±ä¸ºä½ æœåŠ¡äº† {0} æ¬¡ï¼Œç‚å­¦å®¶å¤„ç†å…±è€—æ—¶ {1} æ¯«ç§’ï¼Œå¹³å‡è€—æ—¶ {2} æ¯«ç§’","trade.limited":"è´¸æ˜“è·å¾—æ•°é‡å¤§äºäº§é‡æ—¶æ‰ä¸ {0} è´¸æ˜“ï¼Œæ¬¡æ•°è‡ªåŠ¨é™åˆ¶","trade.limitedTitle":"æ ¹æ®äº§é‡å’Œè´¸æ˜“è·å¾—æ•°é‡","trade.unlimited":"{1}ä¸ {0} çš„ è´¸æ˜“","trade.seasons":"å­£èŠ‚","trade.season.enable":"å¯ç”¨åœ¨ {1} ä¸ {0} çš„è´¸æ˜“","trade.season.disable":"åœæ­¢åœ¨ {1} ä¸ {0} çš„è´¸æ˜“","trade.catnip":"à¸…'Ï‰'à¸…ï¼Œä½ ä¹Ÿä¸æƒ³è®©å°å–µé¥¿æ­»å§ï¼Ÿä¸é²¨é±¼è´¸æ˜“å–½","filter.enable":"è¿‡æ»¤ {0}","filter.disable":"å–æ¶ˆè¿‡æ»¤ {0}","craft.force":"ä¸ºäº†ç ”ç©¶{1}ï¼Œå–µå–µå·å·æ‹¿äº†èµ„æºåˆæˆäº†{0}ï¼Œå‘å‘å‘ï¼Œå¥¹æ‰ä¸ä¼šå¿ƒç—›äº†~â™ª","craft.CacheSteel":"å°çŒ«æ€¥æ€¥æ€¥ï¼Œå­˜ææ–™ç‚¹å·¥åŠå‡çº§{0}","craft.forceSteel":"å°çŒ«ä¸ºäº†å·¥åŠå‡çº§{0}ï¼Œå·å·ç”¨äº†äº¿ç‚¹ç‚¹ææ–™åˆæˆäº†é’¢<br>å–µå–µäº†?! å–µå–µå·²ç»é€ƒè·‘äº† ï¾š(ï¾Ÿâˆ€ï¾Ÿ;)ï¾=3=3 !","craft.limited":"å¹³è¡¡{0}ï¼ˆç†è§£ä¸ºå°çŒ«AIæ§åˆ¶è§¦å‘æ¡ä»¶ã€æ¶ˆè€—ç‡ï¼ŒæŒ‚æœºæ•ˆç‡ä¼šæ¯”è¾ƒé«˜ï¼‰","craft.limitedTitle":"æ ¹æ®åŸææ–™å’Œç›®æ ‡ææ–™çš„æ•°é‡","craft.unlimited":"è§¦å‘èµ„æºï¼š{1}{0}","distribute.limited":"åˆ†é… {0} çš„æ•°é‡ä¸ä¼šè¶…è¿‡Max","distribute.leaderJob":"é¢†è¢–å·¥ä½œä¸º {0} ","distribute.leaderTrait":"é¢†è¢–çš„ç‰¹è´¨ä¸º {0} ","distribute.unlimited":"æ€»Maxæ•°é‡åˆ†é…å®Œåï¼Œ {0} çš„æ•°é‡å…è®¸è¶…è¿‡MAX","distribute.makeLeader":"åˆ†é…é¢†è¢–","act.distribute":"æŠ“ä½ä¸€åªç©ºé—²çŒ«çŒ«åˆ†é…ä¸º {0}","act.distribute.catnip":"æ‹…å¿ƒä½ çš„çŒ«çŒ«æ²¡æœ‰çŒ«è–„è·å¸å¹¶å¼ºåˆ¶åˆ†é…åˆ°å†œæ°‘","act.distributeLeader":"åˆ†é…ä¸€åª {0} çŒ«çŒ«é¢†è¢–","ui.max.set":"è®¾ç½® {0} çš„æœ€å¤§å€¼","summary.distribute":"å¸®åŠ© {0} åªå·åƒçŒ«è–„è·çš„çŒ«çŒ«æ‰¾åˆ°å·¥ä½œ","set.leader":"{0}ï¼Œå–µå–µå–µï¼","option.promote":"ææ‹”é¢†è¢–å°çŒ«","act.promote":"èŠ±è´¹äº† {1} é»„é‡‘ï¼Œå°çŒ«é¢†è¢–è¢«ææ‹”åˆ° {0} çº§","summary.promote":"ææ‹”é¢†è¢– {0} æ¬¡","ui.trigger.useWorkers.alert":"æ¯”å¦‚ç©åˆ«çš„æ¸¸æˆæˆ–è€…åœ¨å¹²åˆ«çš„äº‹æƒ…ï¼Œæµè§ˆå™¨å¯èƒ½ä¼šæ…¢10å€çš„é€Ÿåº¦è¿è¡Œ\nå‹¾é€‰åå°†ä¼šé˜²æ­¢æµè§ˆå™¨ä¼‘çœ ç‚å­¦å®¶ï¼Œæ³¨æ„ä¼šå¯¼è‡´ä½¿ç”¨å†…å­˜å¢å¤šï¼Œæ€§èƒ½æ¶ˆè€—å¢åŠ ã€‚\nç”µè„‘ä¸å¥½ã€å†…å­˜< 8Gçš„å»ºè®®ç¦ç”¨\næ¨èè¿‡æ»¤å…¨éƒ¨æ—¥å¿—ä¼šå‡å°‘æ€§èƒ½çš„æ¶ˆè€—ã€‚\n\néœ€æ»¡è¶³æµè§ˆå™¨æ”¯æŒä¸”æ¸¸æˆé€‰é¡¹çš„web workerå¯ç”¨ã€‚\nç¡®è®¤åä¼šè‡ªåŠ¨é‡æ–°å‹¾é€‰å¯ç”¨ç‚å­¦å®¶\n æœ€å°åŒ–æµè§ˆå™¨å¿…å®šä¼šè¿›å…¥åå°(æ¸¸æˆå’Œç‚å­¦å®¶é€Ÿåº¦éƒ½ä¼šè¢«æµè§ˆå™¨å‡æ…¢10å€)","ui.timeCtrl":"æ—¶é—´ç®¡ç†","option.accelerate":"å…‰é˜´ä¼¼ç®­","act.accelerate":"å›ºæœ‰æ—¶åˆ¶å¾¡ï¼ŒäºŒå€é€Ÿ!","act.accelerate.acl":"æŠ“ç¨³äº†ï¼ŒçŒ«çŒ«è¦å¼€å§‹åŠ é€Ÿäº†!","act.accelerate.slow":"ä¸è¡Œäº†ï¼ŒçŒ«çŒ«è¦å‡é€Ÿäº†","act.accelerate.fine":"æ²¡å…³ç³»ï¼Œ{0}å·²ç»å¾ˆå‰å®³äº† â¤","summary.accelerate":"å°çŒ«åŠ é€Ÿæ—¶é—´ {0} æ¬¡","option.time.skip":"æ—¶é—´è·³è½¬","act.time.skip":"ç‡ƒçƒ§æ—¶é—´æ°´æ™¶, è·³è¿‡æ¥ä¸‹æ¥çš„ {0} å¹´!","ui.cycles":"å‘¨æœŸ","ui.maximum":"å•æ¬¡æ•°é‡","time.skip.cycle.enable":"å¯ç”¨åœ¨ {0} è·³è½¬æ—¶é—´å¹¶å…è®¸è·³è¿‡è¯¥å‘¨æœŸ","time.skip.cycle.disable":"åœæ­¢åœ¨ {0} è·³è½¬æ—¶é—´å¹¶ç¦æ­¢è·³è¿‡è¯¥å‘¨æœŸ","time.skip.season.enable":"å¯ç”¨åœ¨ {0} è·³è½¬æ—¶é—´","time.skip.season.disable":"åœæ­¢åœ¨ {0} è·³è½¬æ—¶é—´","time.skip.trigger.set":"æ‹¥æœ‰æ—¶é—´æ°´æ™¶æ•°é‡å¤§äºè¯¥è§¦å‘å€¼æ‰ä¼šç‡ƒçƒ§æ—¶é—´æ°´æ™¶ï¼Œå–å€¼èŒƒå›´ä¸ºæ­£æ•´æ•°ã€‚\næ³¨æ„ä¼šè®¡ç®—æ—¶é—´æ°´æ™¶åº“å­˜\nå‘¨æœŸé»˜è®¤å…¨å‹¾å°±è¡Œï¼Œç‚å­¦å®¶ä¼šè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦åœåœ¨çº¢æœˆ\næ¯2ç§’çƒ§æ°´æ™¶æ¬¡æ•°å›ºå®šä¸º 0.04xæ—¶è®¡ç‚‰(æ— åƒç¦§å¹´0.02)ï¼Œæ•…å•æ¬¡æ•°é‡è¿›ä¸€æ³•å°±è¡Œ\nå¦‚æœèµ„æºå›å¤åèµ„æºä¸€ç›´æ˜¯æ»¡çš„ï¼Œå»ºè®®è¿‡æ»¤å¤§éƒ¨åˆ†æ—¥å¿—\n\næ•…é•¿æŒ‚æ¨èï¼šè§¦å‘æ¡ä»¶200ï¼Œå•æ¬¡æ•°é‡1ï¼Œå‘¨æœŸå…¨å‹¾","summary.time.skip":"ç‡ƒçƒ§æ—¶é—´æ°´æ™¶ï¼Œè·³è¿‡ {0} å¹´","option.time.reset":"é‡å¯æ—¶é—´çº¿ (å¼ƒç”¨)","status.reset.check.enable":"åœ¨é‡å¯æ—¶é—´çº¿å‰æ£€æŸ¥ {0}","status.reset.check.disable":"åœ¨é‡å¯æ—¶é—´çº¿å‰ä¸æ£€æŸ¥ {0}","ui.min":"Min: {0}","reset.check.trigger.set":"ä¸º {0} è®¾ç½®æ–°çš„è§¦å‘å€¼.\n-1 è¡¨ç¤ºå¿…é¡»å°†æ­¤å»ºç­‘å»ºé€ è‡³è¶…è¿‡èµ„æºä¸Šé™ä¸ºæ­¢","reset.check":"{0} çš„è§¦å‘å€¼: {1}, ç°åœ¨å…±æœ‰ {2}","reset.checked":"æ‰€æœ‰æ¡ä»¶éƒ½å·²æ»¡è¶³ï¼Œæ—¶é—´çº¿å°†åœ¨å‡ ç§’åé‡å¯!","reset.tip":'ä½ å¯ä»¥é€šè¿‡å–æ¶ˆ "å¯ç”¨å°çŒ«ç‚å­¦å®¶" æˆ– "æ—¶é—´æ“æ§" æˆ– "é‡å¯æ—¶é—´çº¿" ä»¥å–æ¶ˆæ­¤æ¬¡é‡å¯',"reset.countdown.10":"10 - æ­£åœ¨æ”¶è·çŒ«è–„è·","reset.countdown.9":"&nbsp;9 - æ­£åœ¨çŒ®ç¥­ç‹¬è§’å…½","reset.countdown.8":"&nbsp;8 - æ­£åœ¨æ”¾ç”Ÿèœ¥èœ´","reset.countdown.7":"&nbsp;7 - æ­£åœ¨æ‹†è§£ç”µç£ç‚®","reset.countdown.6":"&nbsp;6 - æ­£åœ¨å¯åŠ¨æ—¶é—´å¼•æ“","reset.countdown.5":"&nbsp;5 - æ­£åœ¨èåŒ–é»‘å¸","reset.countdown.4":"&nbsp;4 - æ­£åœ¨å…³é—­å«æ˜Ÿ","reset.countdown.3":"&nbsp;3 - æ­£åœ¨æ‰“å¼€æ—¶ç©ºè£‚éš™","reset.countdown.2":"&nbsp;2 - æ­£åœ¨å¯åŠ¨æ—¶é—´é”»é€ ","reset.countdown.1":"&nbsp;1 - æ—¶é—´å¼•æ“å·²å¯åŠ¨!","reset.countdown.0":"&nbsp;0 - æ—¶ç©ºè£‚ç¼å·²æ‰“å¼€!","reset.last.message":"æˆ‘ä»¬ä¸‹ä¸ªåºåŠ è±å›å½’å†è§","reset.after":"åˆæ¬¡è§é¢ï¼Œå¯çˆ±çš„çŒ«çŒ«ç‚å­¦å®¶ä¸ºæ‚¨æœåŠ¡","reset.cancel.message":"é‡å¯æ—¶é—´çº¿è®¡åˆ’å–æ¶ˆ.","reset.cancel.activity":"å–µæ–¯é¡¿ï¼Œæˆ‘ä»¬æœ‰éº»çƒ¦äº†.","summary.time.reset.title":"è¿‡å» {0} ä¸ªæ—¶é—´çº¿çš„æ€»ç»“","summary.time.reset.content":"è·å¾— {0} ä¸š.<br>è·å¾— {1} é¢†å¯¼åŠ›.","ui.close":"å…³é—­","auto.countdown":"{0} ç§’åå°†ä¼šè‡ªåŠ¨å¯ç”¨ç‚å­¦å®¶","auto.tip":'ä½ å¯ä»¥é€šè¿‡å–æ¶ˆ "é¦–æ¬¡è‡ªåŠ¨å¯ç”¨ç‚å­¦å®¶" ä»¥å–æ¶ˆæ­¤æ¬¡è‡ªåŠ¨å¼€å¯',"option.fix.cry":"ä¿®å¤å†·å†»ä»“","act.fix.cry":"å°çŒ«ä¿®å¤äº† {0} ä¸ªå†·å†»ä»“","summary.fix.cry":"ä¿®å¤äº† {0} ä¸ªå†·å†»ä»“","summary.auto.150Faith":"ä½ çš„ä¿¡ä»°ç©ºäº†ï¼Œçœ‹çœ‹ä½ çš„å®—æ•™","summary.auto.1000Faith":"ä½ çš„ä¿¡ä»°ç©ºäº†ï¼Œæ— æ‰€è°“ï¼Œå¤ªé˜³é©å‘½ä¼šå‡ºæ‰‹","summary.auto.academy":"å¾ç­‰çŒ«ç±»çœ‹ä¸ä¸Šç ”ç©¶é™¢â™ªå‘","summary.auto.anyChallengeActive":"æŒ‘æˆ˜æ¨¡å¼ä¸­è¯·è‡ªå·±ç‚¹æ”¿ç­–","summary.auto.apocripha":"è¶…è¶Šå–µå–µæé™ï¼Œæ–°çº¦å¤–ä¼ æ‰æœ‰ç”¨æ","summary.auto.aqueduct":"å¿ƒä¸­æ— æ°´æ¸ ï¼Œå‘å±•è‡ªç„¶ç¥ï¼Œé™¤éå®ƒç»™çš„çŒ«è–„è·å®åœ¨å¤ªå¤šäº†","summary.auto.aqueductCatnip":"æ°´æ¸ ï¼Œé¥¿é¥¿ï¼Œé¥­é¥­","summary.auto.biolab":"å°çŒ«ä¸ºäº†èŠ‚çœåˆé‡‘å‘å±•ï¼Œè½¨é“æµ‹åœ°å­¦å‰ä¸å»ºé€ ï¼Œå¤ªç©ºåˆ¶é€ å‰ç”Ÿç‰©å®éªŒå®¤ä¼˜å…ˆçº§é™ä½","summary.auto.blackCore":"æ´»ç¥­ä¹‹çŒ«çš„é»‘ä¹‹æ ¸å¿ƒä¸æ˜¯ç‰¹åˆ«é€‚åˆå‘","summary.auto.bls":"å°çŒ«å­˜çœ¼æ³ªå‡†å¤‡æ…æ‹Œè¿™æ‚²ä¼¤çš„æ¶²ä½“","summary.auto.biology":"å“å‘¦ï¼Œåªå› ä½ é•æœ‰é’›ï¼Œè·³è¿‡å›°éš¾çš„ç”Ÿç‰©å­¦","summary.auto.broadcastTower":"å°çŒ«çŸ¥é“ä½ ç¼ºé’›ï¼Œç­‰é’›ä¸Šé™æ—¶æ‰ä¼šå»ºé€ æ›´å¤šçš„å¹¿æ’­å¡”","summary.auto.caravanserai":"å‚¨å­˜é»„é‡‘ä¸ºäº†å•†é˜Ÿé©¿ç«™ã€‚~æ‰“è´¥æ–‘é©¬çš„ç¬¬ä¸€æ­¥","summary.auto.changeLeader":"åŒæ—¶å‹¾é€‰ææ‹”é¢†è¢–å°çŒ«ã€å–µå–µç®¡ç†ã€åˆ†é…é¢†è¢–ï¼Œå°å–µæœåŠ¡æ—¶è‡ªä¼šåŠ¨åˆ‡æ¢å¯¹åº”é¢†è¢–ç‰¹è´¨ï¼Œå‘å±•ä¼šå¿«å¾ˆå¤šçš„å–µ<br>ç§‘å­¦å’Œå·¥åŠå‡çº§æ¢åˆ°ç§‘å­¦å®¶é¢†è¢–ï¼Œæ¯”å¦‚ç¥å­¦çš„ç§‘å­¦ä»·æ ¼å˜ä¸º19Kç­‰ç­‰","summary.auto.craftCatnip":"å‘å‘å‘ï¼Œä½ ä¹Ÿä¸æƒ³è®©å¯’å†¬æ—¶å°å–µé¥¿æ­»å§ï¼Ÿå–µç²®ä¸Šäº¤","summary.auto.craftLimited":"æ¯æ¬¡è¿è¡Œéƒ½ä¼šåˆæˆå·¥è‰º(å³æ— è§†è§¦å‘æ¡ä»¶)ï¼Œæ•°é‡AIè‡ªåŠ¨ã€‚æŒ‚æœºå‘å±•é€Ÿåº¦ä¼šè¿œå¤§äºè§¦å‘æ¡ä»¶çš„ã€‚","summary.auto.crossbow":"é“å½“ç„¶æ˜¯è¦æ¥ç”¨æ¥æ”¹è‰¯å¼©ï¼Œå–µç”¨å–µè¯´å¥½","summary.auto.concreteHuts":"å†å¤šé—®æ–‘é©¬è¦äº¿ç‚¹ç‚¹é’›ï¼Œå°±èƒ½ä½ä¸Šæ··å‡åœŸå°å±‹äº†","summary.auto.defaultPriest":"é»˜è®¤æ— é™åˆ¶ç‰§å¸ˆï¼Œå¦‚éœ€è¦é™åˆ¶è¯·æ›´æ”¹max","summary.auto.drama":"å–µåŠ›äº§é‡ä½ï¼Œç¾Šçš®çº¸åº“å­˜ä½ï¼Œèªæ˜çš„å°çŒ«å°±ä¸å‹¾æ å¬æ›²å•¦","summary.auto.factory":"æœ‰äº†æ›´å¤šé’›çš„åï¼Œå°çŒ«ä¸‹æ¬¡ä¸€å®šé€ å·¥å‚","summary.auto.geologist":"é»„é‡‘å’Œç…¤æœ‰ç‚¹ç¼ºï¼Œå°±å¤šäº†äº¿ç‚¹ç‚¹æ¬ç –çš„åœ°è´¨å­¦å®¶","summary.auto.harbor":"æ¸¯å£éœ€è¦çš„é‡‘å±æ¿å¤ªå¤šï¼Œå°çŒ«ä¼šå°‘é€ äº¿ç‚¹ç‚¹(ä¸€å®šæ˜¯æ–‘é©¬çš„é˜´è°‹","summary.auto.hunter":"æœªå‘æ˜å¼©å’Œå¯¼èˆªå­¦ï¼Œå°çŒ«å½“çŒäººæ¬²æœ›é™ä½","summary.auto.ironFactory":"å¦‚æœé’¢çš„åˆæˆæ•°é‡åå°‘ï¼Œæ¨èå…³é—­ç……çƒ§ç‚‰çš„è‡ªåŠ¨åŒ–","summary.auto.ironwood":"å–µå–µå–µæŠŠé“æ”¶èµ·æ¥ï¼Œå¸Œæœ›ä½ä¸Šå‘å¾€çš„é“æœ¨å°å±‹","summary.auto.keepGold":"çŒ«çŒ«åªæ˜¯æƒ³å½“ä¸ªå®ˆè´¢å¥´ï¼Œç¥æ®¿ã€é“¸å¸å‚ï¼Œå†ç­‰ç­‰çŒ«çŒ«ç±³å¤šç‚¹","summary.auto.kittens":"è®¡åˆ’ç”Ÿè‚²! çŒ«ç²®äº§é‡ä¸å¤Ÿäº† ovo","summary.auto.ksHelp":"ä¸ºäº†æ¸¸æˆå¯ç©æ€§ï¼Œæ²¡æœ‰ç»™èŒæ–°å¼€æ”¾è¿‡å¤šæ™ºèƒ½é¡¹ç›®ï¼Œ<br>ä½ ç‚¹ç‚å­¦å®¶è¿™äº›æŒ‰é’®æ²¡ç”¨æï¼Œå› ä¸ºæˆ‘åªæ˜¯ä¸€åªçŒ«ï¼Œè‡ªå·±å¤šç‚¹ç‚¹æ¸¸æˆæ<br>éšç€çŒ«çŒ«çš„å‘å±•ç‚å­¦å®¶åˆå§‹è®¾ç½®å¥½é»˜è®¤é…ç½®ä¸‹ä¼šè¶Šæ¥è¶Šæ™ºèƒ½å¿«é€Ÿæ•ˆç‡å–µ","summary.auto.ksHelp2":"å¦‚æœ‰ä½ ç‰¹æ„æƒ³ç‚¹çš„é¡¹ç›®å¯ä»¥åœ¨ å·¥è‰º => èµ„æº => åº“å­˜,æ¯”å¦‚é‡ç½®å‰è¦ç‚¹çŒ«å£å»ºç­‘è®¾ç½®æœ¨æ 100K,å°±ä¼šæ°¸è¿œç•™100Kçš„æœ¨æè®©ä½ æ‰‹ç‚¹","summary.auto.ksHelp3":"ä¸æ›´æ”¹ä»»ä½•è®¾ç½®ä¸‹ï¼Œé»˜è®¤é…ç½®çº¯è‡ªåŠ¨å¤§æ¦‚300å¹´å·¦å³ 130çŒ«å£ + æ–°çº¦å¤–ä¼ ","summary.auto.ksHelp4":"å°çŒ«æ‚é¡¹é‡Œ => æ¢å¤åˆå§‹é…ç½®ï¼Œåªéœ€å¤–é¢å¤§é¡¹ç›®å°±å¯ä»¥ç”¨åˆ°æ¯•ä¸šï¼Œæƒ³å‘å±•æ…¢ä¸€ç‚¹çš„è¯å°±è‡ªå·±æ”¹ä¸‹è®¾ç½®","summary.auto.lag":"å–µå–µç –å®¶æç¤ºä½ ï¼Œç‡ƒçƒ§æ—¶é—´æ°´æ™¶ï¼šåªè¦ä¸æŒ‚åœ¨å‰å°è¯·åŠ¡å¿…æ‰“å¼€åå°ç‚å­¦å®¶<br>æœ€å¥½ä¸è¦è®¾ç½®å·¥ç¨‹å¸ˆã€åœ¨æŒ‘æˆ˜é¡µé¢æŒ‚æœºå¯ä»¥å‡å°‘å¡é¡¿","summary.auto.leader":"å–µå–µè‡ªè§‰é¡¶æ›¿é¢†è¢–ï¼Œåšç‰¹è´¨ç›¸å…³é¡¹ç›®ã€‚ï¼ˆé¢†è¢–ç‰¹è´¨çš„å…·ä½“æ•ˆæœå¯ä»¥å‚è€ƒå³ä¸‹è§’ï¼šç™¾ç§‘-æ¸¸æˆæ ‡ç­¾-æ‘åº„-çŒ«å£æ™®æŸ¥ï¼‰","summary.auto.leaderGold":"çŒ«çŒ«é¢†è¢–è´ªæ±¡ç‚¹é»„é‡‘è‡ªç”¨ï¼Œæ°ªé‡‘å°±èƒ½å˜å¼º","summary.auto.leaderPriest":"å·²ç»æ˜¯æˆç†Ÿçš„å°çŒ«äº†ï¼Œè¯¥å­¦ä¼šå¥½å¥½å¿µç»äº†ï¼Œé¢†è¢–èŒä¸šæ”¹ä¸ºç‰§å¸ˆ","summary.auto.logHouse":"ä¸ºäº†å–µå–µçš„å¹¸ç¦ï¼Œéœ€è¦æ›´å¤šå‰§åœºæ¥ä¸Šæ¼”[æ‰€æœ‰çš„ç‹—å»å¤©å ‚]çš„èŠ‚ç›®","summary.auto.logHouseMineral":"å­˜ç‚¹çŸ¿ç‰©ç‚¹æœ¨å±‹","summary.auto.lower":"æœªç ”ç©¶è½¨é“æµ‹åœ°å­¦ï¼Œå°çŒ«æ˜¯æ‡‚å‘å±•çš„ï¼Œæ•…é™ä½ç‰§åœºã€æ°´æ¸ ã€å›¾ä¹¦é¦†ã€ç ”ç©¶é™¢ã€ç²®ä»“ã€æ¸¯å£ã€æ²¹äº•ã€ä»“åº“çš„ä¼˜å…ˆåº¦","summary.auto.lumberMill":"å–µå–µè§‰å¾—æœ¨å¤´å·²ç»å‘å±•å¥½äº†ï¼Œå‡å°‘æœ¨æå‚çš„å»ºé€ ","summary.auto.magnetos":"ä¹Ÿè®¸æ²¡æœ‰çŸ³æ²¹äº†å¯¼è‡´ç£ç”µæœºè‡ªåŠ¨å…³æœºï¼Œå°çŒ«è¿˜æ˜¯é€‰æ‹©æ‰“å¼€äº†å®ƒ","summary.auto.marker":"æ²¡æœ‰é»‘é‡‘å­—å¡”å°çŒ«æ‹’ç»äº†ç¥å°çš„å»ºé€ ","summary.auto.mansion":"å°çŒ«ä¸ºäº†èŠ‚çœé’›å’Œé’¢ç”¨æ¥å‘å±•ï¼Œå®…é‚¸ä¼˜å…ˆåº¦é™ä½ï¼ˆ2å€å¤šèµ„æºï¼‰","summary.auto.miningDrill":"æ¥ç‚¹é’¢ï¼Œåœ°è´¨å­¦å®¶ä¼šå‡ºæ‰‹","summary.auto.moonBase":"éš¾å¾—ç´ ~ç”·å¾·ç´ å­˜åˆ°80%ï¼Œå°çŒ«æ‰ä¼šæœ‰åŠ›æ°”é€ æœˆçƒåŸºåœ°","summary.auto.nanotechnology":"å­˜ç‚¹è“å›¾ï¼Œå–µå–µå¯èƒ½è¦è¿›åŒ–æˆçº³ç±³æœºå™¨çŒ«äº†","summary.auto.oilTick":"å°çŒ«æ˜¯æ‡‚çŸ³æ²¹çš„ï¼Œæ§åˆ¶çŸ³æ²¹å¹³è¡¡æš‚æ—¶ä¸é€ ç……çƒ§ç‚‰äº†","summary.auto.oxidation":"åˆ«æ€¥ï¼Œä½ å…ˆåˆ«æ€¥ï¼Œå°çŒ«ä¸ºäº†æ°§åŒ–ååº”æŠŠé’¢å…¨å­˜èµ·æ¥äº†","summary.auto.parchment":"è¿˜æœªæ„Ÿæ‚Ÿåˆ°åœ°è´¨å­¦ï¼Œå°çŒ«å’ªç”¨ä¸äº†é‚£ä¹ˆå¤šæ¯›çš®ï¼Œæ¯›çš®å­˜èµ·æ¥äº†","summary.auto.pasture":"å–µå–µå–µå«Œå¼ƒäº†ç‰§åœºï¼Œæœ¨æè¿˜æ˜¯ç”¨æ¥å‘å±•çš„å¥½ï¼ˆçœŸçš„æ˜¯æœ€å1ä¸ªäº†","summary.auto.physics":"è‰ºæœ¯çŒ«å’ªè§‰å¾—ç‰©ç†å­¦æ•‘ä¸äº†çŒ«å’ª","summary.auto.railgun":"å–µå–µæƒ³ç”¨ç”µç£ç‚®äº†ï¼Œå°±å¤šäº†äº¿ç‚¹ç‚¹çŒäºº","summary.auto.religion":"å¤§æ•™å ‚å‰ç»§ç»­é™åˆ¶ç¥æ®¿å’Œäº¤æ˜“æ‰€","summary.auto.reinforcedSaw":"ç”¨é“ç»™æœ¨æå‚å‡çº§æ¢æˆåŠ å¼ºé”¯ï¼Œæ›´åŠ é”‹åˆ©çš„æ","summary.auto.rotaryKiln":"çŒ«çŒ«çœ‹ä¸Šäº†<s>å›è½¬ç‚‰</s>? å‡è‚¥æ—‹è½¬æ»šè½®!","summary.auto.sattelite":"å°çŒ«è¶³å¤Ÿè™”è¯šï¼Œäºæ˜¯ä¼šå…ˆé€ å«æ˜Ÿå›å›è¡€","summary.auto.scholar":"ç§‘å­¦äº§é‡å¯èƒ½æœ‰ç‚¹ä¸å¤Ÿï¼Œå­¦è€…çŒ«å’ªæ•°é‡ä¸Šé™å¢åŠ ~","summary.auto.scienceBld":"å¤©æ–‡å°ã€ç ”ç©¶é™¢ã€ç”Ÿç‰©å®éªŒå®¤ç§‘å­¦ä¸Šé™å¿«æ»¡äº†æ‰ä¼šå»ºé€ ","summary.auto.ship":"æ–‘é©¬çš„å±ˆæœç¬¬äºŒæ­¥ï¼Œå°ç›®æ ‡:å…ˆåˆ¶ä½œ {0} ä¸ªè´¸æ˜“èˆ¹<br>âŠ‚(â€˜Ï‰â€™âŠ‚ ),æ–‘é©¬æ‹¿é“è¾…æ–™é’›","summary.auto.shipGeodesy":"å°çŒ«å—…åˆ°äº†â™¡é»„â™¡é‡‘â™¡ã®â™¡å‘³â™¡é“â™¡å‘ ^ Ï‰ ^ï¼Œæ¥ç‚¹èˆ¹èˆ¹æŠ„æ–‘é©¬çš„å®¶","summary.auto.smelter":"å†¶ç‚¼ä¸“ç²¾çš„å°çŒ«ä¼šæ ¹æ®æœ¨æå’ŒçŸ¿ç‰©äº§é‡æ¥æ§åˆ¶ç†”ç‚‰ä¸Šé™","summary.auto.spaceStation":"é»‘æš—å¤©ç©ºä¼šç¼ºç”µï¼Œå°çŒ«è´´å¿ƒæ›¿ä½ ç‚¹äº†å…³é—­ç©ºé—´ç«™(è®°å¾—åˆ é™¤æ—¶é—´æ°´æ™¶åº“å­˜)","summary.auto.spaceStationStar":"å°çŒ«å’ªå†ç­‰ç­‰äº¿ç‚¹ç‚¹æ—¶é—´å°±ä¼šé€ ç©ºé—´ç«™äº†ï¼Œå°çŒ«æ˜¯æ‡‚æ˜Ÿå›¾çš„","summary.auto.spaceTrigger":"ä¸ºäº†æ˜Ÿå›¾ï¼Œæ˜Ÿå›¾å¾—ç•™ç»™æ¢ç´¢ç¢§æ± æ˜Ÿ","summary.auto.spaceZero":"çŒ«çŒ«å°åŠ©æ‰‹æç¤º: å¤ªç©ºè§¦å‘æ¡ä»¶ä¸º0æ—¶ï¼Œä¼šå˜èªæ˜å“¦","summary.auto.steamworks":"å°çŒ«æ›°ï¼šè’¸æ±½å·¥æˆ¿è¦ä¸ç£ç”µæœºæˆåŒæˆå¯¹","summary.auto.steelAxe":"å­˜ç€é’¢æ¢ä¸ªå–µå–µè‡ªç”¨çš„ç²¾é’¢æ–§","summary.auto.steelSaw":"å°å–µå­˜ç€é’¢ç»™æœ¨æå‚æ¢ç²¾é’¢é”¯ï¼Œæ›´åŠ é”‹åˆ©äº†å–µ","summary.auto.templars":"æ²¡æœ‰è¶³å¤Ÿçš„é»„é‡‘å’Œé“äº§é‡æ‹¿ä»€ä¹ˆç¥·å‘Šåœ£æ®¿éª‘å£«å‘¢","summary.auto.temple":"ç¥·å‘Šå¤ªé˜³é©å‘½åæ‰ä¼šå»ºé€ ç¥æ®¿ï¼ŒçœŸçš„ä¸æ˜¯å·æ‡’å–µ","summary.auto.titaniumGeodesy":"å°çŒ«æ‰“è´¥æ–‘é©¬çš„æœ€åä¸€æ­¥ï¼Œå­˜ç€é’›ç‚¹æµ‹åœ°å­¦ã€‚","summary.auto.tradepost":"ç¥·å‘Šå¤ªé˜³é©å‘½å‰ï¼Œäº¤æ˜“æ‰€çš„å»ºè®¾å¼€æ‘† â‰§Ï‰â‰¦","summary.auto.tear":"å°å–µéƒ½åšäº†ä»€ä¹ˆ?! ç‹¬è§’å…½çš„çœ¼æ³ªåŠ å°çŒ«å¹¸ç¦åº¦çš„æ","summary.auto.unicorn":"æœ€ä½³ç‹¬è§’å…½å»ºç­‘ï¼š{0}","summary.auto.upgPasture":"å½“å‹¾é€‰å¤ªé˜³èƒ½å‘ç”µç«™äº†ï¼Œå¹¶é’›çˆ†ä»“ã€ä¸”ç¼ºç”µã€ä¸”çŒ«è–„è·äº§é‡è¶³å¤Ÿé«˜æ—¶ï¼Œå°çŒ«ä¼šè´´å¿ƒçš„å¸®ä½ å–å‡ºå…¨éƒ¨ç‰§åœºåï¼Œå‡çº§å¤ªé˜³èƒ½å‘ç”µç«™!","summary.auto.upgAqueduct":"å½“å‹¾é€‰æ°´ç”µç«™äº†ï¼Œæœ‰å¤ªé˜³èƒ½å‘ç”µç«™ã€ä¸”ç¼ºç”µã€ä¸”çŒ«è–„è·äº§é‡è¶³å¤Ÿé«˜æ—¶ï¼Œå°çŒ«ä¼šè´´å¿ƒçš„å¸®ä½ å–å‡ºå…¨éƒ¨æ°´æ¸ åï¼Œå‡çº§æ°´ç”µç«™!","summary.auto.upgLibrary":"å½“å‹¾é€‰æ•°æ®ä¸­å¿ƒäº†ï¼Œæ¦‚è¦æ•°é‡å¤§äº 150Xå›¾ä¹¦é¦†æ•°é‡ æ—¶ï¼Œå°çŒ«ä¼šè´´å¿ƒçš„å¸®ä½ å–å‡ºå…¨éƒ¨å›¾ä¹¦é¦†åï¼Œå‡çº§æ•°æ®ä¸­å¿ƒ!","summary.auto.upgAmphitheatre":"å½“æœ‰è´¸æ˜“èˆ¹æˆ–è€…é’›äº§é‡è¶³å¤Ÿé«˜æ—¶ï¼Œå°çŒ«ä¼šè´´å¿ƒçš„å¸®ä½ å–å‡ºå…¨éƒ¨å‰§åœºåï¼Œå‡çº§å¹¿æ’­å¡”!","summary.auto.workshop":"å·¥åŠåªæ˜¯è§£é”å‡çº§çš„ çŒ«ç©å…·ç½¢äº†ï¼Œç°åœ¨å°çŒ«åªæ„¿æ„é€ 1ä¸ªå·¥åŠå“¦","summary.auto.debug":"{0}","summary.upgrade.building.pasture":"å–å‡ºç‰§åœº å¹¶å‡çº§ä¸º å¤ªé˜³èƒ½å‘ç”µç«™ !","summary.upgrade.building.aqueduct":"å–å‡ºæ°´æ¸  å¹¶å‡çº§ä¸º æ°´ç”µç«™ !","summary.upgrade.building.library":"å–å‡ºå›¾ä¹¦é¦† å¹¶å‡çº§ä¸º æ•°æ®ä¸­å¿ƒ!","summary.upgrade.building.amphitheatre":"å–å‡ºå‰§åœº å¹¶å‡çº§ä¸º å¹¿æ’­å¡”!","summary.resource":"å°çŒ«è‡ªåŠ¨è°ƒæ•´èµ„æº: {0} çš„æ¶ˆè€—ç‡","summary.moon":"å°çŒ«åœåœ¨çº¢æœˆå‘¨æœŸæ•£çƒ­ {0} æ¬¡","summary.time.skip.moon":"ç”±äºç‡ƒçƒ§æ—¶é—´æ°´æ™¶æ”¯å‡ºå¤§äºæ”¶å…¥ï¼Œåœç•™åœ¨çº¢æœˆå‘¨æœŸ {0} æ¬¡! (å¯ä»¥è·å¾—æ›´å¤šçš„éš¾å¾—ç´ )","summary.blackcoin.buy":"å°çŒ«å‡ºå”®é—ç‰©å¹¶ä¹°å…¥ {0} æ¬¡é»‘å¸","summary.blackcoin.sell":"å°çŒ«å‡ºå”®é»‘å¸å¹¶ä¹°å…¥äº† {0} æ¬¡é—ç‰©","summary.accelerator":"ç”µé‡å¯„äº†ï¼Œå¤§æ¦‚åªæœ‰åŠ é€Ÿå™¨èƒ½å…³é—­äº†ï¼ˆä¸ä¼šå½±å“åº“å­˜","summary.catnip":"å‘ï¼Œä½ çš„çŒ«çŒ«æ²¡æœ‰çŒ«è–„è·å¸å¹¶å¼ºåˆ¶åˆ†é… {0} ä¸ªå†œæ°‘","summary.calciner":"å°çŒ«å› ä¸ºä½ å·¥åŠå‡çº§äº†é’¢é“å·¥å‚ï¼Œæ•…å…³é—­äº†ç……çƒ§ç‚‰è‡ªåŠ¨åŒ–ï¼ˆå…¶æ•ˆæœé“å’Œç…¤è½¬åŒ–é’¢æ²¡æœ‰100%~å…·ä½“å³ä¸‹è§’å‚è€ƒç™¾ç§‘ï¼‰ï¼ˆå¥¹çœŸçš„å¥½æ¸©æŸ”ï¼ŒğŸ˜­ï¼‰","summary.mint":"ç§‹æ¢¨è†åˆ«å¼€é“¸å¸å‚äº†ï¼ˆå…¶è½¬åŒ–æ•ˆç‡ä¸å–µåŠ›ä¸Šé™æœ‰å…³ï¼Œæ‰“çŒä¼šè·å¾—æ›´å¤šçš„æ¯›çš®ï¼Œå…·ä½“å³ä¸‹è§’å‚è€ƒç™¾ç§‘ æ¸¸æˆæ ‡ç­¾-å…¶å®ƒå»ºç­‘-é“¸å¸å‚ï¼‰","summary.pumpjack":"å°çŒ«æ‹…å¿ƒå†¬å­£ç”µä¸å¤Ÿå¹¶å…³é—­äº† {0} æ¬¡æ²¹äº•è‡ªåŠ¨åŒ–","summary.biolab":"å°çŒ«æ‹…å¿ƒå†¬å­£ç”µä¸å¤Ÿå¹¶å…³é—­äº† {0} ä¸ªç”Ÿç‰©å®éªŒå®¤(å…³äº†åç§‘å­¦ä¸Šé™å’Œç§‘å­¦åŠ æˆè¿˜ä¼šåŠ æˆ)","summary.biolab.test":" {0} ä¸ªç”Ÿç‰©å®éªŒå®¤(éå¸¸æ²¡ç”¨çš„å·¥åŠå‡çº§)","summary.temporalAccelerator":"å°çŒ«æ‹…å¿ƒå¡é¡¿æ‰“å¼€äº†æ—¶ç©ºåŠ é€Ÿå™¨çš„è‡ªåŠ¨åŒ–","summary.reactor":"å°çŒ«å‘ååº”å †æŠ•å…¥äº†é“€å¼€å§‹å‘å…‰å‘ï¼Œèµ„æºäº§é‡å˜å¤šäº†","summary.factory":"å°çŒ«ä¸ºäº†ç©ºé—´çš„å‘å±•ï¼ŒæŠŠå·¥å‚å…¨éƒ¨å¯ç”¨å‘","summary.steamworks":"å°çŒ«å‘è’¸æ±½å·¥æˆ¿åŠ äº†ç…¤å¼€å§‹æ’è’¸æ±½å‘ï¼Œèµ„æºäº§é‡å˜å¤šäº†","summary.breweryOn":"å·²ä¸¾åŠæ–‡åŒ–èŠ‚ï¼Œå–µæ˜Ÿäººé‡æ–°æ‰“å¼€äº†é…¿é…’å‚~å—","summary.breweryOff":"èŠ‚æ—¥æˆ–è€…é¦™æ–™æ²¡å‘ï¼Œå°çŒ«æ‹’å¥¢å®ˆä¿­ï¼Œæš‚æ—¶å…³é—­äº†é…¿é…’å‚","summary.brewery":"å°çŒ«æ ¹æ®èŠ‚æ—¥è°ƒæ•´äº† {0} æ¬¡é…¿é…’å‚","summary.chronocontrolOn":"å°çŒ«å¼€å¯äº†æ—¶é—´æ“çºµå»¶é•¿æ—¶é—´æ‚–è®ºçš„æŒç»­å¤©æ•°","summary.chronocontrolOff":"å°çŒ«å…³é—­äº†æ—¶é—´æ“çºµèŠ‚çœç”µåŠ›","summary.chronocontrol":"å°çŒ«æ ¹æ®æ—¶é—´æ‚–è®ºè°ƒæ•´äº† {0} æ¬¡æ—¶é—´æ“çºµ","summary.festival":"ä¸¾åŠäº† {0} æ¬¡èŠ‚æ—¥å–µ","summary.stars":"è§‚æµ‹äº† {0} æ¬¡å¤©æ–‡äº‹ä»¶","summary.praise":"èµç¾å¤ªé˜³äº† {0} æ¬¡ï¼Œå…±ç§¯ç´¯äº† {1} è™”è¯š","summary.hunt":"æ´¾å‡ºäº† {0} æ‰¹å¯çˆ±çš„å°çŒ«","summary.hunt.manager":"ç®¡ç†è€…é¢†è¢–æ´¾å‡ºäº† {0} æ‰¹å¯çˆ±çš„å°çŒ«","summary.embassy":"è®¾ç«‹äº† {0} ä¸ªå¤§ä½¿é¦†","summary.feed":"å‘åˆ©ç»´å¦çŒ®ç¥­ {0} åªæ­»çµå…½","summary.tech":"{0}","summary.upgrade":"{0}","summary.build":"å»ºé€ äº† {0} ä¸ª {1}","summary.faith":"{1} {0} æ¬¡","summary.craft":"åˆ¶ä½œäº†{0} ä¸ª {1}","summary.craftLeader":"å·¥åŒ åˆ¶ä½œäº† {0} ä¸ª {1}","summary.craftManuscript":"å°çŒ«å·å·ä½¿ç”¨äº† {0} æ¬¡ææ–™åˆæˆæ‰‹ç¨¿ï¼Œä¸ºäº†ç§‘å­¦","summary.craftCompedium":"å°çŒ«å·å·ä½¿ç”¨äº† {0} æ¬¡ææ–™åˆæˆæ¦‚è¦ï¼Œä¸ºäº†ç§‘å­¦","summary.craftBlueprint":"å°çŒ«å·å·ä½¿ç”¨äº† {0} æ¬¡ææ–™åˆæˆè“å›¾ï¼Œä¸ºäº†ç§‘å­¦","summary.trade":"{1} è´¸æ˜“äº† {0} æ¬¡","summary.year":"å¹´","summary.years":"å¹´","summary.separator":" ","summary.day":"å¤©","summary.days":"å¤©","summary.head":"ä½ é†’å•¦ï¼Œçœ‹çœ‹ä½ çš„çŒ«å›½è¿‡å» {0} çš„æ€»ç»“","summary.show":"å°çŒ«æ€»ç»“"}};const ee=function(e,t){if(e[0]==="$"){return $I(e.slice(1))}let a=q["zh"][e];if(typeof a==="undefined"){if(!oe("debug")){game.msg(e)}}if(t){for(let e=0;e<t.length;e++){a=a.replace("{"+e+"}",t[e])}}return a};const te={debug:false,interval:2e3,msgcolor:"#aa50fe",summarycolor:"#009933",activitycolor:"#E65C00",stockwarncolor:"#DD1E00",copyTrait:false,countdown:120,renderTime:0,consume:.6,auto:{engine:{enabled:false},unicorn:{items:{unicornPasture:{require:false,enabled:true,variant:"zp",label:ee("$buildings.unicornPasture.label"),checkForReset:true,triggerForReset:-1},unicornTomb:{require:false,enabled:true,variant:"z",label:ee("$religion.zu.unicornTomb.label"),checkForReset:true,triggerForReset:-1},ivoryTower:{require:false,enabled:true,variant:"z",label:ee("$religion.zu.ivoryTower.label"),checkForReset:true,triggerForReset:-1},ivoryCitadel:{require:false,enabled:true,variant:"z",label:ee("$religion.zu.ivoryCitadel.label"),checkForReset:true,triggerForReset:-1},skyPalace:{require:false,enabled:true,variant:"z",label:ee("$religion.zu.skyPalace.label"),checkForReset:true,triggerForReset:-1},unicornUtopia:{require:"gold",enabled:true,variant:"z",label:ee("$religion.zu.unicornUtopia.label"),checkForReset:true,triggerForReset:-1},sunspire:{require:"gold",enabled:true,variant:"z",label:ee("$religion.zu.sunspire.label"),checkForReset:true,triggerForReset:-1}}},faith:{enabled:false,trigger:0,transcendCatnip:0,adoreCatnip:0,addition:{bestUnicornBuilding:{enabled:true,misc:true,label:ee("option.faith.best.unicorn"),confirm:0},autoPraise:{enabled:true,misc:true,label:ee("option.praise"),subTrigger:.98,msg:0,time:0,expect:0},adore:{enabled:true,misc:true,label:ee("option.faith.adore"),subTrigger:.001},transcend:{enabled:true,misc:true,label:ee("option.faith.transcend")}},items:{marker:{require:"unobtainium",enabled:false,max:75,variant:"z",checkForReset:true,triggerForReset:-1},unicornGraveyard:{require:false,enabled:false,max:-1,variant:"z",checkForReset:true,triggerForReset:-1},unicornNecropolis:{require:false,enabled:false,max:-1,variant:"z",checkForReset:true,triggerForReset:-1},blackPyramid:{require:"unobtainium",enabled:true,max:-1,variant:"z",checkForReset:true,triggerForReset:-1},solarchant:{require:"faith",enabled:true,max:-1,variant:"s",checkForReset:true,triggerForReset:-1},scholasticism:{require:"faith",enabled:true,max:3,variant:"s",checkForReset:true,triggerForReset:-1},goldenSpire:{require:"faith",enabled:true,max:-1,variant:"s",checkForReset:true,triggerForReset:-1},sunAltar:{require:"faith",enabled:true,max:-1,variant:"s",checkForReset:true,triggerForReset:-1},stainedGlass:{require:"faith",enabled:true,max:1,variant:"s",checkForReset:true,triggerForReset:-1},solarRevolution:{require:"faith",enabled:true,max:1,variant:"s",checkForReset:true,triggerForReset:-1},basilica:{require:"faith",enabled:true,max:5,variant:"s",checkForReset:true,triggerForReset:-1},templars:{require:"faith",enabled:true,max:6,variant:"s",checkForReset:true,triggerForReset:-1},apocripha:{require:"faith",enabled:true,max:1,variant:"s",checkForReset:true,triggerForReset:-1},transcendence:{require:"faith",enabled:true,max:1,variant:"s",checkForReset:true,triggerForReset:-1},blackObelisk:{require:true,enabled:false,max:-1,variant:"c",checkForReset:true,triggerForReset:-1},blackNexus:{require:true,enabled:false,max:54,variant:"c",checkForReset:true,triggerForReset:-1},blackCore:{require:true,enabled:true,max:-1,variant:"c",checkForReset:true,triggerForReset:-1},singularity:{require:false,enabled:false,max:-1,variant:"c",checkForReset:true,triggerForReset:-1},blackLibrary:{require:false,enabled:false,max:0,variant:"c",checkForReset:true,triggerForReset:-1},blackRadiance:{require:false,enabled:false,max:-1,variant:"c",checkForReset:true,triggerForReset:-1},blazar:{require:false,enabled:false,max:40,variant:"c",checkForReset:true,triggerForReset:-1},darkNova:{require:false,enabled:false,max:-1,variant:"c",checkForReset:true,triggerForReset:-1},holyGenocide:{require:false,enabled:false,max:-1,variant:"c",checkForReset:true,triggerForReset:-1}}},build:{enabled:false,trigger:0,items:{field:{require:"catnip",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},workshop:{require:"minerals",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},hut:{require:"wood",enabled:false,max:-1,checkForReset:true,triggerForReset:-1},logHouse:{require:"minerals",enabled:false,max:-1,checkForReset:true,triggerForReset:-1},mansion:{require:"titanium",enabled:false,max:-1,checkForReset:true,triggerForReset:-1},steamworks:{require:false,enabled:true,max:-1,checkForReset:true,triggerForReset:-1},magneto:{require:false,enabled:true,max:-1,checkForReset:true,triggerForReset:-1},reactor:{require:"titanium",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},smelter:{require:"minerals",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},calciner:{require:"titanium",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},mine:{require:"wood",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},lumberMill:{require:"minerals",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},oilWell:{require:"coal",enabled:true,max:200,checkForReset:true,triggerForReset:-1},factory:{require:"titanium",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},observatory:{require:"iron",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},biolab:{require:"science",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},library:{require:"wood",enabled:true,max:-1,stage:0,checkForReset:true,triggerForReset:-1},dataCenter:{require:false,enabled:true,max:150,stage:1,name:"library",checkForReset:true,triggerForReset:-1},academy:{require:"wood",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},pasture:{require:"catnip",enabled:true,max:150,stage:0,checkForReset:true,triggerForReset:-1},solarFarm:{require:"titanium",enabled:true,max:-1,stage:1,name:"pasture",checkForReset:true,triggerForReset:-1},aqueduct:{require:"minerals",enabled:true,max:250,stage:0,checkForReset:true,triggerForReset:-1},hydroPlant:{require:"titanium",enabled:true,max:-1,stage:1,name:"aqueduct",checkForReset:true,triggerForReset:-1},amphitheatre:{require:"minerals",enabled:true,max:60,stage:0,checkForReset:true,triggerForReset:-1},broadcastTower:{require:"titanium",enabled:true,max:-1,stage:1,name:"amphitheatre",checkForReset:true,triggerForReset:-1},quarry:{require:false,enabled:true,max:300,checkForReset:true,triggerForReset:-1},chapel:{require:"minerals",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},temple:{require:"gold",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},mint:{require:"gold",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},tradepost:{require:"gold",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},ziggurat:{require:false,enabled:true,max:110,checkForReset:true,triggerForReset:-1},chronosphere:{require:"unobtainium",enabled:false,max:-1,checkForReset:true,triggerForReset:-1},aiCore:{require:false,enabled:false,max:-1,checkForReset:true,triggerForReset:-1},brewery:{require:false,enabled:true,max:-1,checkForReset:true,triggerForReset:-1},barn:{require:"wood",enabled:true,max:15,checkForReset:true,triggerForReset:-1},harbor:{require:false,enabled:true,max:200,checkForReset:true,triggerForReset:-1},warehouse:{require:false,enabled:true,max:200,checkForReset:true,triggerForReset:-1},accelerator:{require:"titanium",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},zebraOutpost:{require:"bloodstone",enabled:false,max:-1,checkForReset:true,triggerForReset:-1},zebraWorkshop:{require:"bloodstone",enabled:false,max:-1,checkForReset:true,triggerForReset:-1},zebraForge:{require:"bloodstone",enabled:false,max:-1,checkForReset:true,triggerForReset:-1}}},space:{enabled:false,trigger:0,items:{spaceElevator:{require:"unobtainium",enabled:true,max:110,checkForReset:true,triggerForReset:-1},sattelite:{require:"titanium",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},spaceStation:{require:"oil",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},moonOutpost:{require:"uranium",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},moonBase:{require:"unobtainium",enabled:true,max:140,checkForReset:true,triggerForReset:-1},planetCracker:{require:"science",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},hydrofracturer:{require:"science",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},spiceRefinery:{require:"science",enabled:false,max:-1,checkForReset:true,triggerForReset:-1},researchVessel:{require:"titanium",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},orbitalArray:{require:"science",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},sunlifter:{require:"science",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},containmentChamber:{require:"science",enabled:false,max:-1,checkForReset:true,triggerForReset:-1},heatsink:{require:false,enabled:false,max:-1,checkForReset:true,triggerForReset:-1},sunforge:{require:false,enabled:false,max:-1,checkForReset:true,triggerForReset:-1},cryostation:{require:"eludium",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},spaceBeacon:{require:"antimatter",enabled:true,max:50,checkForReset:true,triggerForReset:-1},terraformingStation:{require:"antimatter",enabled:false,max:0,checkForReset:true,triggerForReset:-1},hydroponics:{require:"kerosene",enabled:false,max:0,checkForReset:true,triggerForReset:-1},hrHarvester:{require:"antimatter",enabled:false,max:-1,checkForReset:true,triggerForReset:-1},entangler:{require:"antimatter",enabled:true,max:-1,checkForReset:true,triggerForReset:-1},tectonic:{require:"antimatter",enabled:false,max:-1,checkForReset:true,triggerForReset:-1},moltenCore:{require:"uranium",enabled:false,max:-1,checkForReset:true,triggerForReset:-1}}},time:{enabled:false,trigger:0,items:{temporalBattery:{require:false,enabled:false,max:0,variant:"chrono",checkForReset:true,triggerForReset:-1},blastFurnace:{require:false,enabled:true,max:-1,variant:"chrono",checkForReset:true,triggerForReset:-1},timeBoiler:{require:false,enabled:false,max:0,variant:"chrono",checkForReset:true,triggerForReset:-1},temporalAccelerator:{require:false,enabled:false,max:1,variant:"chrono",checkForReset:true,triggerForReset:-1},temporalImpedance:{require:false,enabled:false,max:0,variant:"chrono",checkForReset:true,triggerForReset:-1},ressourceRetrieval:{require:false,enabled:true,max:-1,variant:"chrono",checkForReset:true,triggerForReset:-1},temporalPress:{require:false,enabled:false,max:0,variant:"chrono",checkForReset:true,triggerForReset:-1},cryochambers:{require:false,enabled:false,max:-1,variant:"void",checkForReset:true,triggerForReset:-1},voidHoover:{require:"antimatter",enabled:false,max:-1,variant:"void",checkForReset:true,triggerForReset:-1},voidRift:{require:false,enabled:false,max:-1,variant:"void",checkForReset:true,triggerForReset:-1},chronocontrol:{require:"temporalFlux",enabled:false,max:-1,variant:"void",checkForReset:true,triggerForReset:-1},voidResonator:{require:false,enabled:false,max:-1,variant:"void",checkForReset:true,triggerForReset:-1}}},timeCtrl:{enabled:false,items:{accelerateTime:{enabled:true,subTrigger:1,misc:true,label:ee("option.accelerate")},timeSkip:{enabled:true,subTrigger:200,misc:true,label:ee("option.time.skip"),maximum:1,0:true,1:true,2:true,3:true,4:true,5:true,6:true,7:true,8:true,9:true,spring:true,summer:false,autumn:false,winter:false,wait:false,adore:false,craft:false,moonMsg:-1}}},craft:{enabled:false,trigger:.95,shipTime:0,items:{wood:{require:"catnip",max:0,limited:true,limRat:.5,enabled:true},beam:{require:"wood",max:0,limited:true,limRat:.5,enabled:true},slab:{require:"minerals",max:0,limited:true,limRat:.5,enabled:true},steel:{require:"coal",max:0,limited:true,limRat:.5,enabled:true},plate:{require:"iron",max:0,limited:true,limRat:.5,enabled:true},alloy:{require:"titanium",max:0,limited:true,limRat:.5,enabled:true},concrate:{require:false,max:0,limited:true,limRat:.5,enabled:true},gear:{require:false,max:0,limited:true,limRat:.5,enabled:true},scaffold:{require:false,max:0,limited:true,limRat:.5,enabled:true},ship:{require:false,max:0,limited:true,limRat:.5,enabled:true},tanker:{require:false,max:0,limited:true,limRat:.5,enabled:false},parchment:{require:false,max:0,limited:false,limRat:.5,enabled:true},manuscript:{require:"culture",max:0,limited:true,limRat:.5,enabled:true},compedium:{require:"science",max:0,limited:true,limRat:.5,enabled:true},blueprint:{require:"science",max:0,limited:true,limRat:.5,enabled:true},kerosene:{require:"oil",max:0,limited:true,limRat:.5,enabled:true},megalith:{require:false,max:0,limited:true,limRat:.5,enabled:true},eludium:{require:"unobtainium",max:0,limited:true,limRat:.5,enabled:true},thorium:{require:"uranium",max:0,limited:true,limRat:.5,enabled:true}},autoConsume:{}},trade:{cache:false,enabled:false,trigger:.98,items:{dragons:{enabled:true,require:"titanium",allowCapped:false,limited:true,summer:false,autumn:true,winter:true,spring:true},zebras:{enabled:true,require:false,allowCapped:false,limited:true,summer:true,autumn:true,winter:true,spring:true},lizards:{enabled:false,require:"minerals",allowCapped:false,limited:true,summer:true,autumn:false,winter:false,spring:false},sharks:{enabled:true,require:"iron",allowCapped:false,limited:true,summer:false,autumn:false,winter:true,spring:false},griffins:{enabled:true,require:"wood",allowCapped:false,limited:true,summer:false,autumn:true,winter:false,spring:false},nagas:{enabled:true,require:false,allowCapped:false,limited:true,summer:false,autumn:false,winter:false,spring:true},spiders:{enabled:true,require:false,allowCapped:false,limited:true,summer:true,autumn:true,winter:true,spring:true},leviathans:{enabled:true,require:"unobtainium",allowCapped:true,limited:true,summer:true,autumn:true,winter:true,spring:true}}},upgrade:{enabled:false,items:{techs:{enabled:true,limited:true},upgrades:{enabled:true,limited:true,cache:false},policies:{enabled:false,auto:false},races:{enabled:true},missions:{enabled:true,subTrigger:4},buildings:{enabled:true}}},options:{catnipMsg:0,enabled:true,items:{style:{enabled:true,misc:true,label:ee("option.style")},hunt:{enabled:true,subTrigger:.95,require:"manpower",misc:true,label:ee("option.hunt")},buildEmbassies:{enabled:true,subTrigger:.95,require:"culture",misc:true,label:ee("option.embassies")},festival:{enabled:true,misc:true,label:ee("option.festival")},promote:{enabled:true,misc:true,label:ee("option.promote")},autofeed:{enabled:true,misc:true,label:ee("option.autofeed")},observe:{enabled:true,misc:true,label:ee("option.observe")},filterGame:{enabled:true,subTrigger:200,misc:true,label:"æ¸¸æˆæ—¥å¿—è¿‡æ»¤"},crypto:{enabled:false,subTrigger:1e6,misc:true,label:ee("option.crypto")},fixCry:{enabled:false,misc:true,label:ee("option.fix.cry")},saves:{enabled:false,misc:true,label:"å¯¼å‡ºé…ç½®æ–‡ä»¶"},donate:{enabled:false,misc:true,label:"æ˜¾ç¤ºæèµ åŸä½œè€…å›¾æ ‡"},useWorkers:{enabled:false,misc:true,label:ee("option.useWorkers")},wiki:{enabled:false,misc:true,label:"ç‚å­¦å®¶ä½¿ç”¨è¯´æ˜ä¹¦ï¼ˆç™¾ç§‘é“¾æ¥ğŸ±ï¼‰"},autoScientists:{enabled:false,misc:true,label:"é¦–æ¬¡è‡ªåŠ¨å¯ç”¨ç‚å­¦å®¶"}}},distribute:{religion:false,enabled:false,items:{woodcutter:{enabled:true,max:28,limited:true},farmer:{enabled:true,max:1,limited:true},scholar:{enabled:true,max:9,limited:true},hunter:{enabled:true,max:24,limited:true},miner:{enabled:true,max:26,limited:true},priest:{enabled:true,max:3,limited:false},geologist:{enabled:true,max:40,limited:true},leader:{enabled:true,leaderJob:"woodcutter",leaderTrait:"manager"}}},filter:{enabled:true,console:{},items:{buildFilter:{enabled:false,label:ee("filter.build")},researchFilter:{enabled:false,label:ee("filter.research")},upgradeFilter:{enabled:false,label:ee("filter.upgrade")},craftFilter:{enabled:true,label:ee("filter.craft")},spaceFilter:{enabled:false,label:ee("filter.space")},policyFilter:{enabled:false,label:ee("filter.policy")},upgBldFilter:{enabled:false,label:ee("filter.upgBld")},tradeFilter:{enabled:false,label:ee("filter.trade")},embassyFilter:{enabled:false,label:ee("filter.embassy")},huntFilter:{enabled:false,label:ee("filter.hunt")},unicornSacrificeFilter:{enabled:false,label:ee("filter.sacrifice")},faithBuildFilter:{enabled:false,label:ee("filter.faithBld")},faithFilter:{enabled:false,label:ee("filter.praise")},adoreFilter:{enabled:false,label:ee("filter.adore")},transcendFilter:{enabled:false,label:ee("filter.transcend")},accelerateFilter:{enabled:false,label:ee("filter.accelerate")},tcShatterFilter:{enabled:false,label:ee("filter.time.skip")},festivalFilter:{enabled:false,label:ee("filter.festival")},astronomicalEventFilter:{enabled:false,label:ee("filter.star")},distributeFilter:{enabled:false,label:ee("filter.distribute")},leaderFilter:{enabled:false,label:ee("filter.leader")},miscFilter:{enabled:false,label:ee("filter.misc")}}},resources:{furs:{enabled:true,stock:350,checkForReset:false,stockForReset:Infinity},coal:{enabled:true,stock:0,consume:1},timeCrystal:{enabled:false,stock:0,checkForReset:true,stockForReset:5e5}},policies:[],cache:{dataTimer:{},cacheSum:{},resources:{},trait:{},upgrade:undefined,science:"",resUpg:{},stocks:undefined}}};let ae=game.resPool.resourceMap;const ie=function(e){let t=e[1];let a=te.auto.filter;if(a.enabled&&t){let e=a.items[t];if(e&&e.enabled){return}}const i=e.pop();e[1]=e[1]||"ks-default";let r=game.msg.apply(game,e);$(r.span).css("color",i);if(te.debug&&console){console.log(e)}};const C=function(){let e=Array.prototype.slice.call(arguments);e.push("ks-default");e.push(te.msgcolor);ie(e)};const re=function(){let e=Array.prototype.slice.call(arguments);let t=e.length>1?e.pop():"miscFilter";e.push(t);e.push(te.activitycolor);ie(e)};const p=function(){const e=Array.prototype.slice.call(arguments);e.push("ks-summary");e.push(te.summarycolor);ie(e)};const l=function(){const e=Array.prototype.slice.call(arguments);e.unshift("Warning!");if(console){console.log(e)}};const B=function(e,t,a){C(ee(e,t),a)};const le=function(e,t,a){re(ee(e,t),a)};const h=function(e,t,a){p(ee(e,t),a)};const M=t=>{let e=te.auto.cache;if(!e.upgrade){e.upgrade={}}let r=e.upgrade;for(let e in t){let a=t[e];if(!r[e]){r[e]=[]}let i=r[e];for(let t in a){let e=a[t];if(i.indexOf(e)===-1){i.push(e)}}}};let ne=e=>{let t=ae[e];return t.value/t.maxValue};let se=game.religion;let Q=game.workshop;const u=function(){this.upgradeManager=new g;this.buildManager=new A;this.spaceManager=new z;this.craftManager=new t;this.bulkManager=new a;this.tradeManager=new m;this.religionManager=new S;this.timeManager=new V;this.villageManager=new e("Village");this.cacheManager=new f};u.prototype={upgradeManager:undefined,buildManager:undefined,spaceManager:undefined,craftManager:undefined,bulkManager:undefined,tradeManager:undefined,religionManager:undefined,timeManager:undefined,villageManager:undefined,cacheManager:undefined,now:undefined,loop:undefined,huntID:undefined,renderID:undefined,worker:undefined,toolText:undefined,leaderTimer:undefined,leader:0,accelerateTime:0,time:undefined,start:function(e=true){te.interval=Math.ceil(100/game.getTicksPerSecondUI())*100;if(game.isWebWorkerSupported()&&game.useWorkers&&te.auto.options.items.useWorkers.enabled){if(this.worker){return}const t=new Blob(["onmessage = function(e) { setInterval(function() {postMessage('miaowu')}, '"+te.interval+"' ); }"]);const a=window.URL.createObjectURL(t);this.worker=new Worker(a);this.worker.addEventListener("message",this.iterate.bind(this));this.worker.postMessage("miaowu");if(e){C("åå°ç‚å­¦å®¶ä¸Šé’Ÿäº†~ ï¼â–½ï¼œ")}}else{if(this.loop){return}this.loop=setInterval(this.iterate.bind(this),te.interval);if(e){B("status.ks.enable")}}},stop:function(e=true){if(game.isWebWorkerSupported()&&this.worker){if(e){C("åå°ç‚å­¦å®¶çˆªå·´äº†")}this.worker.terminate();this.worker=undefined}if(!this.loop){return}clearTimeout(this.huntID);clearTimeout(this.renderID);clearInterval(this.loop);this.loop=undefined;if(e){B("status.ks.disable")}},iterate:async function(){if(!game.mobileSaveOnPause||game.loadingSave||game.isPaused){return}let e=0;this.time=performance.now();let t=te.auto;let a=t.options;let i=a.enabled;let r=a.items;if(i&&r.observe.enabled){this.observeStars()}if(i){this.holdFestival()}if(t.timeCtrl.enabled){e+=~~this.timeCtrl()}if(i&&r.autofeed.enabled){this.autofeed()}if(i&&r.promote.enabled){this.promote()}if(t.trade.enabled){this.trade()}if(t.upgrade.enabled){e+=~~this.upgrade()}if(t.build.enabled){e+=~~this.build()}if(t.space.enabled){e+=~~this.space()}if(t.faith.enabled){e+=~~this.worship()}if(e>0||t.cache.upgrade){this.gameUpgrade()}if(t.craft.enabled){this.craft()}if(i&&r.hunt.enabled){this.delay()}if(t.time.enabled){e+=~~this.chrono()}if(i&&r.crypto.enabled){this.crypto()}if(te.copyTrait){this.setTrait()}if(i){e+=~~this.miscOptions()}if(t.distribute.enabled){e+=~~this.distribute()}if(e>0){this.delay("render")}this.calculateTime()},delay:function(e){if(e){let e=dojo.byId("tooltip").textContent;e=e.slice(0,Math.ceil(e.length*.4));if(te.renderTime+6e5<Date.now()||this.toolText!==e){this.renderID=setTimeout(()=>{if(game.ui.activeTabId==="Nummon"){return}te.renderTime=Date.now();this.toolText=e;game.ui.render()},Math.min(197,197-Date.now()+game.timer.timestampStart))}game.updateResources()}else{this.huntID=setTimeout(()=>{this.hunt()},te.interval*.5)}},reset:async function(){},timeCtrl:function(){const v=te.auto.timeCtrl.items;let k=0;if(v.accelerateTime.enabled&&game.science.get("calendar").researched){const e=ae["temporalFlux"];if(e.value>=Math.max(e.maxValue*v.accelerateTime.subTrigger,5)&&!game.time.isAccelerated){game.time.isAccelerated=true;this.accelerateTime=performance.now();le("act.accelerate",[],"accelerateFilter");ue("accelerate",1)}if(te.interval!==Math.ceil(100/game.getTicksPerSecondUI())*100){W.stop(false);if(te.auto.engine.enabled){if(te.interval===2e3){le("act.accelerate.acl");this.accelerateTime=performance.now()}else{let a=this.accelerateTime;if(a){let e=(performance.now()-a)/1e3;let t=game.toDisplaySeconds(e);if(t&&e<61){t=t.substring(0,t.length-1);let e=game.msg(ee("act.accelerate.fine",[t]),null,null,true);$(e.span).css("color","#ff589c")}this.accelerateTime=0}le("act.accelerate.slow")}W.start(false)}}}e:if(v.timeSkip.enabled&&game.workshop.get("chronoforge").researched){let a=ae["timeCrystal"].value;let r=v.timeSkip.maximum;const y=game.getEffect("heatMax");let l=game.time.heat;if(!r){return 0}let n=game.challenges.getChallenge("1000Years").researched?5:10;if(l-15*game.getEffect("heatPerTick")<.9*y){let e=game.getEffect("heatPerTick");let t=50/n*e/game.getTicksPerSecondUI();let a=game.getEffect("shatterTCGain")*(1+game.getEffect("rrRatio"))>1?0:5;let i=e>1&&game.calendar.cycle===a;if(game.bld.get("aiCore").effects["aiLevel"]<14||game.getEffect("aiCoreProductivness")){}if(l<10*game.getTicksPerSecondUI()*game.getEffect("heatPerTick")){if(t>2&&game.calendar.cycle===5){t=500}else{t+=1}}r=Math.ceil(Math.max(t,r))}const x=v.timeSkip.subTrigger;let e=Math.max(x,this.craftManager.getStock("timeCrystal"),r);const R=game.calendar.cycle;const w=game.calendar.year;const T=game.calendar.day;if(a<e||T<0||!v.timeSkip[R]||l>=y){break e}let t=game.prestige.getPerk("numerology").researched;if(R===5&&v.timeSkip[R]&&t&&game["nummon"]){let e=game["nummon"]["getTradeTC"]();let t=game.calendar.cycleEffectsFestival({unobtainium:1})["unobtainium"];let a=game.calendar.cycleEffectsBasics({unobtainiumPerTickSpace:1},"moonOutpost")["unobtainiumPerTickSpace"];let i=(56.5+12*game.getEffect("festivalRatio"))/50;let r=game.calendar.cycleYear;let l=e*i/(t*a);if(l<1||game.getEffect("heatPerTick")<.02){if(r!==v.timeSkip.moonMsg){v.timeSkip.moonMsg=r;le("summary.time.skip.moon",[1]);ue("time.skip.moon",1)}break e}}let i=game["timeTab"].cfPanel.children[0].children[0];if(!i.model.enabled){return i.controller.updateEnabled(i.model)}let s=game.calendar.season;let o=v.timeSkip.wait;let c=game.getEffect("shatterTCGain")*(1+game.getEffect("rrRatio"))<=1&&o!==false&&R===5;if(!v.timeSkip[game.calendar.seasons[s].name]||c){if(o===1&&R===5){v.timeSkip.wait=game.calendar.year;break e}else if(o===false||o===w||o===1){break e}else if(o!==w){v.timeSkip.wait=false}}let u=4*r*n;let g=game.time.heat>game.getEffect("heatMax")-Math.min(u,20*game.time.getCFU("blastFurnace").on+20);let m=v.timeSkip[5];if(m&&t&&v.timeSkip.wait===false&&g){v.timeSkip.wait=1;if(R===5){le("summary.moon",[1]);ue("moon",1)}}let f=game.calendar.yearsPerCycle;let d=f-game.calendar.cycleYear;let p=game.calendar.cyclesPerEra;let h=Math.min(Math.floor((y-l)/n),r);let b=0;if(h<d){b=h}else{b+=d;h-=d;let e=1;while(h>f&&v.timeSkip[(R+e)%p]){b+=f;h-=f;e+=1}if(v.timeSkip[(R+e)%p]&&h>0){b+=h}}if(b>0){b=Math.min(b,Math.max(2500,game.getEffect("temporalPressCap")*25));if(game.time.getCFU("ressourceRetrieval").val){v.timeSkip.adore=true;te.auto.options.items.hunt.time=true;let e=v.timeSkip;if(!e.craft){const M=["catnip","coal","iron","oil","uranium","science"];let t="";M.forEach(e=>{te.auto.craft.autoConsume[e]=true;t=t+ae[e].title+"ï¼Œ"});e.craft=true;re(ee("summary.resource",[t]))}}let e=game.calendar.year;let t=game.time.testShatter;if(b>1&&b<50){game.time.testShatter=2;oe("lag",false,"noFilter")}this.setTrait();i.controller.doShatterAmt(i.model,b);game.time.testShatter=t;b=game.calendar.year-e;if(!b){return}ue("timeCrystal",a-ae["timeCrystal"].value,"resConsume");k=-100;le("act.time.skip",[b],"tcShatterFilter");ue("time.skip",b)}}return k},promote:function(){let r=game.village;let l=r.leader;if(l){let e=te.auto.distribute;let t=e.items.leader;let i=this.leaderTimer>600;if(t.enabled&&l.trait.name===t.leaderTrait||i){if(!i){l.exp+=.15+10*game.getEffect("skillXP")}let t=l.rank||0;let e=this.craftManager.getStock("gold");let a=ae["gold"].value-e;if(t>=this.leader&&r.sim.expToPromote(t,t+1,l.exp)[0]){if(r.sim.goldToPromote(t,t+1,a)[0]){if(r.sim.promote(l,t+1)===1){let e=game["villageTab"].censusPanel.census;le("act.promote",[t+1,25+25*t],"leaderFilter");e.renderGovernment(e.container);game["villageTab"].censusPanel.census.update();this.leader=l.rank;this.leaderTimer=0;this.toolText=0;ue("gold",25+25*t,"resConsume");ue("promote",1);oe("changeLeader",true)}}else if(!e&&t>0&&(ae["faith"].maxValue>100||t<3)){te.auto.cache.stocks["gold"]=25*t+25;oe("leaderGold")}}}else{this.leaderTimer++}}},distribute:function(){const c=te.auto.distribute.items;let a=c.leader;let s=0;let u=game.village;let e=u.sim;let o=e.kittens;let g=o.length;let m=game.challenges.isActive("anarchy");let f=se.transcendenceTier;let d=u.getFreeKittens();let t=ae["kittens"];let i=ae["catnip"];let r=i.value;let l=u.happiness;let n=t.value;let p=this.craftManager.getPotentialCatnip(false);let h=ne("catnip");let b=(500+3e3*(h<.2)+500*(h<.5))*(p-.85*Math.max(l*!m-1,.25));let v=p<=.85*l&&n<4||r+b<0;let k=v||u.jobs[1].value===0&&c["farmer"].enabled;let y=te.auto.distribute;let x=y.religion||k&&r<=i.maxValue;if(a.enabled&&game.science.get("civil").researched&&!m&&!te.copyTrait){let i=a.leaderTrait;let r=a.leaderJob;let l=u.leader;let e=r==="woodcutter"||r==="farmer";if(e&&i==="manager"&&f>6&&u.getJob("priest").unlocked){r="priest";if(l&&l.job!=="priest"){oe("leaderPriest")}}if(l===null&&g){return game["villageTab"].censusPanel.census.makeLeader(o[0])}let t=false;if(te.auto.upgrade.items.policies.enabled){t=te.policies===undefined?false:te.policies.some(e=>e==="theocracy")}if(t||game.science.getPolicy("theocracy").researched){r="priest"}let n=u.getJob(r);if(l==null||!(l.job===r&&l.trait.name===i)){let a=o.filter(e=>e.trait.name===i);if(a.length!==0){if(n.unlocked&&n.value<u.getJobLimit(r)){let e=a.sort(function(e,t){return t.rank-e.rank===0?t.exp-e.exp:t.rank-e.rank})[0];let t;if(e.job==="farmer"&&l.job!="farmer"){t=l.job}u.unassignJob(e);e.job=r;if(t){game.village.sim.removeJob(t,1);d=u.getFreeKittens()}u.getJob(r).value++;game["villageTab"].censusPanel.census.makeLeader(e);s+=1;this.toolText=0;le("act.distributeLeader",[ee("$village.trait."+i)],"distributeFilter");ue("distribute",1)}}}}let R=u.getJob("woodcutter").value;if(!d){let e=c.miner;if(e.enabled&&R>1&&g){let e=u.jobs[4];if(e.unlocked&&!e.value){for(let t=g-1;t>0;t--){let e=o[t];if(e.isLeader||e.job!=="woodcutter"){continue}u.unassignJob(e);d=u.getFreeKittens();break}}}if(x&&p<0&&game.science.get("agriculture").researched){let e=game.getResourcePerTick("catnip",true)-.85*Math.max(1,l*!m-1);if(r+25*p<0&&game.calendar.day>92||r+1e3*e<0||y.religion){for(let t=g-1;t>0;t--){let e=o[t];if(e.isLeader||e.job==="farmer"){continue}u.unassignJob(e);d=u.getFreeKittens();break}}}if(!d){return s}}if(x&&game.science.get("agriculture").researched){y.religion=false;u.assignJob(u.getJob("farmer"),1);le("act.distribute.catnip",[],"distributeFilter");le("act.distribute",[ee("$village.job."+"farmer")],"distributeFilter");game["villageTab"].updateTab();u.updateResourceProduction();ue("catnip",1);return 1}let w="";let T=Infinity;let M=0;let E=se.getSolarRevolutionRatio();let F=game.challenges.isActive("blackSky")&&game.getEffect("calcinerRatio")||ae["unobtainium"].value&&f>5;let P=game.challenges.isActive("atheism");for(let o=u.jobs.length-1;o>=0;o--){let e=u.jobs[o];let t=e.unlocked;if(!t){continue}let a=e.name;if(a==="engineer"){continue}let i=c[a];if(!i.enabled){continue}let r=u.getJobLimit(a);let l=e.value;if(l>=r){continue}let n=Math.max(0,i.max);let s=i.limited;if(a==="hunter"){let e=game.getEffect("manpowerJobRatio");let t=e<=.75&&!game.science.get("navigation").researched;if(n===24&&game.workshop.get("railgun").researched){n=30;if(P){n=100}if(l>23&&l<30){oe("railgun")}}if(e<.5){n=u.maxKittens>10?2:0}else if(t){n=Math.round(n*.42);if(!ce.other["auto.hunter"]&&l>=n-1){let e=game.msg($I("village.job.hunter.flavor"),null,null,true);$(e.span).css("color","#ff589c");oe("hunter")}}else{oe("hunter",true)}let a=ae["manpower"];if(a.maxValue/a.perTickCached<20){n=0}}if(P){if(a!=="hunter"||a!=="farmer"){s=false}}if(a==="woodcutter"){if(game.getEffect("rankLeaderBonusConversion")){let e=u.leader;if(e&&e.job==="woodcutter"&&(e.rank>1&&e.exp>1e3||e.rank>2)){n=Math.min(20,n)}}let e=ae["wood"];if(e.maxValue/e.perTickCached<30){n=0}}if(a==="geologist"){let e=game.workshop.get("geodesy").researched;if(f>9&&!m){n=Math.min(n,Math.max(30,44-f))}if(!e){if(ae["iron"].perTickCached<20){n=Math.round(n*.25+f);if(ne("coal")>.97){n=0}}else{n=Math.min(20,n)}}if(game.science.get("drama").unlocked&&ne("coal")>.8){n=1}if(f<9&&e){n=Math.max(50-f,n);if(l>=40&&l<50){let e=oe("geologist");if(!e){$("#set-geologist-max")[0].innerText=ee("ui.max",[Math.ceil(n)])}}}if(ae["starchart"].value>1e5&&!game["diplomacyTab"].visible){n=1}if(n>1&&ne("gold")>=1){n=1}if(!R){n=0}}if(a==="scholar"){let e=.28;if(!game.getEffect("shatterTCGain")){if(!ae["starchart"].value&&!F&&ae["science"].value>3e3+1e4*(l>4)){n=0}if(game.workshop.get("rotaryKiln").researched){e=.5}else if(!f&&ae["science"].maxValue<5e4){n*=.8}if(!ae["coal"].value&&l>2){n*=.4}if(F){e=.6}}if(ne("science")>e&&l||!R||R<2&&!ae["paragon"].value){n=0}else if(e>.28){n=Math.max(n,Math.min(23,11+E+f*(game.getEffect("priceRatio")<-.07)+f*F));if(l>8&&l<n){oe("scholar")}}}if(a==="miner"){if(!game.science.get("writing").researched){if(l>1&&f){n=Math.round(n*.3+.4*game.science.get("currency").researched)}if(!game.science.get("civil").researched&&ae["kittens"].value<11&&l>1){n=1}}if(game.workshop.get("geodesy").researched){if(l<Math.min(25,n)&&!F){n*=4}}else if(f&&f<5){n=Math.round(n*.9)}let e=ae["minerals"];if(e.maxValue/e.perTickCached<20){n=0}}if(a==="priest"){if(s&&n===3){$("#toggle-limited-priest").click();oe("defaultPriest")}if(ae["starchart"].value>1e4&&E<3){n=Math.max(n,20)}if(!E){if(f>3&&n===3&&l<3){l=0}}if(f<3){n=1}if(!R){s=true;n=0}}if(!s||l<n){M=l/n;if(M<T){T=M;w=a}}}if(w){u.assignJob(u.getJob(w),1);s=1;le("act.distribute",[ee("$village.job."+w)],"distributeFilter");ue("distribute",1)}if(s){game["villageTab"].updateTab();u.updateResourceProduction();return 1}},autofeed:function(){const e=game.diplomacy.get("leviathans");const t=ae["necrocorn"];if(!(e.unlocked&&t.value>0)){return}let a=game.diplomacy.getMarkerCap();if(e.energy>=a){return}if(t.value>=1){game.diplomacy.feedElders(Math.min(t.value,a-e.energy));le("act.feed",[],"unicornSacrificeFilter");ue("feed",1)}else if(.25*(1+game.getEffect("corruptionBoostRatio"))<1){ue("feed",t.value);game.diplomacy.feedElders();le("dispose.necrocorn")}},crypto:function(){let e=game.calendar.cryptoPrice;let a=ae["relic"].value;let i=ae["blackcoin"].value;if(!game.science.get("blackchain").researched&&!i>0||!game.diplomacy.get("leviathans").unlocked){return}let t=te.auto.options.items.crypto;let r=t.subTrigger==null?"1e7-860-1060":te.auto.options.items.crypto.subTrigger.toString().split("-");let l=parseFloat(r[0]);let n=parseFloat(r[1]);let s=parseFloat(r[2]);if(r.length!==3||!l||!n||!s){if(!l){l=1e7}te.auto.options.items.crypto.subTrigger=l+"-881-1060";return D()}if(e<n&&a>l){game.diplomacy.buyBcoin();let e=ae["blackcoin"].value;let t=game.getDisplayValueExt(e-i);le("blackcoin.buy",[t,game.getDisplayValueExt(a)],"tradeFilter");ue("blackcoin.buy",1)}else if(e>s&&ae["blackcoin"].value>0){game.diplomacy.sellBcoin();let e=ae["relic"].value;let t=game.getDisplayValueExt(e-a);le("blackcoin.sell",[t,game.getDisplayValueExt(i)],"tradeFilter");ue("blackcoin.sell",1)}},worship:function(){const g=te.auto.faith.items;const U=this.buildManager;const m=this.craftManager;let I=this.religionManager;const u=te.auto.faith.addition;let f=se;let d=0;let e,p;let h=game.prestige.getPerk("voidOrder").researched;let b=game.prestige.getParagonProductionRatio();let v=game.time.getCFU("ressourceRetrieval").val;if(u.bestUnicornBuilding.enabled){let n=this.getBestUnicornBuilding();let s=game.bld.getBuildingExt("ziggurat").meta.on;let o=ae["tears"].value;let c=ae["unicorns"].value;let a=f.getZU("blackPyramid");let u=f.getZU("sunspire").on;let e=game.prestige.getPerk("renaissance").researched;let t=!e||!o||s>27;if(n&&t){let t=!o&&c>=1e3&&s&&!game.ironWill;let i;let r=a.getEffectiveValue(game);let e=g["blackPyramid"].enabled&&a.unlocked;let l=u>1&&ae["sorrow"].value<5&&!r&&ae["unobtainium"].maxValue>5e3&&e;if(l){oe("bls");if(o>=1e4){ae["tears"].value-=1e4;ae["sorrow"].value+=1;re("å°å–µæŠŠçœ¼æ³ªç‚¼æˆæ‚²ä¼¤")}}if(n.name==="unicornPasture"&&!t&&!l){if(c>=Math.pow(n.priceRatio+game.getEffect("priceRatio"),n.val)*2){U.built(n.name,undefined,1)}}else{let a;let e=0;if(t){a=1;oe("tear")}else{i=dojo.clone(n.prices);for(p=0;p<i.length;p++){let e=i[p];e.val*=Math.pow(1.15,n.on);if(e.name==="tears"){e.val+=m.getStock("tears")+.01;a=e.val}if(e.name==="gold"){e.val*=1-game.getEffect("goldCostReduction")}}}if(r){if(g["marker"].enabled){let e=f.getZU("marker").on;let t=5e3*Math.pow(1.15,e);if(o<t&&u>Math.min(9+e,19)){a=Math.min(t,a)}}if(game.calendar.day<1&&!game.calendar.season&&Math.random()<.2){game.diplomacy.unlockElders();game["diplomacyTab"].updateTab()}}a=l?1e4:a;if(a>o){let e=Math.floor((c-m.getStock("unicorns"))/2500);let r=Math.ceil((a-o)/s);if(r<=e){let a=game["religionTab"].sacrificeBtn;if(!a||!a.model){return game["religionTab"].render()}let i=a.model.prices[0].val*r;if(c>i){let e=s*r;let t=a.controller.controllerOpts;game.resPool.addResEvent(a.model.prices[0].name,-i);game.resPool.addResEvent(t.gainedResource,e);game.stats.getStat("unicornsSacrificed").val+=i;ue("unicorns",i,"resConsume");ue("tears",e,"resGain");e=game.getDisplayValueExt(e);i=game.getDisplayValueExt(i);game.msg($I(t.logTextID,[i,e]),"notice",t.logfilterID);re(ee("unicornSacrifice",[game.getDisplayValueExt(r),e]),"unicornSacrificeFilter")}}}if(!t&&!l&&game.resPool.hasRes(i)&&s){I.build(n.name,"z",1);d=1}}}}else{if(!ae["alicorn"].unlock||u.bestUnicornBuilding.confirm<2){$("#toggle-bestUnicornBuilding").click();u.bestUnicornBuilding.confirm+=1}if(te.auto.unicorn.items.unicornPasture.enabled){this.build({unicornPasture:{require:false,enabled:true}})}e=JSON.parse(JSON.stringify(te.auto.unicorn.items));e=Object.assign(e,te.auto.faith.items);delete e.unicornPasture}d+=this._worship(e||g);let n=m.getResource("faith");let s=ne("faith");let k=f.getRU("transcendence");let y=k.on;let x=f.transcendenceTier;let R=y?x:0;let w=f.faith;let T=f.faithRatio;let M=f.getSolarRevolutionRatio();let E=game.getEffect("solarRevolutionLimit");let F=10+E;let l=u.adore.subTrigger;let O=F*l;let P=w*101e-8*(R+1)*(R+1);let W=T+P;let z=.01+n.value*(1+game.getUnlimitedDR(W,.1)*.1);let C=game.getLimitedDR(game.getUnlimitedDR(z,1e3)/100,F);let B=false;let t=u.autoPraise.enabled;let S=u.adore.enabled;let o=te.auto.timeCtrl.items.timeSkip.adore;let V=o&&t&&S;let a=u.autoPraise.subTrigger;let A=game.space.getBuilding("moonOutpost").val;let q=A&&w>=1e5;let L=f.getRU("apocripha").on;let G=R||!T&&w>2e5;q=q&&L&&G&&S;let c=a<.98;let J=ce["adore"][0];if(A&&q&&c&&a){u.autoPraise.subTrigger=.98}if(Math.min(.999,Math.max(.98,a))<=s||V){if(u.transcend.enabled&&y){let c;let e=f._getTranscendTotalPrice(R+1)-f._getTranscendTotalPrice(R);let t=this.catnipForReligion(e);t=t>=0||t<0&&ae["catnip"].value+4e3*t>0;if(R>10){c=1}if(R<11&&A&&w>1e5&&L&&t){c=4}while(c){T=f.faithRatio;R=f.transcendenceTier;let e=Math.pow((R+2)/(R+1),2);let t=f._getTranscendTotalPrice(R+1)-f._getTranscendTotalPrice(R);let a=t;let i=f.getTU("blackObelisk").val;let r=((R+1)*5*i+1e3)/(R*5*i+1e3);if(game.getEffect("shatterTCGain")>.07&&game.calendar.trueYear<1400){r=1}let l=e*r;let n=(1-l+Math.sqrt(80*(l*l-1)*a+(l-1)*(l-1)))*l/(40*(l+1)*(l+1)*(l-1))+a+a/(l*l-1);let s=T>n&&w>Math.min((R-3)*1e6,0)+1e6;let o=w*2.02*R+3.03*w>1e6*t&&T>t;if(s||o){f.faithRatio-=t;f.tcratio+=t;f.transcendenceTier+=1;let e=game.challenges.getChallenge("atheism");e.calculateEffects(e,game);i=f.getTU("blackObelisk");i.calculateEffects(i,game);game.msg($I("religion.transcend.msg.success",[f.transcendenceTier]));R=f.transcendenceTier;if(R<9){B=true}for(let t=0;t<f.transcendenceUpgrades.length;t++){let e=f.transcendenceUpgrades[t];if(!game.getFeatureFlag("MAUSOLEUM_PACTS")&&e.name==="mausoleum"){continue}if(!e.unlocked&&R>=e.tier){e.unlocked=true;d=1}}c--;le("act.transcend",[game.getDisplayValueExt(t),R],"transcendFilter");ue("transcend",1)}else{c=0}}}let e=game.resPool.isStorageLimited(k.prices);let t=te.auto.faith.items.transcendence;if(!t.enabled&&w>k.faith&&S&&e){t.enabled=true;ie(["å°çŒ«è´´å¿ƒå¾—æ— è§†è¶…è¶ŠæŒ‰é’®ç¦ç”¨","ks-default",te.activitycolor])}let a=!f.faithRatio||R;let i=this.catnipForReligion();i=i>0||i<0&&ae["catnip"].value+4e3*i>0;i=x>9||i;let r=b<2?1+Math.min(2/game.prestige.getParagonProductionRatio(),.3):1;let l=.5*Math.log(f.faithRatio)+3.45;let n=a<11||v?1.3+Math.min(.6,R*.05)+Math.log1p(E):1.32;let s=game.getLimitedDR(r*n*Math.pow(Math.E,.65*l),100*F);let o=u.adore.subTrigger;let c=M*100<s;if(o===.001){if(q&&R){let a=ce.other["adore.solar"];if(!a||c){let e=Math.min(s-45-R,F*90+3*R,F*94);let t=C*100<=Math.max(1,e);if(t){q=false}else{if(M<C+.3&&C<9.7&&C>4){q=false}}s=Math.floor(s*100)/100;if(s!==a&&t&&(!v||!h)){re(ee("summary.adore.solar",[s]));ce.other["adore.solar"]=s}}}}else{if(q){q=o*10<C}}if(q&&i||B){if(V){te.auto.timeCtrl.items.timeSkip.adore=false}B=true;f._resetFaithInternal(1.01);le("act.adore",[game.getDisplayValueExt(w),game.getDisplayValueExt(P)],"adoreFilter");ce["adore"][1]+=P;ce["adore"][0]+=1}}let H=.65*(.525*Math.log(f.faithRatio)+3.45);let i=h||J?1:.3;let j=f.getRU("stainedGlass").on;i=i*game.prestige.getPerk("vitruvianFeline").researched?1:.5-.1*!j;i=f.getRU("solarchant").on>6?5-Math.sqrt(b):i;let N=A<3?95:80;let D=game.getLimitedDR(.3*Math.pow(Math.E,H)*i,N*F);u.autoPraise.expect=D*.01;let K=f.getRU("solarRevolution").on;let _=j||ae["gold"].value<180||game.getEffect("culturePerTickBase")<.9;let Y=f.getRU("basilica").on||ae["gold"].value<600||n.perTickCached<2||game.getEffect("culturePerTickBase")<2.7;c=!c&&a<=1;if(K&&c&&M<D*.01&&_&&Y){a=0;d+=1}let Z=1+game.getUnlimitedDR(T,.1)*.1;let r;if(!M&&!h){if(n.value>(1e3-w)/Z&&w<1e3&&game.getEffect("faithRatioReligion")){r=true;oe("1000Faith")}else if(n.value>(150-w)/Z&&w<150){r=true;oe("150Faith")}}let X=K||s<.98||!h&&ae["gold"].value<400;let Q=t&&s>=a&&n.value>.001&&X;if(Q||B||r){let e=c&&!B&&s<.98&&!o;let t=x<5?1e5:8e5;if(e&&(Date.now()>u.autoPraise.time+t||!ce.other["praise.msg"])&&M){u.autoPraise.time=Date.now();let e=game.getDisplayValueExt(D);re(ee("summary.praise.msg",[e]));ce.other["praise.msg"]=e}let a=f.getApocryphaBonus();let i=n.value;let r=i*(1+a);ce["praise"][1]+=r;ce["praise"][0]+=1;ue("faith",i,"resConsume");le("act.praise",[game.getDisplayValueExt(n.value),game.getDisplayValueExt(r)],"faithFilter");let l=ae["faith"];l.value=Math.max(l.value+2*ae["faith"].perTickCached,0);f.praise()}return d},_worship:function(e){let t=te.auto.faith.items;let r=JSON.parse(JSON.stringify(e||te.auto.faith.items));let l=this.religionManager;let a=this.bulkManager;let i=se.getRU("solarRevolution");let n=ce.other["auto.changeLeader"]?0:1;let s=(se.faith>i.faith||game.prestige.getPerk("voidOrder").researched)&&ae["faith"].maxValue>750-75*n;let o=se.transcendenceTier;let c=!i.on&&s&&se.getRU("solarchant").on&&o?.98+.2*(ae["gold"].maxValue>470-20*n):te.auto.faith.trigger;this.setTrait("wise");let u=1-game.getLimitedDR(.09+.01*(1+game.prestige.getBurnedParagonRatio()),1);if(!i.on&&s&&t.solarRevolution.enabled&&se.faith>i.faith){l.build("solarRevolution","s",1)}let g=se.getRU("basilica").on;if(!g){if(!se.getRU("solarchant").on&&ae["faith"].value>100&&se.faith>150){l.build("solarchant","s",1)}if(r["basilica"].enabled){let e=se.getRU("stainedGlass").on;if(game.village.leader){r["goldenSpire"].enabled=false}if(!e){if(ae["science"].maxValue>65e3){r["scholasticism"].enabled=false}if(se.faith>15e3&&o>4){r["sunAltar"].enabled=false}}if(o>7){r["sunAltar"].enabled=false}}}if(!game.ironWill&&game.getEffect("faithRatioReligion")<.8){if(ae["unobtainium"].maxValue<350||o>10){r["templars"].enabled=false}if(!se.getRU("templars").on&&ae["faith"].value>3e3&&se.faith>75e3){oe("templars")}if(o>8&&!game.getEffect("calcinerRatio")){r["sunAltar"].enabled=false;r["goldenSpire"].enabled=false;r["scholasticism"].enabled=false}if(o<8&&ae["paragon"].values>10){r["basilica"].max=1;r["templars"].max=1;if(!Q.get("spaceManufacturing").researched){r["goldenSpire"].max=4}if(!se.getRU("sunAltar").on&&o>4){r["goldenSpire"].enabled=false}}}if(o&&!se.getRU("transcendence").on){r["apocripha"].enabled=false;if(ae["faith"].value>6e3){oe("apocripha")}}if(se.getSolarRevolutionRatio()>9.98+.9*game.getEffect("solarRevolutionLimit")&&Q.get("spaceManufacturing").researched&&ce["adore"][0]){let e=["scholasticism","goldenSpire","stainedGlass","basilica","templars"];e.forEach(e=>{r[e].max=-1})}if(se.getZU("blackPyramid").getEffectiveValue(game)){if(!i.on){r["blackPyramid"].enabled=false}let t=game.getEffect("relicRefineRatio");if(t<60&&game.getEffect("beaconRelicsPerDay")){if(ae["burnedParagon"].value<1e5){r["blackNexus"].max=36}r["blackObelisk"].max=t;let e=game["nummon"];if(e&&e.getBestRelicBuilding().indexOf("æ ¸å¿ƒ")===-1){r["blackCore"].max=0;oe("blackCore")}if(t<36){r["singularity"].max=5;r["blazar"].max=1;r["blackRadiance"].max=1}}}else{let t=se.getZU("marker");if(t.unlocked){let e=r["marker"];e.enabled=false;if(game.resPool.hasRes(t.prices)){oe("marker")}if(ae["burnedParagon"].value<2e6){e.max=Math.max(80,e.max)}}if(se.getZU("sunspire").val<2){r["blackPyramid"].enabled=false}r["blackCore"].max=0}let m={};for(let e in r){let a=r[e];let i=l.getBuild(e,a.variant);if(a.variant==="s"){let e=i.noStackable;let t=i.on&&e||se.faith<i.faith;if(t){a.enabled=false}if(e){a.max=1}}if(a.variant==="z"&&!game.bld.getBuildingExt("ziggurat").meta.on){a.enabled=false}if(a.variant==="c"&&!game.science.get("cryptotheology").researched){a.enabled=false}m[e]=i}const f=a.bulk(r,m,c);let d=0;let p;for(let a in f){let e=f[a];let t=e.count;if(t>0){l.build(e.id,e.variant,t);d+=1}}return d},chrono:function(){if(!game["timeTab"].visible||!game.workshop.get("chronoforge").researched){return 0}let a=0;const i=JSON.parse(JSON.stringify(te.auto.time.items));const r=this.timeManager;const e=this.bulkManager;let t=te.auto.time.trigger;let l=i["cryochambers"];let n=l.max;let s=game.bld.getBuildingExt("chronosphere").meta.on+game.getEffect("cryochamberSupport");l.max=n===-1?s:Math.min(s,n);let o=i["ressourceRetrieval"];let c=o.max;let u=i["blastFurnace"];if(ae["timeCrystal"].value<1e10){u.max=4;if(game.getEffect("shatterTCGain")>.05){u.max=Math.round(127.35*game.getEffect("shatterTCGain")+11.393)}let e=ae["paragon"].value+ae["burnedParagon"].value;if(e<1e7&&game.calendar.trueYear()<2e3){c=32;if(e<2e4){c=18}}}o.max=c===-1?100:Math.min(100,c);if(game.calendar.darkFutureYears(true)<0){i["temporalImpedance"].max=0}const g={};for(let t in i){let e=i[t];if(e.variant==="chrono"&&!game.workshop.get("chronoforge").researched){e.enabled=false}if(e.variant==="void"&&!game.science.get("voidSpace").researched){e.enabled=false}g[t]=r.getBuild(t,e.variant)}const m=e.bulk(i,g,t,"time");for(let t in m){let e=m[t];if(e.count>0){r.build(e.id,e.variant,e.count);a=1}}return a},upgrade:function(){let s,o,c;const g=te.auto.upgrade.items;const m=this.upgradeManager;const f=this.craftManager;const d=this.bulkManager;const p=this.buildManager;let h=game.workshop.get("geodesy").researched;let u=game.workshop.get("orbitalGeodesy").researched;let b=se.getSolarRevolutionRatio();let v=game.prestige.getParagonProductionRatio();let k=game.getEffect("priceRatio");let y=0;let x=game.bld.getBuildingExt("pasture").meta;let R=game.bld.getBuildingExt("aqueduct").meta;this.setTrait("scientist");if(g.techs.enabled&&game["libraryTab"].visible){const e=game.science.techs;g.techs.limited=true;let a=game.science.get("nanotechnology").researched;let i=ae["titanium"].value;let r=game.science.get("acoustics").researched;let l=ae["relic"].value;let n=ae["parchment"];let s=ae["starchart"].value>1e5&&!game.science.get("drama").researched&&n.value<7500;e:for(let t of e){if(t.researched||!t.unlocked){continue}if(g.techs.limited){let e=t.name;switch(e){case"combustion":if(ae["science"].maxValue>15e4&&i<5e3&&!game.science.get("metalurgy").researched){continue}break;case"biology":{let e=ae["science"].maxValue;let t=h||!ce.other["auto.changeLeader"];if(e<123e3&&t||e>123e3&&i<5e3){oe("biology");continue}}case"dimensionalPhysics":case"rocketry":if(s){continue}break;case"chemistry":if((Q.get("titaniumAxe").researched||!ae["titanium"].value)&&!r){continue}break;case"biochemistry":if(i<7e3){continue}break;case"ecology":if(i<1e4||s){continue}break;case"ai":if(i<1e4||s){continue}break;case"physics":if(!r&&se.transcendenceTier&&i<15&&ae["science"].maxValue>6e4&&(ae["compedium"].value<120||ae["steel"].value<100)){oe("physics");continue}break;case"particlePhysics":if(!a&&i<2e3||!ae["uranium"].value&&ae["science"].maxValue>2e5){continue}break;case"sattelites":if(v<1.75){break}case"oilProcessing":if(!a&&i<1e4){continue}break;case"drama":{if(ae["manpower"].perTickCached<14&&n.value<14e3&&!ae["eludium"].value){if(n.value>5e3){oe("drama")}continue}}break;case"quantumCryptography":if(game.getEffect("relicRefineRatio")<2&&game.religion.getZU("blackPyramid").on){continue}break;case"antimatter":if(v>2&&!game.getEffect("beaconRelicsPerDay")||!game.workshop.get("chronoforge").researched){continue}break;case"terraformation":if(v>2&&(!R.stage||ae["sorrow"].maxValue<17)){continue}break;case"cryptotheology":if(l<105&&ae["antimatter"].value<4e3){continue}break;case"blackchain":continue}}let e=dojo.clone(t.prices);e=game.village.getEffectLeader("scientist",e);for(let t of e){let e=t.name;if(m.getValue(e)<t.val){continue e}}y=1;m.build(t,"science")}}if(g.upgrades.enabled&&game["workshopTab"].visible){if(!game["workshopTab"].domNode){y=2}const a=game.workshop.upgrades;let e=true;let n=[];if(e){let e=ae["starchart"];let t=e.value;let a;n=["biofuel","gmo","invisibleBlackHand","steelPlants"];if(game.getEffect("shatterTCGain")<.05){if(v>2){n=n.concat(["amReactors","amReactorsMK2","amDrive"])}}if(!x.on||x.stage===0){n=n.concat(["photovoltaic","thinFilm","qdot"])}if(!R.on||R.stage===0){n.push("hydroPlantTurbines")}if(ae["void"].value<250){n.push("voidAspiration")}if(k){n.push("register");if(k<-.06){n=n.concat(["neuralNetworks","voidReactors"])}}let i=["factoryAutomation","advancedAutomation","pneumaticPress"];let r=game.challenges.isActive("pacifism");if(game.bld.getBuildingExt("steamworks").meta.on<1+50*k){if(!r){n=n.concat(["printingPress","offsetPress","photolithography"],i)}if(!game.bld.getBuildingExt("steamworks").meta.on){n.push("combustionEngine")}}else if(!game.opts.enableRedshift){n=n.concat(i)}if(r){n=n.concat(["bolas","huntingArmor","steelArmor","alloyArmor","nanosuits","silos"])}if(game.village.getJob("engineer").value<5){n=n.concat(["spaceEngineers","aiEngineers","chronoEngineers","amFission","factoryRobotics","factoryOptimization"])}if(!b&&ae["faith"].maxValue>=750&&se.faith>1e3){n.push("caravanserai")}if(game.globalEffectsCached["titaniumPerTickAutoprod"]<.02&&ae["ship"].value<50&&b>1.6){n.push("titaniumAxe");if(b>2.26){n=n.concat(["titaniumAxe","silos","astrolabe","titaniumBarns","alloyAxe","alloyArmor","alloyBarns","alloyWarehouses"])}}a=b>8+23.2*k||u;if(a&&!game.space.meta[0].meta[3].val&&t<1700){if(!ae["unobtainium"].value){n=n.concat(["geodesy","seti"])}if(!u){if(game.getEffect("calcinerRatio")>1){n.push("fuelInjectors")}n=n.concat(["titaniumWarehouses","titaniumBarns","steelSaw","titaniumSaw","cadSystems"])}}if(!h){n.push("seti","silos");if(!u){if(b<6&&t>300){n.push("titaniumSaw");if(!game.getEffect("calcinerRatio")){n.push("pumpjack")}}if(ae["oil"].value<75e3){n=n.concat(["offsetPress","photolithography"]);if(ne("coal")>.8&&ne("oil")<.95){n=n.concat(["fuelInjectors","pyrolysis","combustionEngine"])}}if(b>4&&ne("coal")>.4){n.push("fuelInjectors")}}if(!ae["manpower"].value){n.push("bolas")}if(!ae["ship"].value){n.push("cargoShips")}}if(!game.getEffect("smelterRatio")){n.push("concreteWarehouses","concreteBarns","barges","seti")}if(game.bld.getBuildingExt("factory").meta.val<3+2*h){n.push("factoryLogistics","refrigeration","barges","carbonSequestration");if(ne("oil")>.7){if(v>1.5){if(v>1.8){n.push("pumpjack")}n=n.concat(["oilDistillation","oilRefinery"])}}}if(!game.workshop.get("mWReactor").researched){n.push("eludiumReflectors","amBases","coldFusion","amReactors","cryocomputing","darkEnergy");if(v>1){n.push("lhc");if(v>2&&b>4){n.push("unobtainiumReflectors","astrophysicists")}}}if(game.bld.getBuildingExt("library").meta.stage===0){n=n.concat(["starlink","uplink","cryocomputing"])}if(game.bld.getBuildingExt("accelerator").meta.val<5){n=n.concat(["darkEnergy","stasisChambers","voidEnergy","tachyonAccelerators","lhc"]);if(v>4){n=n.concat(["stoneBarns","reinforcedBarns","titaniumBarns","alloyBarns","concreteBarns","titaniumWarehouses","alloyWarehouses","concreteWarehouses","storageBunkers","stasisChambers","voidEnergy","darkEnergy"])}}if(game.bld.getBuildingExt("aiCore").meta.val<5){n=n.concat(["machineLearning","aiBases"]);let e=ae["ship"].value<5e4;if(v>4){n=n.concat(["storageBunkers","tachyonAccelerators","darkEnergy","eludiumReflectors","amBases"])}if(e){n.push("thoriumEngine")}}if(game.bld.getBuildingExt("reactor").meta.val<2||ae["ship"].value<169){n=n.concat(["reactorVessel","enrichedUranium"])}if(game.space.getBuilding("sattelite").val<6){n=n.concat(["solarSatellites","satelliteRadio","assistance"])}if(e.perTickCached){if(t.perTickCached<1&&game.challenges.isActive("blackSky")){n=n.concat(["geodesy"])}}else{n=n.concat(["hubbleTelescope"])}let l=game.bld.getBuildingExt("magneto").meta;if(l.val===l.on){n.push("carbonSequestration")}if(ae["thorium"].value<2e5||game.resPool.energyProd-game.resPool.energyCons>600){n.push("thoriumReactors");if(v>2){n.push("coldFusion");if(t<2e5){n.push("amBases","eludiumCracker")}}let e=game.getEffect("hutPriceRatio");if(e&&e>-1.06){n.push("astrophysicists")}}a=ae["science"].maxValue>12e4+8e4*h&&t<2075;if(a||ae["titanium"].value<5+10*b){n=n.concat(["astrolabe","unobtainiumReflectors","lhc","titaniumMirrors"])}if(game.challenges.isActive("anarchy")){n=n.concat(["logistics","augumentation","internet","neuralNetworks","register"])}if(game.ironWill){n=n.concat(["logistics","augumentation","internet","neuralNetworks","mineralHoes","ironHoes","miningDrill","mineralAxes","ironAxes","steelAxe","titaniumAxe","alloyAxe","ironwood","concreteHuts","unobtainiumHuts","eludiumHuts","geodesy","register","unobtainiumDrill","assistance","astrophysicists","register"])}else if(!game.workshop.get("concreteHuts").researched){n=n.concat(["concreteWarehouses","concreteBarns","barges","seti"]);if(!game.workshop.get("fuelInjectors").researched){n.push("offsetPress")}if(game.village.jobs[0].value>1&&v>2){if(game.getEffect("woodJobRatio")<.7){n.push("mineralHoes")}if(game.getEffect("woodJobRatio")<1.2){n.push("ironHoes")}}if(v>1.5){n.push("titaniumSaw")}}}e:for(let t of a){if(t.researched||!t.unlocked){continue}let e=t.name;if(n.indexOf(e)!==-1){continue}o=dojo.clone(t.prices);o=game.village.getEffectLeader("scientist",o);for(c of o){if(m.getValue(c.name,e)<c.val){continue e}}y+=1;m.build(t,"workshop")}}if(g.policies.enabled&&game["libraryTab"].visible){(function(){const e=game.science;const t=e.policies;const a=t.length;const i=[];let r=e.get("astronomy").researched||ae["burnedParagon"].value<1e4&&ae["culture"].value<400||game.getEffect("priceRatio")>-.03?1:3;let u=te.policies;if(g.policies.auto){u=[];if(game.challenges.anyChallengeActive()){g.policies.enabled=false;$("#toggle-policies").prop("checked",false);oe("anyChallengeActive")}else{if(!game.ironWill){let e=ae["ship"].value;u=["clearCutting","outerSpaceTreaty","epicurianism","expansionism","necrocracy"];let t="liberty";let a="sustainability";let i="authocracy";let r="";let l="isolationism";let n="cityOnAHill";let s="extravagance";let o="rationality";let c="fascism";if(e>65+5*v){r="zebraRelationsAppeasement"}if(k){o="mysticism";if(k<-.06){r="";a="fullIndustrialization";l="diplomacy";n="knowledgeSharing"}if(ae["burnedParagon"].value>1e4){t="tradition";i="monarchy";n="culturalExchange";c="communism";s="carnivale"}}else{t="tradition"}if(game.diplomacy.get("leviathans").unlocked&&e>1e4){r="zebraRelationsBellicosity"}u.push(t,a,i,l,n,o,c,s);if(r){u.push(r)}}}}let l=game.science.policyMetaCache;for(s in u){let e=u[s];let t=l[e];if(t){if(!t.researched){if(t.blocked){continue}if(t.unlocked){if(t.requiredLeaderJob===undefined||game.village.leader!=null&&game.village.leader.job===t.requiredLeaderJob){i.push(t)}}}}}e:for(s of i){for(let e of s.prices){if(f.getValueAvailable(e.name,true)<e.val*r){continue e}}m.build(s,"policy")}})()}let w=game["spaceTab"];if(g.missions.enabled&&w.visible){let a=g.missions.subTrigger;let e=game.space.meta[0].meta.length;let i=game.workshop.get("spaceManufacturing").researched;if(a===4){let e=ae["starchart"].value;if(e<4e5&&game.challenges.anyChallengeActive()){a=5}if(ae["antimatter"].value>60||e>Math.min(2e5*(1+v)*(1+b),1e9)||ae["alicorn"].value>2){a=7;if(ae["relic"].value>26){a=12}}}let r=0;let l=!u&&(!ae["unobtainium"].value||!h);let n=w.GCPanel;if(!n){w.render()}const T=game.space.meta[0].meta;e:for(s=0;s<e;s++){let e=T[s];if(e.val&&s!==7){r++}if(!e.unlocked||e.val||s>=a){continue}if(l){break}let t=n.children[s];if(!t||!t.model.metadata){w.render();break}if(!T[3].val&&s===2&&a!==3&&!game.challenges.isActive("blackSky")){continue}if(t.model.metadata.val||t.model.metadata.on){continue}o=t.model.prices;for(c of o){if(f.getValueAvailable(c.name,true)<c.val){continue e}}if(!t.model.enabled){t.controller.updateEnabled(t.model);continue}t.controller.build(t.model,1);i=2;E(o);if(s===7||s===12){re(ee("upgrade.space.mission",[T[s].label]),"spaceFilter")}else{re(ee("upgrade.space",[T[s].label]),"spaceFilter")}}if(w.planetPanels.length!==r&&!l||i>1){w.render()}}if(g.races.enabled&&game.diplomacy.hasUnlockedRaces()){let a=game.diplomacy.get("leviathans").unlocked?8:7;if(game["diplomacyTab"].racePanels.length<a){let e=function(e){if(game.diplomacy.get(e).unlocked){return}let t=f.getValueAvailable("manpower",true);if(t>=1e3){ae["manpower"].value-=1e3;a="render";le("upgrade.race",[game.diplomacy.unlockRandomRace().title],"tradeFilter");ue("manpower",1e3,"resConsume")}};if(game.challenges.isActive("pacifism")||!game.village.sim.kittens.length||ae["gold"].value>15){e("lizards");e("sharks");e("griffins")}if(ae["culture"].value>=1500){e("nagas")}if(ae["ship"].value>=1){e("zebras")}if(ae["ship"].value>=100&&ae["science"].maxValue>125e3){e("spiders")}if(game.science.get("nuclearFission").researched){e("dragons")}}if(!game["diplomacyTab"].racePanels.length||a==="render"){game["diplomacyTab"].render()}}if(g.buildings.enabled){let r=te.auto.build.items;let l=game.calendar.season===1?game.resPool.energyProd:game.resPool.energyWinterProd;let n=game.challenges.isActive("energy");let e=1e3*(ae["starchart"].value>2e6);let i=l-10-5*v-30*(b>9)-e<game.resPool.energyCons||n;let s=x.stage===0?x.val:0;let o=R.stage===0?R.val:0;let c=(e,t)=>{let a=t.stages[1].prices;if(d.singleBuildPossible(t,a,1)){p.sellBuild(e);game.resPool.payPrices(a);t.stage=1;t.on=1;t.val=1;if(t.upgrades){if(t.updateEffects){t.updateEffects(t,game)}M(t.upgrades)}game.bld.getBuildingExt(e)._metaCache=null;p.manager.render();te.renderTime=0;le("summary.upgrade.building."+e,[],"upgBldFilter");ue("upgrade.building."+e);oe("upg"+e.charAt(0).toUpperCase()+e.slice(1),true);return 2}};if(x.stage===0){if(x.stages[1].stageUnlocked){let e=game.bld.getBuildingExt("amphitheatre").meta.stage===1;let t=i&&e&&(game.getResourcePerTick("titanium",true)>20+v-5*h||game.workshop.get("unobtainiumDrill").researched);let a=f.getPotentialCatnip(true,0,o);a=a>0||a<0&&ae["catnip"].value+2e3*a>0;if(a&&t&&r.solarFarm.enabled&&ne("titanium")>.4){return c("pasture",x)}else{oe("upgPasture","","upgBldFilter")}}}if(R.stage===0){if(R.stages[1].stageUnlocked){if(x.stage===1){let e=250*Math.pow(x.stages[1].priceRatio+k,x.val)>ae["titanium"].maxValue||n;let t=f.getPotentialCatnip(true,s,0);let a=t>0||t<0&&ae["catnip"].value+(4e3+6e3*(b<8))*t>0;if(a&&e&&i&&r.hydroPlant.enabled){return c("aqueduct",R)}else{oe("upgAqueduct","","upgBldFilter")}}}}let u=game.bld.getBuildingExt("library").meta;if(u.stage===0){if(u.stages[1].stageUnlocked){let e=.1*u.totalEffectsCached.scienceMax/(1+v);let t=Math.max(1+game.prestige.getParagonProductionRatio(),2)/2;let a=ae["compedium"].value*3>e/(1+game.bld.getBuildingExt("biolab").meta.val*.01)&&game.bld.getEffect("scienceMax")>3e4*(1+v)*(1+b);a|=f.getTickVal(ae["concrate"])>600*t;let i=1+v;if(a&&r.dataCenter.enabled&&ae["eludium"].value>Math.pow(3,i)+70){if(l>=game.resPool.energyCons+150&&!n&&ne("science")>.8){return c("library",u)}}else{oe("upgLibrary","","upgBldFilter")}}}let t=game.bld.getBuildingExt("amphitheatre").meta;if(t.stage===0){if(t.stages[1].stageUnlocked){if(r["broadcastTower"].enabled&&(game.getResourcePerTick("titanium",true)>2||ae["ship"].value>200)){return c("amphitheatre",t)}else{oe("upgAmphitheatre","","upgBldFilter")}}}}return y},build:function(e){const _=this.buildManager;const t=this.bulkManager;let a=te.auto.build.trigger;let r=0;let Y={};let Z;if(typeof e!="object"){const X=this.craftManager;let r=game.ironWill;let t=game.challenges.isActive("blackSky");let l=game.getEffect("priceRatio");let i=l<-.06;let a=game.challenges.isActive("atheism");let n=game.village.leader!==null;let s=game.prestige.getParagonProductionRatio();let o=Q.get("geodesy").researched;let c=Q.get("orbitalGeodesy").researched;let u=Q.get("spaceManufacturing").researched;let g=game.space.getBuilding("sattelite").on;let e=se.getRU("solarRevolution");let m=se.getSolarRevolutionRatio();let f=game.bld.getBuildingExt("calciner").meta;let d=f.val;let p=game.science;let h=p.get("theology").researched;Z={};let b=JSON.parse(JSON.stringify(te.auto.build.items));let v=ae["science"];let k=v.maxValue;let L=v.value/k;let y=(e,t,a)=>{let i=b[e];let r=i.max;if(e){if(L<a){i.max=r===-1?t:Math.min(t,r);if(game.bld.getBuildingExt(e).meta.val>=t&&!u){oe("scienceBld")}}else{i.max=r===-1?game.bld.getBuildingExt(e).meta.val+4:r}}};let x=ae["starchart"].value;if(m<50&&(x<2e6||g<10)){let e=x>1e4?100:300;y("observatory",e+game.getEffect("timeRatio")+Math.pow(3.2,s),.95);y("academy",22*(s+1),.98);y("biolab",200,.99)}let R=X.getPotentialCatnip(false);let w=p.get("machinery").researched;let T=p.get("astronomy");if(L<.98&&(!w||T.unlocked)&&ae["minerals"].value){let e=s&&!T.researched;if(e){b["academy"].max=6*(s+1);if(game.getEffect("maxKittens")<12&&s>1.5){b["academy"].max=3}if(T.unlocked){oe("academy")}}}let M=b["smelter"];let E=b["pasture"];if(!game["workshopTab"].visible&&p.get("animal").researched){M.max=0;if(E.max===150&&!game.challenges.isActive("winterIsComing")&&(R>5||ae["minerals"].value>400||game.village.jobs[0].value>3)){E.enabled=false;oe("pasture")}}if(!h){let e=game.bld.getBuildingExt("pasture").meta;if(e.val>10){E.max=(1+3*l)*(6-s+game.bld.getBuildingExt("library").meta.val)}let t=game.bld.getBuildingExt("hut").meta.val-2;let a=b["library"];a.max=t>0?Math.floor(t*11):a.max;if(w&&ne("wood")<.9&&!r){a.max=45}if(s&&R>4&&t<4&&t>1){if(se.transcendenceTier>9&&!w){if(R>5&&game.village.jobs[0].value>1){E.max=0}b["barn"].max=0}if(!p.get("civil").researched){if(t===2){b["library"].max=13+s;b["mine"].max=1;E.max=13}let e=!game.bld.getBuildingExt("logHouse").meta.val&&i&&!r;if(t===3){a.max=30-2*s;b["academy"].max=5;if(e){b["mine"].max=7}}if(t===4){if(e){b["mine"].max=7}}}if(ae["parchment"].value>3&&!ae["culture"].value){b["workshop"].max=0}}if(!p.get("currency").researched){b["academy"].max=1+s}}if(!p.get("writing").researched&&ae["minerals"].value){let e=b["workshop"];e.max=1;if(ne("minerals")>.9){e.max=3}oe("workshop")}else{oe("workshop",true)}let D=b["reactor"];if(!u&&(ae["titanium"].maxValue>125e3||!g&&i)){D.max=25+10*t}if(ae["uranium"].value<100){D.max=0}if(ae["oil"].maxValue<55e3){b["quarry"].max=35*(1+m)/(1+s)}let F=game.bld.getBuildingExt("ziggurat").meta;if(F.val>10&&!ae["alicorn"].unlocked){let e=Math.pow(F.priceRatio+l,F.val);if(ae["blueprint"].value<2.5*e){b["ziggurat"].max=0}else{b["ziggurat"].max=F.val+1}}if(t&&ae["science"].maxValue>3e5&&!c&&!r){b["observatory"].max=3+d}let U=game.bld.getBuildingExt("magneto").meta;if(!game.challenges.isActive("pacifism")){let e=b["warehouse"];if(e.max===200){e.max=Math.min(200*Math.log(1.064)/Math.log(1.15+l),200)}let t=b["mint"];let a=ae["manpower"].maxValue;let i=game.bld.getBuildingExt("mint").meta.val;if(a<=2e4&&!game.workshop.get("unobtainiumDrill").researched){t.enabled=false}else if(!i||!g||game.getEffect("productionRatio")<.5){t.max=2;b["temple"].max=25}else if(!c){t.enabled=false}if(!u&&U.on<Math.max(1,7-s-4*n-3*(game.getEffect("calcinerRatio")>0)-.4*o)&&!r){let e=b["steamworks"];if(game.bld.getBuildingExt("steamworks").meta.unlocked&&e.enabled&&ae["gear"].value>19){oe("steamworks");e.enabled=false}}else{oe("steamworks",true)}}let P=b["brewery"];if(!p.get("metalurgy").researched||ae["spice"].value>1e3&&ae["spice"].value<1e4){P.max=4}if(!game.calendar.festivalDays||ae["spice"].value<1e3+500*s||!g&&R<0||ae["parchment"].value<5e3){P.enabled=false}let C=b["temple"];if(n&&!game.getEffect("unobtainiumPerTickSpace")&&ae["faith"].maxValue<1e4){C.max=Math.max(21+10*c-s+5*l-4*i,10*(1+m))}if(m<.06){if(P.max!==4){P.max=30}b["chapel"].max=19-4*s+(ae["ship"].value>100)*60;C.max=40-28*!o-3*n-s;let e=game.bld.getBuildingExt("smelter").meta.val;if(R>7*game.village.happiness*(2-1*n)){E.max=0;oe("pasture")}if(ae["wood"].perTickCached<.09&&!game.ironWill){M.max=0}if(e){if(ae["wood"].perTickCached*2<e+.5*!w||ae["minerals"].perTickCached<e+1-3*h-s-5*T.researched+l){M.max=0;if(!r){oe("smelter")}}else{M.max=e+1}}}let B=game.bld.getBuildingExt("temple").meta.val;let S=b["tradepost"];let I=se.faith>e.faith||game.prestige.getPerk("voidOrder").researched;let O=ae["gold"].value/ae["gold"].maxValue;if(game.getEffect("standingRatio")<.2&&ae["ivory"].value>1e4&&B>11){let e=game.workshop.get("caravanserai");if(e.unlocked&&!e.researched){C.enabled=false;S.max=21-s;oe("caravanserai")}}if(o){if(n&&!c&&ae["kittens"].maxValue<130&&game.workshop.get("concreteHuts").researched){if(b["hut"].enabled){_.built("hut",undefined,1)}if(b["logHouse"].enabled){_.built("logHouse",undefined,1)}}}else{let e=!se.getRU("sunAltar").on||!se.getRU("sunAltar").on||l<-.04&&!i||m>.3&&!g&&game.getEffect("faithRatioReligion")<.2;if(e&&m){C.max=25-8.5*(l<0)-2*(m>3)-4*n;let e=17+2*B-5*s-3*Math.sqrt(m)-2*n+d+l;if(!r){e=Math.max(Math.min(e,35),12)}S.max=e;oe("religion")}if(!m){S.max=40-25*(s>4)-5*n-5*a-7*!s}}if(!e.on&&!a&&h){if(te.auto.faith.items.solarRevolution.enabled){let e=ce.other["auto.changeLeader"]?0:1;if(ae["faith"].maxValue>750-75*e&&ae["gold"].maxValue>500-50*e){oe("temple");C.max=Math.floor((7.5-e*.7)/(1+game.prestige.getParagonStorageRatio()))+3*!n+3*!s;if(ne("gold")>.961){C.max=B+1}}}if(se.transcendenceTier){S.max=18-2*s+1*(ae["kittens"].value<60)-2*n-1*(ae["kittens"].value>70)}if(ne("gold")>.966){S.max=Math.min(18,game.bld.getBuildingExt("tradepost").meta.val+1)}oe("tradepost")}else if(h){oe("temple",true);oe("tradepost",true);if(!c&&B>25){C.enabled=false}}if(!h&&p.get("philosophy").researched&&O<.96&&!a){C.max=l<-.07?1:Math.floor(7.5/(1+game.prestige.getParagonStorageRatio()))-i;S.max=21-2*s-5*n-.45*(ae["kittens"].value>43);oe("tradepost")}let V=b["calciner"];let $=V.max;if(c){if(!u||!g){let e=Math.min(46+m,6*m+15+2*s+4*game.workshop.get("unobtainiumDrill").researched);V.max=$===-1?Math.min(e+e*game.getEffect("productionRatio"),95-35*t+game.space.meta[0].meta[0].on*t*10):Math.min(50,$)}}else{let e=ae["uranium"].value>250;let t=ae["oil"].value>35e3;let a=21+10*e+5*t;if(k<2e5||ae["oil"].maxValue<5e4){a=Math.min(10+s*3+2*Math.sqrt(m),a)}V.max=$===-1?a:Math.min(a,$);if(!game.workshop.get("fluidizedReactors").researched){V.max=20}if(!game.workshop.get("oxidation").researched){V.max=5+m+.2*s+o}b["warehouse"].max=45-200*l+50*(l<-.07)+5*p.get("electricity").researched+s+4*d*i+13*o*s*i;b["quarry"].max=m+Math.max(s-1,1)+4+d*o}let W=ae["oil"].perTickCached-.024*d;if(W<.5-.1*i){V.max=1+1*(s>1);if(d){oe("oilTick")}if(W<.1){b["magneto"].max=0}}let z=b["solarFarm"];if(ne("titanium")<.9&&game.resPool.energyProd-10>game.resPool.energyCons){z.enabled=false}let A=b["mansion"];let q=b["broadcastTower"];let G=p.get("archeology").researched;let J=ae["ship"].value;let H=c||J>600;if(u){if(u&&b["barn"].max<16&&ne("wood")>.9){b["barn"].max=-1}}else{if(x>1e4&&!game.calendar.festivalDays&&!r&&s>1){b["observatory"].max=70;b["chapel"].max=10;b["factory"].max=0;b["amphitheatre"].max=20;b["academy"].max=60;b["harbor"].max=10;q.max=10;b["logHouse"].max=game.bld.getBuildingExt("logHouse").meta.val+1;b["hut"].max=game.bld.getBuildingExt("hut").meta.val+1;if(!ae["wood"].perTickCached){M.max=60}b["ziggurat"].max=1}}if(p.get("electronics").researched&&!u){oe("broadcastTower");A.max=80}else{oe("broadcastTower",true)}let j=ae["titanium"];let N=b["biolab"];if(!o&&!c){if(!r&&A.max){A.max=12-l-s;if(s&&x>100){A.max-=7}b["quarry"].max=m+s+5;if(V.max===25){A.max=0}}if(ae["alloy"].value>25&&p.get("biology").researched){N.max=0;oe("biolab")}}else{if(H&&!A.max&&ne("titanium")===1){A.max=45}if(u){oe("biolab",true);oe("mansion",true);oe("scienceBld",true);oe("smelter",true);if(m>.1&&c){oe("pasture",true)}}else{if(ne("titanium")<.98){N.max=Math.max(20-m-s-15*!i,0);if(!o){A.max=Math.max(Math.floor(17*(s+1)),135-game.village.maxKittens)}}b["ziggurat"].max=10+15*game.workshop.get("unobtainiumDrill").researched+10*i+m;if(m&&game.getEffect("faithRatioReligion")<.2){S.max=36+Math.max(4*o,22*c)-3*i}}}if(!p.get("electricity").researched){b["oilWell"].max=1+s+m+10*i+j.perTickCached}if(game.space.getProgram("moonMission").on&&ne("titanium")>.9){if(ne("titanium")!==1&&x<1e6){let e=q.max;q.max=e===-1?20:Math.min(20,e)}}else if(x<1e6){q.max=8+100*!m}if(l&&ae["unobtainium"].value<13e3&&game.calendar.futureSeasonTemporalParadox<0&&!game.getEffect("resStasisRatio")){b["chronosphere"].enabled=false}if(game.challenges.isActive("anarchy")){b["aiCore"].enabled=true}else{if(!game.getEffect("aiCoreProductivness")&&ae["burnedParagon"].value<2e4&&i){if(game.getEffect("beaconRelicsPerDay")){b["aiCore"].max=game.getEffect("gflopsConsumption")?25:5}else{b["aiCore"].max=0}b["chronosphere"].max=20}if(game.science.get("paradoxalKnowledge").researched&&ae["unobtainium"].maxValue<7e9&&game.calendar.trueYear<2e3){b["chronosphere"].max=Math.max(40,game.getEffect("gflopsPerTickBase")*50);if(ae["burnedParagon"].value>1e4){b["harbor"].max=400}}}if(t&&te.auto.build.items.calciner.enabled&&f.unlocked&&!d){_.built("calciner",undefined,1)}let K=["library","academy","pasture","barn","harbor","oilWell","warehouse","broadcastTower","accelerator","mansion","quarry","aqueduct","chapel","lumberMill","biolab","mint"];for(let t in b){let e=b[t];if(!e.enabled||!e.max){continue}if(K.indexOf(t)===-1){Z[t]=e}else{Y[t]=e}}}e=Z||e;let l=_.getMetaDataList(e);const i=t.bulk(e,l,a,"bonfire");if(i){for(let a=0;a<i.length;a++){let e=i[a].count;let t=i[a].id;e=_.count(t,e);if(e>0){_.built(i[a].name||t,i[a].stage,e);r+=1}}}if(JSON.stringify(Y)!=="{}"){l=_.getMetaDataList(Y);let i=t.bulk(Y,l,a,"bonfire");if(i){for(let a=0;a<i.length;a++){let e=i[a].count;let t=i[a].id;e=_.count(t,e);if(e>0){_.built(i[a].name||t,i[a].stage,e);r+=1}}}}return r},space:function(){if(!game["spaceTab"].visible||!game.space.meta[0].meta[0].on){return}const S=JSON.parse(JSON.stringify(te.auto.space.items));const a=this.spaceManager;const e=this.craftManager;const t=this.bulkManager;let i=te.auto.space.trigger;let V=game.challenges.isActive("blackSky");let A=se.getSolarRevolutionRatio();let q=ae["starchart"].value;this.setTrait("chemist");{let E=S["spaceStation"];let F=game.getEffect("unobtainiumPerTickSpace");let P=game.getEffect("priceRatio");let C=P<-.06;let e=A>1.3&&F||A>2;if(V){S["researchVessel"].enabled=false;if(E.enabled){$("#toggle-spaceStation").click();oe("spaceStation")}let e=game.challenges.getChallenge("1000Years");if(!e.on&&e.active){if(!S["containmentChamber"].enabled){$("#toggle-containmentChamber").click()}if(!S["heatsink"].enabled){$("#toggle-heatsink").click()}let e=te.auto;let t=e.timeCtrl;if(!t.enabled){$("#toggle-timeCtrl").click()}if(!t.items.timeSkip.enabled){$("#toggle-timeSkip").click()}if(!e.build.items.chronosphere.enabled){$("#toggle-chronosphere").click()}let a=e.faith.items;if(!a.marker.enabled){$("#toggle-marker").click()}if(!a.blackPyramid.enabled){$("#toggle-blackPyramid").click()}}}else if(!i&&e&&!game.space.meta[0].meta[3].val&&q<2400){i=9;oe("spaceTrigger")}let B=game.space.getBuilding("sattelite").val;let t=V||A>5||F&&game.workshop.get("spaceManufacturing").researched;if(i){if(i!==9){oe("spaceZero")}}else{let e=game.resPool.energyProd;let t=game.resPool.energyCons;let a=game.prestige.getParagonProductionRatio();let i=ne("unobtainium");let r=game.space.getBuilding("spaceStation").val;let l=(-.6-P)*!C*(game.getEffect("hutPriceRatio")<-1);let n=Math.pow(1.08,B);let s=2300*n*(1-l);let o=3e3*Math.pow(1.12,r)*(8*!A+l+.7+C*(-1.2*(ae["titanium"].maxValue<2500*n*1.5)+.5));if(q>s&&A<2){S["sattelite"].max=B+1}if(!F){S["sattelite"].max=9+6*V}let c=game.getEffect("productionRatio")<.6&&i>0&&A>5;if(q<s&&A<2&&B||!game.workshop.get("orbitalGeodesy").researched||c){S["sattelite"].max=0}if(q>o){E.max=r+1}if(q<o||game.challenges.isActive("energy")||!F){if(E.enabled){oe("spaceStationStar")}E.max=0}let u=S["entangler"];if(game.getEffect("beaconRelicsPerDay")){let e=u.max;let t=0;if(game.bld.get("aiCore").effects["aiLevel"]>13&&!game.getEffect("aiCoreProductivness")){t=1}u.max=e===-1?game.getEffect("gflopsPerTickBase")/.1*(1+t):e}else{if(P<-.03&&!V){S["spaceBeacon"].enabled=false}if(V){S["spaceBeacon"].enabled=true}S["entangler"].enabled=false}if(!game.getEffect("lunarOutpostRatio")){if(i!==1){S["spaceElevator"].max=7+Math.min(A,a)-6*(ae["unobtainium"].maxValue<500)+C;if(!C&&i<.5-10*P||!A&&!game.ironWill&&!Q.get("astrophysicists").researched){S["spaceElevator"].max=0}}}else if(!A){S["spaceElevator"].max=40}if(ne("antimatter")<.8){S["terraformingStation"].enabled=false}let g=game.getResourcePerTick("uranium",true);if(g<1||ne("unobtainium")>=1){S["moonOutpost"].max=1}let m=game.prestige.getParagonStorageRatio();if(i<.9){S["moonBase"].max=(game.bld.getBuildingExt("aiCore").meta.val>25)*140}else{let e=game.space.getBuilding("moonBase").val;if(e.val===e.on){S["moonBase"].max=e.val+1;oe("moonBase")}}if(g>8&&q<1e6){S["planetCracker"].max=7*(q>1e5)}if(q<Math.min(3e4*(1+A*A),1e7)){S["hydrofracturer"].max=100*game.getEffect("spaceRatio")*(1+5*P)-a-A-23*V}if(!A){S["hydrofracturer"].max=0;S["researchVessel"].max=42+a;if(!V){S["sunlifter"].max=0}}if(q<1e5){S["spiceRefinery"].max=0}if(ne("antimatter")>.9){S["sunlifter"].max=0}let f=game.space.getBuilding("cryostation").val;let d=ae["eludium"].value;let p=25*Math.pow(1.12,3*(m>1)+9*(m>100)+f+a+Math.sqrt(m*.5));if(d>p){S["cryostation"].max=f+1}if(d<p){S["cryostation"].max=0}let h=S["containmentChamber"];let b=S["heatsink"];let v=ae["antimatter"];let k=game.space.getBuilding("heatsink").val;let y=game.space.getBuilding("containmentChamber").val;b.max=k+1;h.max=y+1;let x=Math.max(50*(1+k*.01),5*y);let R=e<t+x+2;let w=game.prestige.getPerk("numerology").researched&&(game.calendar.cycle===3||game.calendar.cycle===1);if(C&&game.getEffect("gflopsConsumption")&&y<k+15){h.enabled=false}if(v.value+50*game.getEffect("antimatterProduction")<v.maxValue||R||w){b.enabled=false;h.enabled=false}if(e<t+20){E.max=0;S["moonOutpost"].max=0;S["moonBase"].max=0}let T=S["orbitalArray"];let M=game["nummon"];if(M){let e=game.space.getBuilding("orbitalArray").val;if(M.getBestUnobtainiumBuilding()===$I("space.planet.piscine.orbitalArray.label")){if(!game.getEffect("shatterTCGain")||e>39||a<2){T.max=e+1}else{T.max=40}}else if(T.max<0){T.max=0}}}if(game.ironWill){E.max=0;S["terraformingStation"].max=0}if(B<3+2*(A>9.7)&&game.getEffect("calcinerRatio")>2||e&&!B){a.build("sattelite",1);oe("sattelite")}if(t){if(!V&&game.space.getBuilding("researchVessel").val<1&&S.sattelite.enabled){a.build("researchVessel",1)}if(game.space.getBuilding("researchVessel").val<4){E.max=0}}}const r={};for(let e in S){r[e]=a.getBuild(e)}const l=t.bulk(S,r,i,"space");let n=0;for(let t in l){let e=l[t];if(e.count>0){a.build(e.id,e.count);n=1}}return n},craft:function(){const t=te.auto.craft.items;const a=this.craftManager;const e=["ship","parchment","beam","wood","slab","alloy","gear","concrate","steel","plate","scaffold","tanker","manuscript","compedium","blueprint","kerosene","megalith","eludium","thorium"];let i=te.auto.craft.trigger;let r=!game.science.get("construction").researched||!game.bld.getBuildingExt("workshop").meta.on;let l,n,s,o,c,u;let g=i===.95;if(g){o=Q.get("orbitalGeodesy").researched;c=ne("iron")===1;u=game.prestige.getParagonProductionRatio()<1.74}this.setTrait("metallurgist");this.setTrait("engineer");for(const f of e){n=t[f];s=n.require?a.getResource(n.require):"noRequire";l=0;if(!n.enabled){continue}if(r&&f!=="wood"){continue}if(!a.getCraft(f).unlocked){continue}let e=i;if(g){if(o){e=.9;if(f==="thorium"){e=1}if(f==="eludium"){e=.98}if(f==="plate"&&Q.get("spaceManufacturing").researched&&c){e=0}}if(u){if(f==="slab"||f==="beam"){e=.985}}}if(s==="noRequire"||s.value/s.maxValue>=e&&s.value<=2*s.maxValue){l=a.getLowestCraftAmount(f,n.limited,n.limRat,s.name)}else if(n.limited){l=a.getLowestCraftAmount(f,n.limited,n.limRat,false)}if(l>=1){a.craft(f,l)}}let m=te.auto.upgrade.items.upgrades;if(m.cache&&game.workshop.get(m.cache).researched){m.cache=false}},holdFestival:function(){let t=game.prestige.getPerk("carnivals").researched;let e=t&&(ae["parchment"].value<1e4||ae["culture"].value<15e3);if(!game.science.get("drama").researched||game.calendar.festivalDays>=400){return}if((!t||e)&&game.calendar.festivalDays>1){return}if(game.village.getKittens()<5&&!ae["zebras"].value){return}if(game.ironWill&&!game.prestige.getPerk("numeromancy").researched){return}let a=this.craftManager;let i=4e3*a.getTickVal(ae["manpower"],true)>1500;let r=4e3*a.getTickVal(ae["culture"],true)>5e3;let l=4e3*a.getTickVal(ae["parchment"],true)>2500*3;let n=ae["parchment"].value>=7e3||l||ae["manpower"].perTickCached>18-game.prestige.getParagonProductionRatio();if(!(i&&r&&n)){return}if(game.science.getPolicy("carnivale").researched){let e=!ae["furs"].value||!ae["ivory"].value||!ae["spice"].value;if(e){return}}let s=game["villageTab"];let o=s.festivalBtn;if(!o||!o.model){return s.render()}let c=o.model.prices;if(game.resPool.hasRes(c)){game.resPool.payPrices(c);let e=t&&ae["culture"].value>1e6?50:1;game.village.holdFestival(e);te.auto.trade.festival=undefined;ue("festival",1);E(c);if(game.calendar.festivalDays>400){le("festival.extend",[],"festivalFilter")}else{le("festival.hold",[],"festivalFilter")}}else{if(Q.get("nanosuits").researched){if(ae["parchment"].value<2500||ae["manpower"].value<1500){te.auto.trade.festival=true}}}},observeStars:function(){let n=game.calendar;let s=game.ironWill||!ce.other["auto.changeLeader"];if(s){let e=ae["catnip"];game.resPool.addRes(e,e.perTickCached+10)}if(n.observeBtn!=null){let e=ae["science"].value;let t=ae["starchart"].value;n.observeHandler();let a="";let i=ae["science"].value-e;if(i){a+="ï¼Œè·å¾—äº† "+game.getDisplayValueExt(i)+" ç§‘å­¦"}let r=ae["starchart"].value-t;if(r){a+="ï¼Œè·å¾—äº† "+r+" ä¸ªæ˜Ÿå›¾"}le("act.observe",[a],"astronomicalEventFilter");let l=1;if(Math.random()<.2&&s){let e=dojo.byId("observeButton");n.observeBtn=dojo.create("input",{id:"observeBtn",type:"button",value:$I("navbar.observe")},e);n.observeHandler();l=2}ue("science",i*l,"resGain");ue("starchart",r*l,"resGain");ue("stars",1)}},hunt:function(){let i=ae["manpower"];if(i.value<100||game.challenges.isActive("pacifism")){return}let a=game.getEffect("hunterRatio");if(ne("manpower")>3&&a<3){return}let r=game.bld.getBuildingExt("unicornPasture").meta.val;let l;if(!r){let e=ae["unicorns"].value;let t=game.achievements.get("unicornConspiracy").unlocked||e||a;l=!r&&t&&i.value>1e3&&e<3}let t=te.auto.options.items.hunt;let e=t.subTrigger;game.resPool.addRes(i,Math.max(2*(e>.9)*i.perTickCached+game.getEffect("manpowerPerTickCon"),0),false);let n=Math.floor(i.value/100);let s=t.subTrigger<=i.value/i.maxValue;let o=!s&&te.auto.trade.cache;let c=this.craftManager.getAverageHunt();let u=game.science.get("writing").researched;let g=!ae["furs"].value||ae["parchment"].value<Math.max(25,c["ivory"])||game.ironWill?Math.max(30,Math.floor(.5*n)):0;let m=u&&n>g&&g>0&&ne("culture")!==1;if(s||m||l||o||t.time){if(m){n=g;if(!game.ironWill){le("act.hunt.mint","","huntFilter")}}if(l){n=10;re(ee("act.hunt.unicorn"))}if(o&&!t.time){n=Math.min(n,Math.max(Math.floor(i.perTickCached/50),1));te.auto.trade.cache=false;le("act.hunt.trade","","huntFilter")}if(t.time){t.time=false}if(n<=0){return}let e=game.ironWill?ae["zebras"].title:$I("effectsMgr.statics.maxKittens.title");game.resPool.addResEvent("manpower",-n*100);ue("manpower",n*100,"resConsume");let a={};for(let e in c){a[e]=ae[e].value}this.setTrait("manager");game.village.gainHuntRes(n);this.setTrait();if(n>=1e3){game.challenges.getChallenge("pacifism").unlocked=true}if(te.auto.cache.trait["manager"]){le("act.hunt",["ç®¡ç†è€…æ´¾å‡º "+n,e],"huntFilter");ue("hunt.manager",n)}else{ue("hunt",n);le("act.hunt",[n,e],"huntFilter")}const f={};for(let t in c){let e=ae[t].value-a[t];f[t]=e;ue(t,e,"resGain")}this.cacheManager.pushToCache({materials:f})}},trade:function(){let r={};let l=ce.other["auto.changeLeader"]?0:2;let n=game.calendar.day<0;for(let i in ae){let e=ae[i];let t=e.value;if(n||!e.perTickCached){r[i]=t;continue}let a=Math.min(e.perTickCached*l+t,Math.max(t,e.maxValue||Infinity));if(isNaN(t)||t<1e-10){e.value=0}else{e.value=a}r[i]=a}let a;const i=this.craftManager;const s=this.tradeManager;const e=this.cacheManager;let L=i.getResource("gold");let o=[];let t=te.auto.trade;let c=t.trigger;if(!s.singleTradePossible(undefined)){return}let u=game.calendar;let g=u.getCurSeason().name;let m=ne("gold");let f=ne("titanium");let d=c<=m;let p;this.setTrait("merchant");let h=0;let b=se.getSolarRevolutionRatio();let v=ae["faith"].value;let k=game.challenges.anyChallengeActive();let y=game.getEffect("priceRatio");let x=y<-.06;let R=b||k&&!v||ae["gold"].maxValue<(550-50*(v>500))*(1+3*y);let w=Q.get("spaceManufacturing").researched;let D=!game.ironWill&&w&&b&&ae["concrate"].value>1e4/(1+b);let U=se.getRU("stainedGlass").on||!b||v<200;let I=ae["faith"].value;let T=te.auto.faith.items;let O=se.getRU("transcendence").on||!T.transcendence.enabled||!game.getEffect("unobtainiumPerTickSpace");let W=se.getRU("apocripha").on||!T.apocripha.enabled||se.faithRatio>.22||se.faith<1e5;let z=game.workshop.get("miningDrill").researched;let G=O&&W;let J=G||se.transcendenceTier>9||game.village.sim.kittens.length<130;let M,E,F,P;let C=t.items;for(F in C){M=C[F];E=s.getRace(F);if(!E.unlocked){continue}if(!game["diplomacyTab"].racePanels[h]){game["diplomacyTab"].render()}h++;if(F==="nagas"&&D){continue}if(F==="dragons"&&b>2&&f<.7&&ne("uranium")>.1){continue}if(F==="lizards"&&b>.1){continue}if(F==="sharks"&&!k&&b>3&&!M.limited){continue}if(!M.enabled){continue}let e=M[g];if(!e){continue}P=M.require?i.getResource(M.require):false;if((!P||c<=P.value/P.maxValue)&&d){o.push(F)}else if(M.limited&&R&&J&&U){if(F==="sharks"&&E.embassyLevel<10){continue}if(s.getProfitability(F)){o.push(F);if(F!=="leviathans"||F==="zebras"&&!ae["titanium"].value){p=true}}}}let B=ae["catnip"].value+100*game.getResourcePerTick("catnip",true);if(B<0&&game.deadKittens<1e3&&!game.ironWill){let a=game.diplomacy.get("sharks");if(a.unlocked){let e=s.getLowestTradeAmount("sharks");let t=s.getAverageTrade(a).catnip;s.trade("sharks",Math.max(Math.ceil(B/-t),e,1));le("trade.catnip")}}if(o.length===0){return}p=p&&!d?.3+.05*x+.1*!b*(1+2*game.science.get("theology").researched)+.05*game.workshop.get("geodesy").researched:1;let S=Math.floor(s.getLowestTradeAmount(undefined,true,false)*p);if(k&&game.science.get("architecture").researched&&!ae["furs"].value){return}if(t.festival&&!u.festivalDays&&ae["parchment"].value>2500){return}if(S<1){return}const V=[];for(a=0;a<o.length;a++){F=o[a];M=te.auto.trade.items[F];P=M.require?i.getResource(M.require):false;let e=(!P||c<=P.value/P.maxValue)&&c<=m;if(F==="leviathans"){p=1}let t=Math.floor(s.getLowestTradeAmount(F,M.limited,e)*p);if(t<1){o.splice(a,1);a--;continue}V[a]=t}let H=o.length;if(!o.length){return}let $=game.getEffect("shatterTCGain");let j=ae["steel"].value>ae["plate"].value&&!$&&u.season!==2||ne("coal")>.99;let N=H>1&&!$&&(!b&&game.getEffect("unobtainiumPerTickSpace")||ne("uranium")>.4);let K=ae["plate"].value>10*ae["steel"].value&&f>.5&&ae["titanium"].value>1e4;let _=u.season>1&&f>.5+.4*w;const A={};while(o.length>0&&S>=1){if(S<o.length){let e=Math.floor(Math.random()*o.length);if(!A[o[e]]){A[o[e]]=0}A[o[e]]+=1;S-=1;o.splice(e,1);V.splice(e,1);continue}let e=Math.floor(S/o.length);let t=0;for(a=0;a<o.length;a++){if(V[a]<e){e=V[a];t=a}}F=o[t];if(F==="spiders"&&j){e=Math.floor(.2*e)}if(F==="dragons"&&N){e=Math.floor(.2*e)}if(F==="zebras"){if(K){if(_){e=Math.min(Math.ceil(b),e)}e=Math.floor(.3*e)}}if(F==="sharks"&&m>=.98){e=Math.floor(.5*e)}if(!A[F]){A[F]=0}A[F]+=e;S-=e;o.splice(t,1);V.splice(t,1)}if(A.length===0){return}if(m>=.98){t.cache=true}for(let e in A){if(A[e]>0){if(!s.getTradeButton(e)){game["diplomacyTab"].render();continue}s.trade(e,A[e])}}let Y=te.auto.cache.cacheSum.manpower;const q={};let Z=d||!Y?.01:1-.4*x;for(let t in ae){let e=ae[t].value-r[t];if(e){q[t]=e*Z;if(e>0){ue(t,e,"resGain")}if(e<0){ue(t,-e,"resConsume")}}}e.pushToCache({materials:q})},miscOptions:function(){const u=this.craftManager;const i=this.buildManager;const r=te.auto.options.items;let g=0;let t=te.auto.cache;let e=t.dataTimer;let a=game.timer.ticksTotal;let l=e.ticksTotal;let n=game.calendar.trueYear();let s=game.telemetry.guid;if(a-l<0||e["trueYear"]>n||e["saveId"]!==s){t.dataTimer={};t.cacheSum={};te.auto.filter.console={};N();me();t.resUpg={};this.leaderTimer=0;this.leader=0;te.auto.upgrade.items.upgrades.cache=null;let e=t.dataTimer;e["saveId"]=s;e["ticksTotal"]=a;e["trueYear"]=n}if(a-l>2e4){e.ticksTotal=a;te.auto.cache.cacheSum={};oe("changeLeader",true)}let o=te.auto.filter;let m=se.transcendenceTier;if(r.filterGame.enabled&&o.enabled&&m>3){let i=o.items;let r=o.console;let l=game.console.filters;for(let a in l){let e=i[a+"Filter"];let t=l[a];if(!t.unlocked||e&&!e.enabled||r[a]){continue}t.enabled=false;r[a]=true;g=1}if(g){game.ui.renderFilters()}}e:if(r.buildEmbassies.enabled&&!!game.diplomacy.races[0].embassyPrices&&(game.ironWill||game.science.get("theology").researched)){let e=ae["culture"];let t=e.value/e.maxValue;let a=r.buildEmbassies.subTrigger;let o=t>Math.max(.97,te.auto.craft.trigger);let c=Math.sqrt(se.getSolarRevolutionRatio()+1);let i=e.value>5e3+5e3*(m>5)+5e3*Math.sqrt(2*se.getSolarRevolutionRatio());if(r.buildEmbassies.subTrigger<=t&&t<2||i){let i,r,t,l;const C=game["diplomacyTab"].racePanels;let n=u.getValueAvailable("culture",true);const B={};const S=[];const V=C.length-(game.diplomacy.get("leviathans").unlocked?1:0);let a=te.auto.trade.items;for(i=V-1;i>-1;i--){if(!C[i].embassyButton){game["diplomacyTab"].render();continue}r=C[i].race.name;t=game.diplomacy.get(r);if(!o&&!a[r].enabled){continue}let e=1-game.getEffect("embassyCostReduction");B[r]={val:0,basePrice:t.embassyPrices[0].val*e,currentEm:t.embassyLevel,priceSum:0,race:t};S.push(r)}if(S.length===0){break e}let s=game.science.get("astronomy").researched;while(S.length>0){for(i=0;i<S.length;i++){r=S[i];l=B[r];let e=l.currentEm+l.val;let t=l.basePrice*Math.pow(1.15,e+game.getEffect("embassyFakeBought"));let a=true;if(!o){if(e>14+c-10*(r==="zebras")&&s||r==="sharks"&&c>2&&!game.getEffect("unobtainiumPerTickSpace")&&ae["furs"].value||r==="dragons"&&!game.getEffect("unobtainiumPerTickSpace")){a=false}}if(t<=n&&a){n-=t;l.priceSum+=t;l.val+=1;if(o){S.splice(i,1);i--}}else{S.splice(i,1);i--}}}for(r in B){l=B[r];if(l.val===0){continue}n=u.getValueAvailable("culture",true);if(l.priceSum>n){continue}ae["culture"].value-=l.priceSum;ue("culture",l.priceSum,"resConsume");l.race.embassyLevel+=l.val;ue("embassy",l.val);g+=1;if(l.val===1){re(ee("build.embassy",[l.val,l.race.title]),"embassyFilter")}else{re(ee("build.embassies",[l.val,l.race.title]),"embassyFilter")}}}}if(r.fixCry.enabled&&game.time.getVSU("usedCryochambers").val>0){let e=0;const $=game["timeTab"].vsPanel.children[0].children[0];while($.controller.buyItem($.model,{},function(){})){e+=1}if(e>0){le("act.fix.cry",[e],"ks-fixCry");ue("fix.cry",e)}}let c;let f=(e,t,a)=>{re(ee("summary."+e,[t]));ue(e,t);if(a){c=i.getBuildButton(e);if(c){c.controller.onAll(c.model)}}};let d=game.bld.getBuildingExt("mint").meta;if(d.on!==d.val&&ae["manpower"].maxValue>3e4&&ne("gold")>.5){d.on=d.val}if(d.on>1&&ae["manpower"].maxValue<19e3&&!game.challenges.isActive("pacifism")){if(!game.opts.enableRedshift){d.on=0;f("mint")}}let p=game.bld.getBuildingExt("factory").meta;if(p.val&&p.on!==p.val&&game.workshop.get("spaceManufacturing").researched){f("factory",undefined,true)}let h=game.bld.getBuildingExt("magneto").meta;let b=game.getResourcePerTick("oil",true)>.05*h.val;let v=game.bld.cathPollution>5e6&&game.bld.cathPollutionPerTick>50;if(h.val&&!h.on&&b&&v&&!p.isAutomationEnabled){f("magneto",undefined,true)}let k=game.bld.getBuildingExt("steamworks").meta;if(k.val&&k.on!==k.val&&h.on>9){f("steamworks",undefined,true)}let y=game.bld.getBuildingExt("reactor").meta;let x=game.getResourcePerTick("uranium",true);if(y.val&&y.on!==y.val&&x>0){f("reactor",undefined,true)}let R=game.time.getCFU("temporalAccelerator");if(R.on&&!game.time.testShatter){R.isAutomationEnabled=true;game.time.testShatter=1;f("temporalAccelerator")}let w=game.resPool.energyProd;let T=game.bld.getBuildingExt("biolab").meta;let M=T.on&&game.workshop.get("biofuel").researched;let E=u.getPotentialCatnip();E=te.auto.distribute.religion||E<0&&ae["catnip"].value+1e3*E<0;if(M&&E){re(ee("summary.biolab.test",[""])+"(çŒ«è–„è·äº§é‡è¿‡ä½)");T.on=0}if(w&&w<game.resPool.energyCons){if(M&&T.on){let e="å†¬å­£äº§å‡ºç”µ:"+game.getDisplayValueExt(w)+"ï¼Œæ¶ˆè€—ç”µ:"+game.getDisplayValueExt(game.resPool.energyCons)+"ï¼Œå°çŒ«æ‹…å¿ƒç”µä¸å¤Ÿå¹¶å…³é—­äº†";let t=T.on;le("summary.biolab.test",[e+t]);T.on=0;ue("biolab.test",e+t);return 1}let e=game.bld.getBuildingExt("oilWell").meta;if(e.isAutomationEnabled&&game.workshop.get("pumpjack").researched&&e.val>20){e.isAutomationEnabled=false;game.upgrade({buildings:["oilWell"]});game.resPool.update();f("pumpjack",1);return 1}let t=game.bld.getBuildingExt("accelerator").meta;if(t.on){t.on-=Math.ceil(t.on*.5);f("accelerator",1)}}let F=ae["spice"].value;const P=[{name:"brewery",metadata:game.bld.getBuildingExt("brewery").meta,Button:i.getBuildButton("brewery"),conditionOn:game.calendar.festivalDays&&F>1e4,conditionOff:game.bld.getBuildingExt("brewery").meta.on&&(!game.calendar.festivalDays||!F)}];if(!game.opts.enableRedshift){P.push({name:"chronocontrol",metadata:game.time.getVSU("chronocontrol"),Button:this.timeManager.getBuildButton("chronocontrol"),conditionOn:game.calendar.futureSeasonTemporalParadox<1&&game.calendar.day>98,conditionOff:game.time.getVSU("chronocontrol").on&&game.calendar.day>0});let e=game.bld.getBuildingExt("calciner").meta;if(!game.time.getCFU("ressourceRetrieval").on&&e.isAutomationEnabled){e.isAutomationEnabled=false;game.upgrade({buildings:["calciner"]});f("calciner")}}for(let e=0;e<P.length;e++){let t=P[e];if(t.metadata.val>0){if(t.conditionOn){let e=t.metadata.val-t.metadata.on;if(e){t.Button.controller.onAll(t.Button.model);re(ee("summary."+t.name+"On"));ue(t.name)}}else if(t.conditionOff){t.Button.controller.offAll(t.Button.model);re(ee("summary."+t.name+"Off"));ue(t.name)}}}return g},gameUpgrade:function(){let e=performance.now();let t=te.auto;let a=t.upgrade.items.upgrades;let i=t.cache;let r=i.upgrade;if(r){game.upgrade(r);for(let e in r){delete r[e]}i.upgrade=null}else{game.updateCaches()}if(a.update){game.updateCaches();a.update=null}let l=performance.now()-e;this.time+=l},calculateTime:function(){let e=this.time;let t=performance.now()-e;ce.ksTime+=t;ce.totalTicks++;te.auto.cache.stocks=null},setTrait:function(i){let t=game.village.leader;let e=te.auto;let a=e.distribute;if(!e.options.items.promote.enabled||!a.enabled||!a.items.leader.enabled){if(t){return oe("changeLeader")}}if(i){if(game.science.get("civil").researched&&t&&!game.challenges.isActive("anarchy")){let a=te.auto.cache;let e=game.village.traits.some(e=>{return e.name===i});if(!a.trait[i]){if(e){a.trait[i]=true;let e=$I("village.bonus.desc."+i);let t=["å½“"+e.slice(0,2)+"é¡¹ç›®æ—¶"+$I("village.trait."+i)+"çŒ«çŒ«è‡ªè§‰é¡¶æ›¿å½“å‰é¢†è¢–ï¼Œå…¶æ•ˆæœä¸º"+e];if(game.ticks>1e4){oe("leader",true)}else{oe("leader","","leaderFilter")}le("set.leader",[t],"leaderFilter")}}if(!te.copyTrait){let e=t.trait.name;te.copyTrait=e;a.trait[e]=true}if(!e){a.trait[i]=false}if(e||te.copyTrait===i){t.trait.name=i}}}else if(te.copyTrait&&t){if($I("village.trait."+te.copyTrait)===t.trait.title){t.trait.name=te.copyTrait;te.copyTrait=undefined}}},catnipForReligion:function(e){let t=e||0;let a=1;let i=se.getRU("transcendence").on;let r=i?se.transcendenceTier:0;if(t){r+=1}let l=se.faithRatio;let n=se.faith/1e6*(r+1)*(r+1)*1.01;let s=l+n-t;let o=.01+ae["faith"].value*(1+game.getUnlimitedDR(s,.1)*.1);let c=game.getLimitedDR(game.getUnlimitedDR(o,1e3)/100,10+game.getEffect("solarRevolutionLimit"));if(r<10){a=game.village.getResConsumption()["catnip"]*(1+game.getEffect("catnipDemandRatio"));if(game.village.sim.kittens.length>0&&game.village.happiness>1){a+=a*Math.max(game.village.happiness*(1+game.getEffect("hapinnessConsumptionRatio"))-1,0)*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))}let e=1+se.getSolarRevolutionRatio()*(1+game.bld.pollutionEffects["solarRevolutionPollution"]);a=(ae["catnip"].perTickCached-a)*(1+c)/e+a+game.globalEffectsCached.catnipPerTickCon}if(a<0&&ae["catnip"].value+1e3*a<0){let e=te.auto.faith;if(!te.auto.distribute.religion){te.auto.distribute.religion=true}if(t){le("summary.transcend.catnip",[game.getDisplayValueExt(a*5)]);ce.other["transcend.catnip"]=a*5}if(!t){le("summary.adore.catnip",[game.getDisplayValueExt(a*5)]);ce.other["adore.catnip"]=a*5}}return a},getBestUnicornBuilding:function(){let u=game.bld.getBuildingExt("unicornPasture").meta;if(!u.unlocked){return}let g=Infinity;let m="";let f=1-game.getEffect("goldCostReduction");let e=game.bld.getBuildingExt("ziggurat").meta.on;let d=Math.max(e,1);let p=game.getEffect("unicornsRatioReligion")+1;let t=500*(.9+p*.1);let h=game.prestige.getPerk("unicornmancy").researched?1.1:1;let b=game.getEffect("riftChance")*h/2e4*t;let a="unicorns";let v=ae["unicorns"];let i=v.perTickCached;let r=game.calendar.cycleEffectsFestival({unicorns:1})["unicorns"];let k=v.perTickCached*game.getTicksPerSecondUI()/r;if(!k){return u}let l=k/Math.max(1,u.val);let y=2*Math.pow(u.priceRatio+game.getEffect("priceRatio"),u.val);l=y/l;let n=1.5*game.prestige.getParagonProductionRatio()+1.5;let x=ae["tears"].value+v.value*2500/d>Math.max(1e6,n*ae["ivory"].value);x=x||ae["ivory"].perTickCached*n*r<i&&ae["manpower"].maxValue>2e4;x&=ae["alicorn"].unlocked;let R="tears";if(x){R="ivory";a="ivory"}l=x?l*3e3:l;if(l<g){g=l;m=u}e:for(let e=0;e<6;e++){let c=se.meta[0].meta[e];if(c.unlocked){let r,l=0;let n=p;if(!c.effects["unicornsRatioReligion"]){continue}if(x&&!c.effects["alicornChance"]){continue}let s=Math.pow(1.15,c.on);for(let i=0;i<c.prices.length;i++){let e=c.prices[i];let t=e.name;let a=e.val;if(t===R){l+=a*s*2500/d;n+=c.effects["unicornsRatioReligion"]}if(t==="gold"&&a*f*s>ae["gold"].maxValue){continue e}if(t==="tears"){r=a*s*2500/d}}let e=game.getEffect("riftChance");let t=c.effects;if(t.riftChance){e+=t.riftChance}let a=50*n+450;let i=e*h/2e4*a;i-=b;let o=k*n/p;o-=k;o+=i;o=l/o;if(x&&t.tcRefineRatio){o*=.5-t.tcRefineRatio}if(o<g){g=o;m=c}if(x&&v.value>r+y){m=u}}}if(e){let e=m.label||"ç‹¬è§’å…½ç‰§åœº";e+="("+ee("$resources."+a+".title")+"æ€§ä»·æ¯”)";if(ce.other["auto.unicorn"]!==e){ce.other["auto.unicorn"]=e;le("summary.auto.unicorn",[e],"unicornSacrificeFilter")}}return m}};let e=function(e){this.setTab(e)};e.prototype={tab:undefined,render:function(){if(this.tab&&game.ui.activeTabId!==this.tab.tabId&&!this.tab._inherited){setTimeout(()=>{this.tab.render()},200+Math.max(-Date.now()+game.timer.timestampStart,-200))}},setTab:function(e){for(const t in game.tabs){if(game.tabs[t].tabId===e){this.tab=game.tabs[t];break}}this.tab?this.render():l("unable to find tab "+e)}};let S=function(){this.manager=new e("Religion");this.bulkManager=new a};S.prototype={manager:undefined,bulkManager:undefined,build:function(e,t,a){let i=this.getBuild(e,t);let r=this.getBuildButton(e,t);if(!r||!r.model.metadata){return game["religionTab"].render()}let l=r.model;if(!l.enabled){l.prices=r.controller.getPrices(l);r.controller.updateEnabled(l);if(!l.enabled){return}}a=this.bulkManager.construct(l,r,a);if(a===0){return}E(l.prices);game.stats.getStat("totalClicks").val+=1;let n=i.label;if(t==="s"){if(te.auto.cache.trait["wise"]){ue("å“²å­¦å®¶å°çŒ«ç¥·å‘Šäº† "+n,a,"faith");return le("act.sun.discovers.leader",[n,a],"faithBuildFilter")}le("act.sun.discovers",[n,a],"faithBuildFilter");ue("å°çŒ«ç¥·å‘Šäº† "+n,a,"faith")}else{ue(n,a,"build");le("act.builds",[n,a],"buildFilter")}},getBuild:function(e,t){switch(t){case"z":return se.getZU(e);case"s":return se.getRU(e);case"c":return se.getTU(e)}},getBuildButton:function(e,t){let a,i,r;switch(t){case"z":a=this.manager.tab.zgUpgradeButtons;break;case"s":a=this.manager.tab.rUpgradeButtons;break;case"c":a=this.manager.tab.children[0].children[0].children}let l=this.getBuild(e,t);for(i=0;i<a.length;i++){if(!a[i]){continue}r=a[i].model.name;if(r.indexOf(l.label)!==-1){return a[i]}}}};let V=function(){this.manager=new e("Time");this.crafts=new t;this.bulkManager=new a};V.prototype={manager:undefined,crafts:undefined,bulkManager:undefined,build:function(e,t,a){let i=this.getBuild(e,t);let r=this.getBuildButton(e,t);if(!r||!r.model.metadata){return game["timeTab"].render()}if(!r.model.enabled){return r.controller.updateEnabled(r.model)}let l=a;let n=i.label;a=this.bulkManager.construct(r.model,r,a);if(a===0){return}E(r.model.prices);ue(n,a,"build");le("act.builds",[n,a],"buildFilter")},getBuild:function(e,t){if(t==="chrono"){return game.time.getCFU(e)}else{return game.time.getVSU(e)}},getBuildButton:function(e,t){let a;if(t==="chrono"){a=this.manager.tab.children[2].children[0].children}else{a=this.manager.tab.children[3].children[0].children}const i=this.getBuild(e,t);for(let t in a){let e=a[t].model.name;if(e.indexOf(i.label)!==-1){return a[t]}}}};let g=function(){this.workManager=new e("Workshop");this.sciManager=new e("Science");this.crafts=new t};g.prototype={manager:undefined,crafts:undefined,build:function(t,e){let a;const i=this.getBuildButton(t,e);if(!i||!i.model.metadata){if(e==="workshop"){game["workshopTab"].render()}else{game["libraryTab"].render()}return}if(!i.model.enabled){i.model.prices=i.controller.getPrices(i.model);i.controller.updateEnabled(i.model);if(!i.model.enabled){return}}if(e==="policy"){let t=i.model.metadata;if(t.name==="theocracy"&&!game.village.leader){return}if(game.village.leader&&t.requiredLeaderJob&&game.village.leader.job!==t.requiredLeaderJob){let e=game.village.getJob(t.requiredLeaderJob).title;game.msg($I("msg.policy.wrongLeaderJobForResearch",[t.label,e]),"important");return}else if(t.name==="transkittenism"&&game.bld.getBuildingExt("aiCore").meta.effects["aiLevel"]>=15){game.msg($I("msg.policy.aiNotMerges"),"alert","ai");return}else if(t.blocked===false){for(a=0;a<t.blocks.length;a++){if(game.science.getPolicy(t.blocks[a]).researched){t.blocked=true;return}}}}let r=te.auto.upgrade.items.upgrades;i.model.prices=i.controller.getPrices(i.model);i.controller.payPrice(i.model,{},function(){});E(i.model.prices);let l=i.model.metadata;l.researched=true;if(l.handler){l.handler(game,l)}if(l.unlocks){game.unlock(l.unlocks)}if(l.blocks){for(a in l.blocks){let e=game.science.getPolicy(l.blocks[a]);e.blocked=true}}if(l.onResearch){l.onResearch(game)}if(l.upgrades){if(e==="workshop"&&!r.update){r.update=true}M(l.upgrades)}game.stats.getStat("totalClicks").val+=1;let n=t.label;let s=te.auto.cache.trait["scientist"];let o=s?"ç§‘å­¦å®¶å°çŒ«":"å°çŒ«";s=s?1:0;if(e==="workshop"){ue(n,s,"upgrade");le("upgrade.upgrade",[n,o],"upgradeFilter");let e=t.name;if(e===r.cache||e==="geodesy"){r.cache=false;let t=te.auto.cache.resUpg;for(let e in te.auto.cache.resUpg){delete t[e]}}if(l.effects&&l.effects["hutPriceRatio"]&&game.ui.activeTabId!=="Bonfire"){setTimeout(()=>{game["bldTab"].render()},2e3)}}else if(e==="science"){ue(n,s,"research");le("upgrade.tech",[n,o],"researchFilter")}else if(e==="policy"){le("upgrade.policy",[n],"policyFilter")}},getValue:function(e,t){let a=te.auto.resources[e];let i=a&&a.enabled?a.stock:0;let r=te.auto.upgrade.items.upgrades.cache;if(te.auto.craft.oxidation&&t!=="oxidation"){if(e==="science"&&ae["steel"].value>5e3&&ae["science"].value>5e4){i+=1e5}if(e==="steel"){i+=5e3}}if(e==="titanium"&&t!=="rotaryKiln"){if(t!=="rotaryKiln"){if(!game.workshop.metaCache["rotaryKiln"].researched&&game.workshop.get("orbitalGeodesy").researched){i+=5e3}}if(r!==t){if(r==="orbitalGeodesy"){if(t!=="pumpjack"){i+=1e3}else if(ae["oil"].value>3e4){i+=1e3}}if(r==="miningDrill"&&r!==t){i+=1750}if(r==="concreteHuts"&&r!==t){i+=3e3}}}if(e==="iron"&&t!=="ironwood"){if(ce.other["auto.ironwood"]&&ae["science"].value>1e4){i+=3e3}}if(e==="alloy"){if(r&&r!==t){i+=te.auto.cache.resUpg[e]}}if(e==="oil"){if(t!=="orbitalGeodesy"&&game.bld.getBuildingExt("calciner").meta.val>20&&!game.workshop.metaCache["orbitalGeodesy"].researched){i+=35e3}}return Math.max(ae[e].value-i,0)},getBuildButton:function(a,e){let i;if(e==="workshop"){i=this.workManager.tab.buttons}else if(e==="science"){i=this.sciManager.tab.buttons}else if(e==="policy"){i=this.sciManager.tab.policyPanel.children}for(let t of i){let e=t.model.name;if(e===a.label){return t}}}};let A=function(){this.manager=new e("Bonfire");this.crafts=new t;this.bulkManager=new a};A.prototype={manager:undefined,crafts:undefined,bulkManager:undefined,built:function(e,t,a){let i=this.getBuild(e);let r=this.getBuildButton(e,t);if(!i.meta.unlocked){return}if(!r||!r.model.metadata){game["bldTab"].activeGroup="all";if(!r||!r.model.metadata){return game["bldTab"].render()}}if(!r.model.enabled){return r.controller.updateEnabled(r.model)}let l=i.meta.label?i.meta.label:i.meta.stages[t].label;a=this.bulkManager.construct(r.model,r,a);if(a===0){return}E(r.model.prices);ue(l,a,"build");let n=game.stats.statGroups[0].group;n[8].val+=1;n[7].val+=a;le("act.builds",[l,a],"buildFilter")},count:function(r,n){if(!n){return}let l;let a=Q.get("geodesy").researched;let s=Q.get("orbitalGeodesy").researched;let o=Q.get("spaceManufacturing").researched;let c=game.getEffect("priceRatio");let u=c<-.06;let e=ne("titanium")>.9;let i=se.getSolarRevolutionRatio();let t=e=>{if(u){if(!s&&game.bld.getBuildingExt(e).meta.val){l=true;oe("lower")}else if(s){oe("lower",true)}}};switch(r){case"hut":case"logHouse":{let l=game.village.happiness;if(a){oe("kittens",true)}else{let e=ae["catnip"];let t=this.crafts.getPotentialCatnip(false);let a=game.challenges.isActive("anarchy");let i=t<1&&e.value+t*1e3*(ne("catnip")<.1)-1e3<0;let r=e.value<5e3-2e3*!game.calendar.season+l*100&&e.perTickCached<1.7*l*(1+2*a)&&(!game.science.get("agriculture").researched||a);if(r||i){n=0;oe("kittens")}}if(r==="logHouse"){let e=game.bld.getBuildingExt("amphitheatre").meta;if(e.val<5&&!e.stage&&e.unlocked&&l<3&&game.village.maxKittens>25){oe("logHouse");return 0}}break}case"workshop":if(!s&&u){let e=game.bld.getBuildingExt("amphitheatre").meta;if(!e.stage&&ae["parchment"].value>3*Math.pow(e.stages[0].priceRatio+game.getEffect("priceRatio"),e.val)&&e.val<8+5*(c<-.08)&&ne("minerals")<.9&&!game.ironWill){l=true}}break;case"pasture":if(!s&&(a||ae["wood"].perTickCached&&u)){if(ne("wood")<.9){if(u&&!i){n*=.5}l=true;oe("pasture")}}break;case"aiCore":n=1;break;case"temple":if(ne("gold")<.8&&Q.get("miningDrill").researched&&s){l=true;n*=.4;oe("keepGold")}else{n=1}break;case"mint":if(ne("gold")<.95&&game.getEffect("manpowerPerTickCon")<-2){l=true;n*=.2+.1*o+.1*e;oe("keepGold")}break;case"field":if(!s&&game.bld.getBuildingExt(r).meta.val>50+85*u){if(ae["catnip"].value<3e3+game.village.happiness*100){n=Math.floor(n*.3);l=true}}else{return n}break;case"chapel":if(r==="chapel"){if(game.bld.getBuildingExt(r).meta.val<19+i+2*a){break}else{if(!game.calendar.festivalDays){n=0}if(!s){n*=.4-.06*a;l=true}}}break;case"aqueduct":{if(this.crafts.getPotentialCatnip(false)<4*game.village.happiness&&ne("catnip")<.6||game.challenges.isActive("winterIsComing")){oe("aqueductCatnip");break}else if(!o){if(ae["slab"].value<4e5*(1+i)||!i&&ne("minerals")<.98){n=Math.floor(n*.4-.05*u);oe("aqueduct")}}t(r)}break;case"library":{if(r==="library"&&!game.science.get("writing").unlocked){break}}case"academy":if(r==="academy"&&ne("science")<1&&!s){if(game.bld.getBuildingExt(r).meta.val>10+20*u){l=true;oe("academy");if(c){n*=.9}}if(u&&i<1){n*=.5}}case"barn":{if(r==="barn"&&ae["minerals"].maxValue<1600){break}let e=ae["minerals"].value>ae["minerals"].maxValue*.94;let t=ae["wood"].value>ae["wood"].maxValue*.94;if(e&&t){break}}case"warehouse":if(r==="warehouse"){if(ae["minerals"].maxValue<5e4){if(Q.get("deepMining").researched||game.bld.getBuildingExt(r).meta.val<20){break}}else if(u&&!o){n=Math.floor(n*.3)}}case"lumberMill":if(r==="lumberMill"){if(game.bld.getBuildingExt(r).meta.val<55-10*!a+200*c){if(!game.getEffect("lumberMillRatio")&&game.bld.getEffect("woodRatio")>3.1&&ae["iron"].maxValue>1200){n=0}if(ae["gold"].value||game.getEffect("ironPerTickAutoprod")<.3){break}if(u&&!game.science.get("astronomy").researched&&ae["faith"].value){l=true}}else if(ne("iron")<.5-4*c+.05*u+.05*o){l=true;oe("lumberMill")}}case"oilWell":if(r==="oilWell"){let e=game.bld.getBuildingExt(r).meta.val;let t=ae["oil"];let a=t.value;let i=t.maxValue;if(e<9+u||t.maxValue<2e4){break}if(!o){let e=game.getEffect("calcinerRatio");if(e>1){if(!s&&a<3e4||e>2&&i<5e4){return n}}}if(e<199){if(i>55e3+35e3*(c<-.04)){n=Math.floor(n*.5)}else if(i>2e4&&game.getEffect("calcinerRatio")<2){l=true}}}t(r);break;case"quarry":if(Q.get("nuclearSmelters").researched&&!o){if(game.bld.getBuildingExt(r).meta.val<20&&a){return}n*=.7-.2*u;l=true}t(r);break;case"harbor":if(r==="harbor"){let e=game.bld.getBuildingExt(r).meta.val;let t=game.bld.getBuildingExt("reactor").meta.val;if(i<1&&e<6+2*(i>.1)+2*a){return 1}if(e<15){oe("harbor");l=true}else if(t<30){l=true;if(i>7.5){n*=.2}}else if(o){oe("harbor",true)}if(e>60+t&&ne("iron")<.9){n=Math.floor(n*.5)}}break;case"biolab":if(o){if(ae["starchart"].value<2e6){n*=.5;l=true}}else{if(c&&ae["starchart"].value<1e6){l=true;if(u){n*=.3}}}break;case"factory":{let t=game.bld.getBuildingExt(r).meta.val;if(o){if(!game.space.getBuilding("sattelite").val&&t&&!i){te.auto.space.items["sattelite"].enabled=true;n=0}if(game.getEffect("productionRatio")<1){l=true;if(game.getEffect("productionRatio")<.5){return 0}}}else{if(!e){if(t){let e=game.getEffect("productionRatio");if(i){if(e>.6||a&&c>-.08){if(t<2-!e+(10+50*c)*Q.get("nuclearSmelters").researched+u*(4*e-3-4*(i>6))-!a+2*a){return n}}}n*=.7+(2+3*(t>6))*c;l=true;oe("factory")}else{n=1}}}break}case"accelerator":if(!Q.get("energyRifts").researched){n=0}if(!o){if(!e){n*=.9;l=true}if(ae["titanium"].maxValue>13e4){n=0}}else if(!game.space.getProgram("piscineMission").on){n=0}else if(!e&&ae["titanium"].maxValue>13e4){l=true}break;case"mansion":u=u||!u&&a&&game.village.sim.kittens.length>140;if(!e&&u){if(!o&&game.prestige.getParagonProductionRatio()>1){oe("mansion");l=true}if(ae["kittens"].value>200){n*=.5;l=true}if(ae["starchart"].perTickCached<4&&r==="mansion"){l=true}}break}if(l){n=Math.floor(n*.5)}else if(!i&&!a){n=Math.ceil(n*.5)}return n},getBuild:function(e){return game.bld.getBuildingExt(e)},getBuildButton:function(e,t){let a=this.manager.tab.children;let i=this.getBuild(e);let r=typeof t==="undefined"?i.meta.label:i.meta.stages[t].label;for(const l in a){let e=a[l].model.name;if(e.indexOf(r)!==-1){return a[l]}}},getMetaDataList:function(i){let r={};let l=!Q.get("geodesy").researched||ne("titanium")<.5||ae["kittens"].maxValue<110;let n=game.village.leader!==null;for(let a in i){let e=i[a];let t=this.getBuild(e.name||a).meta;if(t.almostLimited&&n){if(l){e.enabled=false}}if(t.stage!==e.stage){e.enabled=false}r[a]=t}return r},getSumPrices:function(e,t){let a=e.priceRatio?e.priceRatio:e.stages[e.stage].priceRatio;let i=a+game.getEffect("priceRatio");return(t.val-t.val*Math.pow(i,e.val-1))/(1-i)},sellBuild:function(e){let i=this.getBuild(e).meta;let r=i.stages[i.stage].prices;for(let a=0;a<r.length;a++){let t=r[a];let e=ae[t.name];if(e.isRefundable()&&!t.isTemporary&&i.val){let e=this.getSumPrices(i,t);game.resPool.addResEvent(t.name,e*.5)}}i.on=0;i.val=0}};let z=function(){this.manager=new e("Space");this.crafts=new t;this.bulkManager=new a};z.prototype={manager:undefined,crafts:undefined,bulkManager:undefined,build:function(e,t){let a=this.getBuild(e);let i=this.getBuildButton(e);if(!a.unlocked||!te.auto.space.items[e].enabled){return}if(!i||!i.model.metadata){return game["spaceTab"].render()}if(!i.model.enabled){return i.controller.updateEnabled(i.model)}let r=t;let l=a.label;t=this.bulkManager.construct(i.model,i,t);if(t===0){return}E(i.model.prices);ue(l,t,"build");game.stats.getStat("totalClicks").val+=1;le("act.builds",[l,t],"spaceFilter")},getBuild:function(e){return game.space.getBuilding(e)},getBuildButton:function(t){const a=this.manager.tab.planetPanels;for(const i in a){for(let e in a[i].children){if(a[i].children[e].id===t){return a[i].children[e]}}}}};let t=function(){this.cacheManager=new f};t.prototype={craft:function(t,a){a=Math.floor(a);if(!t||a<1){return}if(!this.canCraft(t,a)){return}let e=this.getCraft(t);let i=game.getResCraftRatio(e.name)+1;let r=te.auto.cache.trait["engineer"]&&game.village.leader;let l=r?"å·¥åŒ å°çŒ«åˆ¶ä½œäº† ":"å°çŒ«åˆ¶ä½œäº† ";a=Math.ceil(a);let n=a*i;let s=dojo.clone(game.workshop.getCraftPrice(e));for(let t=s.length-1;t>=0;t--){let e=s[t];e.val*=a;ue(e.name,e.val,"resConsume")}if(r){let e=game.village.getEffectLeader("engineer",0);if(ae[t].tag==="metallurgist"&&te.auto.cache.trait["metallurgist"]){n+=a*e;l="å†¶é‡‘å­¦å®¶å°çŒ«åˆ¶ä½œäº† "}if(ae[t].tag==="chemist"&&te.auto.cache.trait["chemist"]){n+=.5*a*e;l="åŒ–å­¦å®¶å°çŒ«åˆ¶ä½œäº† "}}game.resPool.payPrices(s);game.resPool.addResEvent(e.name,n);if(e.upgrades){M(e.upgrades)}let o=game.stats;o.getStat("totalCrafts").val++;o.getStatCurrent("totalCrafts").val++;o.getStat("totalClicks").val+=1;let c=ae[t].title;a=n;if(r){ue(c,a,"craftLeader")}else{ue(c,a,"craft")}le("act.craft",[l+game.getDisplayValueExt(a),c],"craftFilter")},canCraft:function(e,r){let t=this.getCraft(e);let l=false;if(t.unlocked){l=true;let i=game.workshop.getCraftPrice(t);for(let a in i){let e=i[a];let t=ae[e.name].value;if(t<e.val*r){l=false}}}return l},getCraft:function(e){return game.workshop.getCraft(e)},getLowestCraftAmount:function(m,a,e,i){let n=Number.MAX_VALUE;let f=game.science;let d=game.workshop;let p=d.get("geodesy").researched;let r=this.getMaterials(m);if(!r){return 0}let l=ae[m];let t=l.maxValue;let h=l.value;if(h===Infinity){return 0}let s=this.getLimRat(m,a,e);let b=this.getValueAvailable(m,true);let o,v,c;const u=game.bld.getBuildingExt("temple").meta;let g=game.getEffect("priceRatio");let k=Math.pow(u.priceRatio+g,u.val);let y=g<-.08;let x=this.getCraft(m);let R=te.auto.craft;let w=game.getResCraftRatio(x.name)+1;let T=R.trigger;if(m==="ship"&&a){let e=ae["science"].maxValue;v=e>48e3&&(h<100||e>95e3||f.get("archeology").researched);if(e<55e3&&ae["titanium"].unlocked&&h>40){v=false}let a=se.getSolarRevolutionRatio();let i=se.transcendenceTier;let t=!d.get("oxidation").researched&&!R.oxidation||!a||i<6||!h;if(!t){v=false}if(v){let t=40/Math.max(.2,Math.log1p(a))+10*a;if(a<.52){if(a<.23){t=Math.min(16/Math.log1p(a),176)}else{t=Math.min(22.8-120*g/Math.log1p(a),176)*(1+.25*(g<-.06))}}if(p&&(e>119e3||h<200||ae["scaffold"].value>850)){if(!i){q["zh"]["summary.auto.shipGeodesy"]="å°çŒ«å—…åˆ°äº†é»„é‡‘çš„å‘³é“å–µ ^ Ï‰ ^ï¼Œæ¥ç‚¹èˆ¹èˆ¹æŠ„æ–‘é©¬çš„å®¶<br>å·å·å‘Šè¯‰ä½ ä¸ªç§˜å¯†ï¼Œè´¸æ˜“èˆ¹è¶Šå¤šè·Ÿæ–‘é©¬è´¸æ˜“è·å¾—é’›æ•°é‡è¶Šå¤šå“¦"}t=Math.min(243+5*i+a,400);if(se.faith>9e4&&e>11e4){if(i<6&&p){t=-103*i+740-250*!i}}}if(h<t&&w>3){if(h&&(Date.now()>R.shipTime+8e5||!ce.other["auto.ship"])&&ae["starchart"].value>24&&!p){R.shipTime=Date.now();let e=game.getDisplayValueExt(t);if(!i){q["zh"]["summary.auto.ship"]="æ–‘é©¬çš„å±ˆæœç¬¬äºŒæ­¥ï¼Œå°ç›®æ ‡:å…ˆåˆ¶ä½œ {0} ä¸ªè´¸æ˜“èˆ¹<br>âŠ‚(â€˜Ï‰â€™âŠ‚ )ï¼Œæ–‘é©¬æ‹¿é“è¾…æ–™é’›<br>å·å·å‘Šè¯‰ä½ ä¸ªç§˜å¯†ï¼Œè´¸æ˜“èˆ¹è¶Šå¤šè·Ÿæ–‘é©¬è´¸æ˜“è·å¾—é’›å‡ ç‡è¶Šå¤§"}re(ee("summary.auto.ship",[e]));ce.other["auto.ship"]=e}n=1}else{v=false}}}let M=Number.MAX_VALUE/w+Number.MAX_VALUE/Math.pow(2,53)/w;let E=f.meta[0];let F=f.get("navigation").researched;let P;let C=te.auto.cache;if(m==="beam"||m==="slab"){o=Object.keys(r)[0];if(ne(o)<2){R.autoConsume[o]=0;if(ae["scaffold"].value>500&&T>.9&&a){R.autoConsume[o]=1;T=.9}if(!h&&ae["slab"].value>3){v=true}if(m==="slab"){if(!ae["concrate"].unlocked&&game.science.get("mechanization").researched&&ae["steel"].value>25){if(ae["minerals"].value>2500){n=1;v=true}}if(p&&!game.ironWill&&ae["kittens"].maxValue<135&&d.get("concreteHuts").researched){let e=game.bld.getBuildingExt("mansion").meta;let t=Math.pow(e.priceRatio+g,e.val);if(ae["titanium"].value>25*t&&ae["steel"].value>75*t){let e=Math.ceil((185*t-h)/w);if(e>0&&ae["minerals"].value>e*250){this.craft(m,e)}}}}}}if(m==="megalith"&&a){let e=!l.unlocked&&game.diplomacy.get("nagas").embassyLevel>15&&!game.calendar.season&&!b;let t=ae["unicorns"].value>2500&&!ae["tears"].value&&h<50;let a=ae["culture"].maxValue<15e3&&game.bld.getBuildingExt("factory").meta.val&&h<80;if(e||t||a){n=1;v=true}}if(m==="plate"&&a){let a=game.getResourcePerTick("coal",true);let e=game.bld.getBuildingExt("reactor").meta;let t=Math.pow(g+e.priceRatio,e.val);let i=ae["titanium"].value>3500*t&&ae["uranium"].value>300&&b<5e3*t;if(a>0&&ae["iron"].value!==ae["iron"].maxValue&&b>150&&!i){if(this.getValueAvailable("plate")/this.getValueAvailable("steel")>.8&&R.items["steel"].enabled){let e=this.getResource("coal").maxValue*T;let t=(e-this.getValue("coal"))/a*Math.max(game.getResourcePerTick("iron",true),0);n=Math.max(.008*(this.getValueAvailable("iron")-Math.max(e-t,0)),.1*ae["iron"].perTickCached)}}if(i){n=Math.min(Math.ceil((5e3*t-b)/w),ae["iron"].value/125-1);v=true}if(b<150){if(ae["faith"].maxValue<750&&ae["gold"].value>30&&h<k*15){let e=game.village.leader;if(w>2.8||ae["iron"].value/125*w>10||e&&e.rank>3){v=true;n=3}}if(!game.getEffect("warehouseRatio")&&h&&h<50&&ae["iron"].value>700&&ae["science"].maxValue>3e4){v=true;n=1}if(!ae["ship"].value&&w>3-g&&ae["starchart"].value>24){n=Math.ceil(Math.min(ae["iron"].value/100,(150-b)/w));v=true}}let r=te.auto.options.items.hunt;if(r.time==="fullIron"&&r.enabled){v=true}}let B=this.getValueAvailable("science",true);let S=ne("science");let V=ne("culture");let A=e=>{let t=C.science?C.science:"ç§‘å­¦";v=true;if(t==="æ²¹æ°”å¤„ç†"){return}if(!te.auto.filter.items.miscFilter.enabled){let e=game.msg(ee("craft.force",[l.title,t]),null,null,true);$(e.span).css("color","#ff589c")}ue("craft"+U(e),1)};if(m==="manuscript"&&a){let l=C.resources["manuscript"];P=l?17:19;for(o=16;o<P;o++){let i=E.meta[o];let r=l||i.prices[1].val;if(!i.researched||l>0){let t=ae["faith"].maxValue>750||h>20;if(!t&&!f.get("theology").researched){let e=u.val;if(e>=1&&w>4+Math.pow(e,3)*.08){t=true}}let e=10*k;r=t||h>e?r:10*k;n=Math.ceil((r-b)/w);let a=game.getEffect("manuscriptCultureCost")?1:0;if(n>=1){let e=this.getValueAvailable("culture",true)>(400-100*a)*n;if(this.getValueAvailable("parchment",true)>n*(25-5*a)&&e){C.science=l>0?C.science:i.label;C.science=t?C.science:"ç¥æ®¿";A("manuscript");C.resources["manuscript"]=0}}break}}if(!v){if(V<2&&b<1e3){if(ae["manpower"].perTickCached<14&&V>.97||V>.9&&!F&&h<40){v=true;n=1}}if(ae["science"].maxValue<71250&&f.get("archeology").researched&&!f.get("electricity").researched&&!v){n=0}}if(!game.calendar.festivalDays&&ae["unobtainium"].value&&f.get("drama").unlocked){n=0}}if(m==="compedium"&&a&&F){let r=C.resources["compedium"];P=r?19:27;if(!i&&w<3){n=0}for(o=18;o<P;o++){if(game.prestige.getPerk("numerology").researched&&!game.calendar.festivalDays&&game.science.get("drama").unlocked){break}let i=E.meta[o];if(!i.researched||r>0){if(i.name==="metaphysics"||i.name==="drama"){continue}if(o<23&&h>35&&!f.get("physics").researched){continue}if(i.prices[1].name===m||r){let e=r||i.prices[1].val;n=Math.ceil((e-b)/w);let t=this.getValueAvailable("manuscript",true);let a=B>1e4*n;if(t>n*50&&n>=1){C.science=r>0?C.science:i.label;if(S<=1&&a){A("compedium")}C.resources["manuscript"]=0;C.resources["compedium"]=0}else if(n>=1){C.resources["manuscript"]=n*50;C.science=r>0?C.science:i.label}}break}}if(o===20&&h<60&&!f.get("acoustics").researched){v=true;n=1}if(!f.get("metalurgy").researched&&b<100&&S>.98){let e=ae["science"].maxValue;if(!f.get("electricity").researched&&b<85&&V>.92||S===1&&e>E.meta[o].prices[1].val){v=true;n=1}if(V>.96){if(e>81e3){v=true;n=1}if(ae["titanium"].value>3e3&&e>119e3&&!d.get("concreteHuts").researched&&ae["kittens"].maxValue){n=0}}}if(game.getEffect("scienceMaxCompendia")&&game.getEffect("alicornChance")>.004){let e=this.getCompendiaMax();let t=h*10;if(t<Math.max(2e4,e)){v=i;n=(e-t)/(w*10)}}}if(m==="blueprint"&&a&&f.get("electricity").researched){for(o=30;o<44;o++){let r=E.meta[o];if(!r.researched){let e=r.name;let t=["quantumCryptography","blackchain","ecology","ai"];let a=r.prices;if(t.indexOf(e)>-1||ae["science"].maxValue<a[0].val*.95){continue}let i=a[1];if(i.name===m){n=Math.ceil((i.val-b)/w);let e=this.getValueAvailable("compedium",true);let t=B>25e3*n||S>=1;if(e>n*25&&n>=1){C.science=r.label;if(S<1&&t){A("blueprint")}C.resources["manuscript"]=0;C.resources["compedium"]=0}else if(n>=1){C.resources["compedium"]=n*25;C.science=r.label}}break}}if(h-b===150){n=0}if(!f.get("metalurgy").researched&&h<60&&S>.98&&ae["science"].maxValue>119e3){v=true;n=1}if(game.getEffect("scienceMaxCompendia")&&game.getEffect("alicornChance")>.004){let e=this.getCompendiaMax();let t=ae["compedium"].value*10;if(t>Math.max(2e4,e)){n=(t-e)/250;v=i}else{s=.1}}if(ae["unobtainium"].value&&f.get("rocketry").researched&&!f.get("drama").researched){n=0}}if(m==="concrate"&&!ae["concrate"].unlocked){v=true;n=1}if(m==="parchment"){if(w>2&&ae["furs"].value<350||w<2.12-g){return}a=w<2.2-g+.2*y;if(ae["minerals"].value>600*(1-g)){if(h<6.1&&w>1.5||h<12.14+25*g&&w>2){v=true;n=1}}if(!F){if(b>120){a=true;oe("parchment")}if(!v){n=2*(500-b)/w}}}for(o in r){c=0;let e=r[o];let t=!a||v||ae[o].maxValue>0&&i;if(t){c=this.getValueAvailable(o,v)/e}else{c=s*((this.getValueAvailable(o,true)+e/w*b)/e)-b/w}M=Math.min(c,M,n)}if(m==="steel"&&a){let n=game.bld.getBuildingExt("calciner").meta;let s=h;let e=this.getValueAvailable("steel");if(!R.oxidation&&R.items["plate"].enabled&&e){let e=F?1:0;let t=Math.max(1*!e,.3*Math.min(1,ae["coal"].perTickCached/ae["iron"].perTickCached));if(ae["plate"].value<Math.max(75+75*e*(w>3),1.25*t*ae["steel"].value)){if(!f.get("theology").researched||h>30){M=0}}if(!game.getEffect("warehouseRatio")&&ae["plate"].value>50&&ae["science"].maxValue>3e4){if(h<50){v=true;M=1}if(R.items["scaffold"].enabled&&ae["scaffold"].value<25){this.craft("scaffold",1)}}}let o=te.auto.upgrade.items.upgrades;let c=(i,r)=>{let l;if(i){l=d.get(i);r=l.prices;if(!l.unlocked){return}}if(!i||!l.researched){let a;for(let t in r){let e=r[t];if(e.name==="steel"){a=e.val}if(e.name==="science"&&ae["science"].value<.95*e.val){return}}let e=Math.ceil((a-s)/w);let t=ae["iron"].value>100*e&&ae["coal"].value>100*e;if(e>0&&t){M=e;v=true;if(i){re(ee("craft.forceSteel",[l.label]))}}}};if(!o.cache&&!R.oxidation&&!game.ironWill){c("steelAxe");c("steelArmor")}let u=this.getUnResearched("oxidation");let g=n.on;if(g){if(n.isAutomationEnabled){if(game.time.getCFU("ressourceRetrieval").on<5){oe("ironFactory")}}else{let e=.0015*(1+game.bld.getBuildingExt("reactor").meta.on*.1)*(game.getEffect("calcinerRatio")+1)*game.bld.getAutoProductionRatio()*(game.getEffect("ironPolicyRatio")+1)*game.calendar.cycleEffectsFestival({iron:1})["iron"]*g;M=Math.max(0,M)+e;if(s<125){M+=1}let t=Math.min(ae["coal"].value,ae["iron"].value)*.01;if(M>t||R.oxidation){M=t}if(g===47&&!game.getEffect("productionRatio")&&ae["uranium"].value>250){M=0}}c("oxidation");let a=ae["titanium"].value;if(u){let e=0;if(te.auto.resources[m]){e=te.auto.resources[m].stock}let t=Math.ceil((5e3-h+e)/w);let a=ae["iron"];let i=ae["coal"];let r=(t*100-i.value)/i.perTickCached;let l=(t*100-a.value)/this.getTickVal(a,ae["ship"].value<243&&p);let n=ae["science"].value>2e4||ae["starchart"].value<1e4;let s=4500+200*(g>2)+300*(g>3)+ +500*(g>4)+300*(g>6)+200*(g>7);if(r<s&&l<s&&n){R.oxidation=true;oe("oxidation")}}let i=ae["alloy"].value;let e=this.getUnResearched("fluidizedReactors");let t=this.getUnResearched("orbitalGeodesy");if(t&&ae["oil"].value>3e4&&ae["oil"].maxValue>35e3&&ae["uranium"].value<1e3&&!e){let e=Math.ceil((1e3-i)/w);let t=ae["titanium"].value>e*10||ae["alloy"].value>300&&g>20||(e*10-a)/ae["titanium"].perTickCached<600||g>19;if(e>0&&t&&o.cache!=="orbitalGeodesy"){te.auto.cache.resUpg["alloy"]=1e3;re(ee("craft.CacheSteel",["è½¨é“æµ‹åœ°å­¦"]));o.cache="orbitalGeodesy"}}if(e){let e=o.cache;if(!e||e==="geodesy"){let e=Math.ceil((200-i)/w);let t=a>e*10||ae["alloy"].value>100||(e*10-a)/ae["titanium"].perTickCached<600||g>13;if(e>0&&g>6&&t){te.auto.cache.resUpg["alloy"]=200;o.cache="fluidizedReactors";re(ee("craft.CacheSteel",["æµåŒ–ååº”å™¨"]))}}}let r=this.getUnResearched("miningDrill");if(r&&ae["science"].value>1e5&&b>1750&&p&&!o.cache){c("miningDrill")}let l=te.auto.cache.resUpg["alloy"];if(l){let e=Math.ceil((l-i)/w);c("",[{name:"steel",val:e*75}])}}else if(game.challenges.isActive("blackSky")){c("",[{name:"steel",val:1100}])}if(!u){R.oxidation=null}let t=te.auto.options.items.hunt;if(t.time&&ne("iron")>.98){t.time="fullIron"}}if(m==="alloy"&&a){let e=(e,t)=>{let a=d.get(e);if(a.researched||!a.unlocked){return}let i=Math.ceil((t-ae["alloy"].value)/w);if(i>1&&ae["steel"].value>i*75&&ae["titanium"].value>i*10&&!R.oxidation){let e=te.auto.resources["titanium"];if(!e||e&&ae["titanium"].value-t>e.stock){M=i;v=true;if(se.getSolarRevolutionRatio()<5.5||t>25){if(!te.auto.upgrade.items.upgrades.cache){re(ee("craft.forceSteel",[a.label]))}}}}};if(!game.getEffect("unobtainiumPerTickSpace")&&te.auto.upgrade.items.upgrades.cache!=="geodesy"){if(ae["oil"].value>35e3){e("orbitalGeodesy",1e3)}e("fluidizedReactors",200);if(d.get("alloyAxe").researched){if(game.getEffect("hunterRatio")){e("alloyArmor",25);e("nanosuits",250)}}else if(ae["wood"].perTickCached){e("alloyAxe",25)}e("alloySaw",75);if(ae["oil"].value>5e4){if(ae["starchart"].perTickCached){e("hubbleTelescope",1250)}if(game.village.leader&&ae["uranium"].value>250&&w<4.5){e("photolithography",1250)}}}}if(m==="eludium"&&a&&!i){if(game.time.getCFU("ressourceRetrieval").on>11-y){M=Math.max(M,1)}}if(M<1){return 0}if(t>0&&M*w>t-h){M=(t-h)/w}if(a&&!v&&(!i||i==="noRequire")){M*=Math.max(Math.min(Math.log(w-1),1),.2)}return M},getMaterials:function(e){let t={};let a=this.getCraft(e);if(!a){return}let i=game.workshop.getCraftPrice(a);for(const r in i){let e=i[r];t[e.name]=e.val}return t},getTickVal:function(e,t){let a=e.name;let n=game.getResourcePerTick(a,true);if(a==="timeCrystal"){let e=game.getEffect("alicornChance");let t=game.getResourcePerTick("alicorn");let a=.04*(1+game.getEffect("tcRefineRatio"));e*=1+game.getLimitedDR(game.getEffect("alicornPerTickRatio"),1.2);let i=Math.min(e,1)*.2;n=(i+t)*a;if(game.getEffect("antimatterProduction")>25&&ne("unobtainium")<.6){n*=20}}if(e.craftable){let i=Number.MAX_VALUE;let r=this.getMaterials(a);let l=1+game.getResCraftRatio(a);for(let a in r){let e=l/r[a];let t=this.getTickVal(this.getResource(a));i=Math.min(t*e,i)}n+=i===Number.MAX_VALUE?0:i}let i=a==="spice"||a==="blueprint";if(n<=0&&i){return"ignore"}if(!t){let e=1;n+=this.cacheManager.getResValue(a)*e}return n},getAverageHunt:function(){let e={};let t=game.getEffect("hunterRatio")+game.village.getEffectLeader("manager",0);e["furs"]=40+32.5*t;e["ivory"]=50*Math.min(.225+.01*t,.5)+40*t*Math.min(.225+.01*t,.5);e["unicorns"]=.05;if(this.getValue("zebras")>=10){e["bloodstone"]=this.getValue("bloodstone")===0?.05:5e-4}if(game.ironWill&&game.workshop.get("goldOre").researched){e["gold"]=.625+.625*t}return e},getResource:function(e){let t=ae[e];if(t){return t}l("unable to find resource "+e);return null},getValue:function(e){return this.getResource(e).value},getStock:function(e){let t=te.auto;let a=t.resources[e];let i=a?a.stock:0;let r=t.cache.stocks;if(!r){this.getAutoStocks();r=t.cache.stocks}if(r[e]){i+=r[e]}return i},getAutoStocks:function(){let m=game.workshop;let l=te.auto;let n=l.cache;n.stocks={};if(m.get("spaceManufacturing").researched){return}let f=m.get("orbitalGeodesy").researched;let d=game.village.leader;let p=game.ironWill;let h=game.village.sim.kittens.length;let b=n.resUpg["alloy"];let v=(e,t,a)=>{n.stocks[a]+=e;oe(t)};["wood","minerals","iron","alloy","titanium","steel","gear","beam","blueprint"].forEach(c=>{n.stocks[c]=0;let u=0;let g=ae["titanium"];switch(c){case"wood":{if(this.getUnResearched("ironwood")&&ae["iron"].value>2800&&h>20){u+=15e3}break}case"minerals":{if(h<130&&m.get("concreteHuts").researched&&!p&&!game.getEffect("priceRatio")&&ne(c)<.99&&game.getEffect("craftRatio")>=3){let e=game.bld.getBuildingExt("logHouse").meta;oe("logHouseMineral");u+=250*Math.pow(e.priceRatio+game.getEffect("priceRatio"),e.val)}break}case"iron":{let s=game.getEffect("priceRatio");let o=game.bld.getBuildingExt("lumberMill").meta;let e=game.bld.getBuildingExt("temple").meta;let t=ae["gold"].value<50*Math.pow(s+e.priceRatio,e.val)+2;let a=50*Math.pow(s+o.priceRatio,o.val)>400;o=o.val>18-40*s;if(e.on>2+s||ae["faith"].maxValue>749||t&&o||ae["plate"].value>18||a&&!s){let i=ae[c].value;let e=ae[c].maxValue;let t=(e,t,a)=>{if(e&&i<1e4&&h<115){v(t,a,c)}};let a=this.getUnResearched("reinforcedSaw")&&i>200&&e>1e3;let r=ae["burnedParagon"].value<1e5;let l=this.getUnResearched("crossbow")&&o&&e>1500&&r;let n=this.getUnResearched("ironwood")&&i>700*(1-s)&&e>3e3&&ae["science"].maxValue>3e4&&h>20&&r;t(a,1e3,"reinforcedSaw");t(l,1500,"crossbow");t(n,3e3,"ironwood");if(m.get("spaceManufacturing").researched){oe("ironwood",true);oe("crossbow",true);oe("ironwood",true)}}break}case"alloy":{if(b){u+=b}break}case"steel":{let e=game.challenges.isActive("blackSky");let t=ae[c].value;let a=this.getUnResearched("steelAxe")&&ae["coal"].value>3e3;if(a&&!p&&(game.bld.getBuildingExt("lumberMill").meta.val>30||t>10)){v(75,"steelAxe",c)}if(this.getUnResearched("steelSaw")&&t>250&&!n.stocks["titanium"]&&ae["science"].maxValue>5e4&&h<85){v(750,"steelSaw",c)}if(te.auto.craft.oxidation&&this.getUnResearched("oxidation")){u+=5e3}if(e&&!g.perTickCached&&t<1100&&ae["oil"].value>6e3){u+=1100}let i=l.upgrade.items.upgrades;if(i.cache==="miningDrill"&&g.value>1450){u+=750;oe("miningDrill")}let r=n.resUpg["steel"];if(r){u+=r}if(b){u+=Math.max(0,b-ae["alloy"].value)*75/(1+game.getEffect("craftRatio"))}break}case"titanium":{let e=game.bld.getBuildingExt("calciner").meta.val;let t=game.workshop.get("geodesy").researched;let a=game.getEffect("calcinerRatio");let i=g.value;let r=te.auto.upgrade.items;if(this.getUnResearched("rotaryKiln")&&a&&(i>2e3&&e>16&&t&&ae["ship"].value>240||f)){v(5e3,"rotaryKiln",c)}let l=se.getSolarRevolutionRatio();let n=l<3.3&&(e||g.value>100)&&d;let s=game.challenges.isActive("anarchy")&&l<6;let o=this.getUnResearched("geodesy");if(!p&&o&&ae["starchart"].value>350-50*!a+150*s&&(n||s)){v(250,"titaniumGeodesy",c);let e=r.upgrades;if(!e.cache){e.cache="geodesy"}}if(t){if(this.getUnResearched("miningDrill")&&i>675){let e=r.upgrades;if(!e.cache){e.cache="miningDrill"}u+=1750}}if(this.getUnResearched("concreteHuts")&&h<150+30*s&&!p&&ae["concrate"].value>45&&ae["science"].maxValue>12e4&&ae["uranium"].value<250){if(t&&i>750||o&&i>1e3){v(3e3,"concreteHuts",c);let e=r.upgrades;if(!e.cache){e.cache="concreteHuts"}}}if(this.getUnResearched("spaceManufacturing")&&game.bld.getBuildingExt("reactor").meta.val>24&&g.maxValue>125e3){u+=13e5}if(b){u+=5*b}break}case"gear":{let e=g.value;if(this.getUnResearched("rotaryKiln")&&e>4e3){u+=500}if(this.getUnResearched("fuelInjectors")&&ae["oil"].value>2e4&&(game.getEffect("calcinerRatio")<1||ae["coal"].value<3e3)&&se.getSolarRevolutionRatio()<5){u+=250}let t=ne("oil")<.8&&ae["starchart"].value<250||ae["oil"].perTickCached<.7;if(this.getUnResearched("pumpjack")&&e>200&&t){u+=125}if(this.getUnResearched("logistics")&&ae["scaffold"].value>1e3&&d){u+=100}if(this.getUnResearched("oilRefinery")&&e>1250&&ae["science"].maxValue>125e3&&t){u+=500}break}case"beam":if(this.getUnResearched("deepMining")&&ae["iron"].value>1200){u+=5e3}break;case"blueprint":if(ae["alloy"].value>75&&!game.science.get("nanotechnology").researched&&ae["science"].maxValue>2e5&&m.get("rotaryKiln").researched&&!ae["unobtainium"].value){oe("nanotechnology");u+=150}if(!game.science.get("orbitalEngineering").researched&&ne("unobtainium")===1&&game.getEffect("ProductionRatio")>.5){u+=250}break}n.stocks[c]+=u})},getValueAvailable:function(i,e,r){let l=this.getValue(i);let n=this.getStock(i);let t;if(!r&&r!==0){if(r===undefined){t=1}else{t=te.auto.craft.trigger}}else{t=r}if(i==="catnip"){let a=this.getPotentialCatnip(false);let e=game.calendar.season!==0||this.getResource(i).maxValue*t<l||game.getResourcePerTick("catnip",true)<0;if(a<0&&e){let t=game.calendar;let e=game.calcResourcePerTick("catnip");n-=a*1500;if(e>0){let e=t.season<3?100*(2-t.season)+100-t.day:0;n=Math.max(0,n-10*game.calcResourcePerTick("catnip")*e)}if(te.auto.options.catnipMsg+4e6<Date.now()||!ce.other["auto.craftCatnip"]){if(game.stats.getStat("totalResets").val<5){re(ee("msg.catnip"))}oe("craftCatnip");te.auto.options.catnipMsg=Date.now()}}}l=Math.max(l-n,0);let s=r&&!e?l:this.getResource(i).maxValue;if(!e&&s>0){let e=te.auto.resources[i];let t=e&&e.enabled&&e.consume!==undefined?e.consume:te.consume;let a=te.auto.craft.autoConsume;if(a[i]&&!r||i==="coal"){t=1}l-=Math.min(s,l)*(1-t);if(i==="unobtainium"&&l+n<1e3&&this.getResource(i).value===s&&this.getResource(i).value>=1e3){l=this.getResource(i).value}}return l},getUnResearched:function(e){let t=game.workshop.metaCache[e];return!t.researched&&t.unlocked},getLimRat:function(l,e,o){if(!e){return o}let i=game.science.get("navigation");let c=ae[l];let u=ae["ship"].value;let n=game.space;let s=n.getProgram("piscineMission");let g=game.bld;let r=g.getBuildingExt("reactor").meta;let m=r.val;let f=game.getEffect("priceRatio");let d=f<-.07;let p=g.getBuildingExt("steamworks").meta;let h=g.getBuildingExt("magneto").meta;const b=g.getBuildingExt("temple").meta;let v=Math.pow(b.priceRatio+f,b.val);let k=se.getSolarRevolutionRatio();let y;switch(l){case"wood":{let e=ae["catnip"];let t=.09+c.perTickCached<e.perTickCached/game.workshop.getCraft("wood").prices[0].val;let a=!game.getEffect("scienceRatio")&&e.value>1e3&&game.ironWill;o=t||a?1:.5-.1*(e.perTickCached<10);let i=g.getBuildingExt("field").meta;let r=Math.pow(i.priceRatio+f,i.val);o=e.maxValue>10*r&&k>1&&!game.ironWill&&c.value||!this.getValueAvailable(l,true)&&c.value?0:o;break}case"beam":{let e=i.unlocked||ae["gold"].maxValue<500||ae["iron"].value>1e3&&!ae["coal"].value;o=ae["scaffold"].value<500+500*k+4500*!k?o:.02;o=e?o:.005;break}case"slab":{let e=c.value;let t=ae["faith"].maxValue<750&&e<51&&ae["gold"].value>35;let a=ae["scaffold"].value;o=a||t||m&&e<2500?o:.005;o=a<500||a>500&&e<615?o:.1;o=a>2500&&c.value>2500*(1+k)*(1+.05*r.on)*(1+k)?.04:o;break}case"ship":{let e=5*m+225;let t=ae["titanium"].maxValue;let a=!s.on&&n.getBuilding("sattelite").val<9&&c.value;let i=a&&k>5.5&&t<125e3&&!s.val;a=a&&k>6&&t>12e4;let r=Q.get("geodesy").researched;o=u<Math.min((1.5+k)*e,1e3-350*a)&&r&&k<9-2*d+3*!game.village.leader-4*a?.7+.2*(u<400-4*k-50*d):.4;o=u>e*.75&&k>3+2*r&&ae["starchart"].value<1e5&&a?.3:o;o=i||ne("titanium")>.8?.05:o;o=a&&(!game.workshop.get("satnav").researched||t>123e3)&&ae["starchart"].value<1e4?0:o;o=u>Math.max(400,t)?0:o;break}case"plate":{let e=c.value;let t=e<2500&&ae["titanium"].value>3500;let a=b.on&&b.on<15-3*d&&k&&e<v*15;o=game.getEffect("calcinerRatio")||a||t?o+.2:.35;o=e<150&&i.researched&&ae["starchart"].value>10&&ae["scaffold"].value>50-100*f?.92:o;o=te.auto.craft.oxidation&&!game.workshop.get("oxidation").researched?0:o;break}case"alloy":{let e=game.globalEffectsCached["titaniumPerTickAutoprod"];let t=g.getBuildingExt("calciner").meta.val;y=Math.pow(h.priceRatio+f,h.val);o=p.on<h.on||t<2||t<3&&!ae["titanium"].value<22-k?.45:.76;let a=!m&&h.val>31;o=c.value>Math.max(1250,10*y)&&te.auto.build.items.magneto.enabled||a?.01:o;let i=t<6&&game.challenges.isActive("blackSky");o=ae["titanium"].value<17&&!t||i||!game.science.get("electricity").researched?0:o;break}case"steel":{let e=te.auto;o=e.craft.oxidation?1:.65;break}case"eludium":{let e=game.getEffect("shatterTCGain")>.05;o=e?.1:.6;o=c.value<125&&game.getEffect("hutPriceRatio")>-1.06?1:o;break}case"megalith":{let e=g.getBuildingExt("ziggurat").meta;y=Math.pow(e.priceRatio+f,e.val);let t=Math.pow(r.priceRatio+f,m);o=game.workshop.get("spaceManufacturing").researched?o:.15;o=c.value>Math.max(100,50*y)?.005:o;o=ae["plate"].value<Math.max(5e3,50*t)?.1:o;if(c.value>50||e.on||ae["unicorns"].value<1e3){if(!game.workshop.get("orbitalGeodesy").researched){o=.001}}break}case"concrate":{let e=n.getBuilding("moonOutpost").val;e=150*Math.pow(1.12,e);y=Math.pow(r.priceRatio+f,m);let t=g.getBuildingExt("library").meta;let a=Math.pow(t.priceRatio+f,t.val)*t.stage;o=m?.6:.14;o=c.value>Math.max(e,50*y,10*a)?.01:o;break}case"gear":{y=Math.pow(p.priceRatio+f,p.val);let e=this.getUnResearched("logistics")&&ae["scaffold"].value>1e3;let t=this.getUnResearched("fuelInjectors")&&ae["oil"].value>1e4&&ne("coal")<.5&&c.value<250&&ae["titanium"].value>200;let a=game.getEffect("calcinerRatio")&&k>2;o=t||e?.75:.3+.15*a;o=c.value>Math.max(500,20*y)?.005:o;o=p.val||game.science.get("chemistry").researched||!ae["furs"].unlocked&&c.value<50?o:0;break}case"kerosene":o=.25;o=!s.val&&ae["starchart"].value>1400&&c.value<250&&k>3?.8:o;o=!s.on&&c.value>250?0:o;o=n.getProgram("moonMission").val?o:0;break;case"manuscript":{o=game.prestige.getPerk("numeromancy").researched&&!game.calendar.festivalDays&&game.science.get("drama").unlocked?.25:.49;o=m?.4:o;let e=g.getBuildingExt("chapel").meta;e=Math.pow(e.priceRatio+f,e.val);let t=g.getBuildingExt("brewery").meta;if(ae["culture"].maxValue>750*Math.pow(t.priceRatio+f,t.val)&&ne("culture")>.5){if(ae["parchment"].value>Math.max(1e6,260*e)&&m){o=1}}break}case"compedium":o=k?o:.3;o=game.science.get("architecture").unlocked?o:0;break;case"blueprint":o=game.science.get("industrialization").unlocked?o:0;break;case"scaffold":{let t=c.value;let e=g.getBuildingExt("observatory").meta;y=Math.pow(game.getLimitedDR(e.priceRatio+f,.15)+e.priceRatio,e.val);let a=t<50*y&&ae["iron"].value>750*y;let i=ae["science"].maxValue;let r=game.village.leader;let l=c.value<1e3&&this.getUnResearched("logistics")&&r&&r.rank>2&&i>98e3;let n=ae["plate"].value>150&&t<100;o=a||l||n?.75+.1*(i<6e4):o;let s=game.science.get("navigation").unlocked;if(game.science.get("navigation").unlocked){o=ae["iron"].value>750||game.science.get("chemistry").researched?o:0;let e=t<880&&i<11e4+9e3*(ae["culture"].maxValue>15e3)&&u>243;o=e||game.getEffect("priceRatio")>-.06&&n?1:o}else{o=0}break}case"tanker":o=.01;break;case"thorium":o=c.value?.01:1e-4;break}return o},getCompendiaMax:function(){let a=game.bld.getEffect("scienceMax");let e=game.getEffect("scienceMaxCompendia");if(game.ironWill){a*=10}if(game.prestige.getPerk("codexLeviathanianus").researched){let e=se.getTU("blackLibrary");let t=1+e.val*(e.effects["compendiaTTBoostRatio"]+game.getEffect("blackLibraryBonus"));a*=1+.05*t*se.transcendenceTier}return a+e},getPotentialCatnip:function(e,t,a){let i=game.getEffect("catnipPerTickBase");if(e){i*=.1;i*=1+game.getLimitedDR(game.getEffect("coldHarshness"),1);if(game.getEffect("factoryCostReduction")){i=0}}else{let e=game.calendar.year<4?0:.15;i*=game.calendar.seasons[3].modifiers.catnip-e}if(!game.village.resourceProduction){game.village.updateResourceProduction()}let r=game.village.resourceProduction["catnip"];let l=r?r*(1+game.getEffect("catnipJobRatio")):0;let n=i+l;if(a===undefined){n*=1+game.getEffect("catnipRatio")}else{let e=game.space.getBuilding("hydroponics");let t=e.effects["catnipRatio"];n*=1+game.bld.getBuildingExt("aqueduct").meta.stages[0].effects["catnipRatio"]*a+t*e.val}let s=game.challenges.isActive("winterIsComing")?0:game.prestige.getParagonProductionRatio();n*=1+s;n*=1+se.getSolarRevolutionRatio()*(1+game.bld.pollutionEffects["solarRevolutionPollution"]);n*=1+game.getEffect("blsProductionBonus")*ae["sorrow"].value;n=game.calendar.cycleEffectsFestival({catnip:n})["catnip"];n*=1+game.bld.pollutionEffects["catnipPollutionRatio"];let o=game.village.getResConsumption()["catnip"];let c=game.bld.getBuildingExt("unicornPasture").meta.val;if(t===undefined){o*=1+game.getEffect("catnipDemandRatio")}else{o*=1+game.getLimitedDR(t*-.005+c*-.0015,1)}if(game.village.sim.kittens.length>0&&game.village.happiness>1){let e=Math.max(game.village.happiness*(1+game.getEffect("hapinnessConsumptionRatio"))-1,0);if(game.challenges.isActive("anarchy")){o*=1+e*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))}else{o*=1+e*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))*(1-game.village.getFreeKittens()/game.village.sim.kittens.length)}}n+=o+.2*!ce.other["auto.changeLeader"];n+=game.getResourcePerTickConvertion("catnip");return n}};let a=function(){this.craftManager=new t};a.prototype={craftManager:undefined,bulk:function(t,a,i,g){let n,m,f,s,o;const d=[];const p=[];let c=0;for(const u in t){o=t[u];if(!o.enabled){continue}n=a[u];if(o.max!==-1&&o.max<=n.val){continue}if(n.unlocked===false){continue}let e=o.require?ae[o.require]:false;if(!e||i<=e.value/e.maxValue){let i=n.stages?n.stages[n.stage].prices:n.prices;if(o.variant==="s"){i=game.village.getEffectLeader("wise",dojo.clone(n.prices))}f=this.getPriceRatio(n,g);d[c]={};let e=d[c];e.id=u;e.label=o.label;e.name=o.name;e.stage=o.stage;e.variant=o.variant;p[c]={};let r=p[c];r.id=u;r.name=o.name;r.count=0;r.spot=c;r.prices=[];let t=game.getLimitedDR(game.getEffect(u+"CostReduction"),1);let l=1-t;for(s in i){let e=i[s];let t=game.getLimitedDR(game.getEffect(e.name+"CostReduction"),1);let a=1-t;r.prices.push({val:e.val*l*a,name:e.name})}r.priceRatio=f;r.source=g;r.limit=isNaN(o.max)?-1:o.max;r.val=n.val;if(this.singleBuildPossible(n,r.prices,f,g)){c++}else{p.pop()}}}if(p.length===0){return}let h={};for(let e in ae){h[e]=this.craftManager.getValueAvailable(e,true)}let r=0;let b;while(p.length!==0){e:for(let u=0;u<p.length;u++){let o=p[u];n=a[o.id];let e=n.val;let c=r+e;m=o.prices;f=o.priceRatio||Number.MAX_VALUE;g=o.source;for(let s=0;s<m.length;s++){let t=m[s];let e,a,i,r=false;let l=t.name;let n=h[l];if(g==="space"&&l==="oil"){e=true;i=t.val*(1-game.getLimitedDR(game.getEffect("oilReductionRatio"),.75))}else if(o.id==="cryochambers"&&l==="karma"){a=true;r=t.val*(1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1))}if(e){b=h["oil"]<i*Math.pow(1.05,c)}else if(a){b=h["karma"]<r*Math.pow(f,c)}else{let e=t.val*Math.pow(f,c);b=n<e}if(b){for(let e=0;e<s;e++){let t=m[e];let a=t.name;if(g==="space"&&a==="oil"){let e=t.val*(1-game.getLimitedDR(game.getEffect("oilReductionRatio"),.75));h["oil"]+=e*Math.pow(1.05,c)}else if(o.id==="cryochambers"&&a==="karma"){let e=t.val*(1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1));h["karma"]+=e*Math.pow(f,c)}else{let e=t.val*Math.pow(f,c);h[a]+=a==="void"?Math.ceil(e):e}}if(o.limit!==-1){o.count=Math.max(0,Math.min(o.count,o.limit-o.val))}d[o.spot].count=o.count;p.splice(u,1);u--;continue e}if(e){h["oil"]-=i*Math.pow(1.05,c)}else if(a){h["karma"]-=r*Math.pow(f,c)}else{let e=t.val*Math.pow(f,c);h[l]-=l==="void"?Math.ceil(e):e;if(!h[l]){h[l]=0}}}o.count++}r++}return d},construct:function(e,t,a){const i=e.metadata;let r=0;if(typeof i.limitBuild=="number"&&i.limitBuild-i.val<a){a=i.limitBuild-i.val}if(!e.enabled){t.controller.updateEnabled(e)}if(e.enabled&&t.controller.hasResources(e)||game.devMode){while(t.controller.hasResources(e)&&a>0){e.prices=t.controller.getPrices(e);t.controller.payPrice(e);t.controller.incrementValue(e);r++;a--}if(i.breakIronWill){game.ironWill=false;let e=game.science.getPolicy("liberty");e.calculateEffects(e,game)}if(i.unlockScheme&&i.val>=i.unlockScheme.threshold){game.ui.unlockScheme(i.unlockScheme.name)}if(i.unlocks){game.unlock(i.unlocks)}if(i.upgrades){if(i.updateEffects){i.updateEffects(i,game)}M(i.upgrades)}}return r},getPriceRatio:function(e,t){let a=e.stages?e.priceRatio||e.stages[e.stage].priceRatio:e.priceRatio;let i=0;if(t==="bonfire"){i=game.getEffect(e.name+"PriceRatio")+game.getEffect("priceRatio")+game.getEffect("mapPriceReduction");i=game.getLimitedDR(i,a-1)}return a+i},singleBuildPossible:function(s,o,c,u){let e=game.getLimitedDR(game.getEffect(s.name+"CostReduction"),1);let g=1-e;for(let n in o){let e=o[n];let t=e.name;let a=game.getLimitedDR(game.getEffect(t+"CostReduction"),1);let i=1-a;let r=e.val*g*i;if(s.name==="cryochambers"&&t==="karma"){r*=1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1)}if(u==="space"&&t==="oil"){r*=1-game.getLimitedDR(game.getEffect("oilReductionRatio"),.75);c=1.05}let l=this.craftManager.getValueAvailable(t,true);if(u==="time"&&t==="timeCrystal"){l-=300}if(l<r*Math.pow(c,s.val)){return false}}return true}};let m=function(){this.craftManager=new t;this.manager=new e("Trade")};m.prototype={craftManager:undefined,manager:undefined,trade:function(e,t){if(!e||t<1){l(e+"-"+t+"è´¸æ˜“å¯èƒ½å‡ºç‚¹é—®é¢˜")}let a=this.getRace(e);let i=this.getTradeButton(a.name);let r=te.auto.cache.trait["merchant"]?"å•†äººå°çŒ«ä¸ ":"å°çŒ«ä¸ ";if(!i.model.enabled){return i.controller.updateEnabled(i.model)}if(e!=="sharks"&&!te.auto.trade.items[e].enabled){l("è´¸æ˜“å¯èƒ½å‡ºç‚¹é—®é¢˜")}game.diplomacy.tradeMultiple(a,t);game.stats.getStat("totalClicks").val+=1;ue(r+" "+a.title,t,"trade");le("act.trade",[t,r+U(a.title)],"tradeFilter")},getProfitability:function(t){let a,l;let i=this.getRace(t);if(t==="leviathans"){let e=ae["relic"].value<5||ae["timeCrystal"].value<200*(1+50*game.getEffect("shatterTCGain"));if(e){return true}}let n=se.getSolarRevolutionRatio();let r=this.getMaterials(t);let s=0;let o=false;for(let e in r){if(e==="ivory"){continue}a=this.craftManager.getTickVal(this.craftManager.getResource(e),o);if(e==="slab"&&n>.03&&n<.5){a*=1.04}if(a<=0){if(t==="leviathans"&&e==="gold"){continue}return false}s+=r[e]/a}let c=this.getAverageTrade(i);let u=0;let g=game.calendar.season;for(let t in c){let e=ae[t];a=this.craftManager.getTickVal(e);if(a==="ignore"||!a){continue}if(t==="catnip"){if(ne("catnip")>.1||g<2){continue}}if(a<0){l=true}u+=e.maxValue>0?Math.min(c[t],Math.max(e.maxValue-e.value,0))/a:c[t]/a}let m=true;let f=ae["spice"].value+100*game.getResourcePerTick("spice",true)<0;let d=ne("titanium");if(t==="nagas"){if(!ae["concrate"].unlocked&&!game.ironWill){m=false}if(i.embassyLevel<10&&!game.ironWill){return false}let e=1+game.prestige.getParagonProductionRatio();if(f&&e<1){m=true}let t=ae["concrate"].value;if(t<100*e*(1+n)&&i.embassyLevel>10&&t&&(ae["titanium"].value>30*e||f&&game.calendar.festivalDays||t<50)){l=true}if(t>250*(1+n)*e*(1+n)&&d<.8&&ae["slab"].value>3e3){m=false}}let p=ae["titanium"];let h=p.value;if(t==="griffins"){if(g===2){if(ae["iron"].value<1200&&ae["gold"].value>100+600*game.getEffect("priceRatio")&&!game.science.get("theology").researched&&game.getEffect("priceRatio")>-.05&&ne("iron")<.9){l=true}if(h<500&&n>1.3&&n){m=false}if(game.challenges.isActive("blackSky")&&h<500&&se.getRU("basilica").on){l=true}if(ae["steel"].value>5*ae["plate"].value&&h>500){l=true}}else{if(ae["ship"].value&&(ae["ship"].value>200||game.getEffect("productionRatio"))){m=false}}l=l||f&&game.calendar.festivalDays}if(t==="zebras"){let e=game.bld.getBuildingExt("calciner").meta.val;let t=te.auto.trade.items.griffins;if(t.enabled&&t.autumn&&g===2&&e>2&&m){let e=this.craftManager.getTickVal(ae["iron"]);let t=Math.min(Math.max(p.maxValue-h,0),c["titanium"])/p.perTickCached;let a=this.getAverageTrade(this.getRace("griffins"))["iron"]/e<c["iron"]/e+t;m=a&&d<.3}let a=ae["gold"].value>200||ae["faith"].value>40&&se.faith>1e4;if(a&&!se.getRU("stainedGlass").on&&n){return}let i=se.getRU("basilica").on;if(i){if(h<30||te.auto.cache.resUpg["alloy"]<1e3){l=true}}else{if(e&&n>3.5){m=false}}let r=Q.get("geodesy").researched;if(g===1){if(r&&ne("titanium")<.5&&ae["slab"].value>1e4){l=true}let e=ae["ship"].value;if(e>40){if(h<5&&ae["science"].maxValue<55e3){l=true}if(ae["ship"].value>240){if(ae["steel"].value>ae["plate"].value||d<.5){l=true}}}}if(r){if(n&&!i){return false}let e=game.getEffect("calcinerRatio");if(e&&e<2.7||this.craftManager.getUnResearched("concreteHuts")||game.getEffect("productionRatio")&&h*1.35<ae["plate"].value&&ne("titanium")<.93||ne("iron")<.2){l=true}}if(h&&!this.craftManager.getValueAvailable("titanium",true)){l=true}if(!Q.get("caravanserai").researched&&n<4&&c["titanium"]<1){return false}l=l||f&&game.calendar.festivalDays}if(t==="spiders"){if(g===2){m=d>.4}else{m=d>.5&&ne("coal")<.5}if(g===3){m=d>.9&&ne("coal")<.5&&ne("gold")>.95}if(!l){let e=game.prestige.getParagonProductionRatio()+1;let t=ne("coal")<1&&ae["steel"].value<.8*e*ae["plate"].value;l=t&&p.value>600*(1+n)*e&&ae["iron"].value>1e4+1e4*n;if(!m&&!l){l=game.challenges.isActive("atheism")&&i.embassyLevel>4}}if(ae["scaffold"].value<7e3+7e3*n){return false}}if(t==="dragons"){let e=game.science.get("nanotechnology").researched;m=game.space.getProgram("centaurusSystemMission").on&&d>.5||e&&ne("uranium")<.35&&ne("iron")>.1||ae["ship"].value>200&&!n;l=l&&e&&ae["titanium"].value>5e3*n}if(t==="sharks"){if(game.prestige.getParagonProductionRatio()>2&&!ae["titanium"].value&&ae["furs"].value){return false}}return l||s<=u&&m},getAverageTrade:function(n){let e=game.getEffect("standingRatio")+game.diplomacy.calculateStandingFromPolicies(n.name,game);let s=1+n.energy*.02;let o=1+game.diplomacy.getTradeRatio()+game.diplomacy.calculateTradeBonusFromPolicies(n.name,game)+game.challenges.getChallenge("pacifism").getTradeBonusEffect(game);let t=n.standing<0?n.standing+e:0;let c=t<0?1+t:1;let u=n.standing>0?Math.min(n.standing+e/2,1):0;let g={};for(let l of n.sells){if(!this.isValidTrade(l,n)){continue}let e=l.minLevel?l.chance*(1+game.getLimitedDR(.01*n.embassyLevel,.75)):l.chance;let t=l.seasons?1+l.seasons[game.calendar.getCurSeason().name]:1;let a=(c-u)*Math.min(e,1);let i=u*Math.min(e,1);let r=(a+1.25*i)*l.value*s*t*o;g[l.name]=r}if(n.name==="zebras"){let e=ae["ship"].value;let t=game.getEffect("zebraRelationModifier")*game.bld.getBuildingExt("tradepost").meta.effects["tradeRatio"];let a=Math.min(.15+e*.0035,1);g["titanium"]=(1.5+e*.03)*(1+t)*a*c;if(se.getSolarRevolutionRatio()<1&&e<50&&game.getEffect("titaniumPerTickAutoprod")<.003){g["titanium"]*=.5}}let a=n.embassyPrices?.35*(1+.01*n.embassyLevel):.35;let i=c*Math.min(a,1);g["spice"]=25*i+50*i*o/2;g["blueprint"]=.1*c;return g},isValidTrade:function(e,t){return!(e.minLevel&&t.embassyLevel<e.minLevel)&&(ae[e.name].unlocked||e.name==="titanium"||e.name==="uranium"||t.name==="leviathans")},getLowestTradeAmount:function(e,t,a){let i,r,n,l;let s=this.getMaterials(e);let o=this.getRace(e);for(l in s){if(l==="manpower"){i=this.craftManager.getValueAvailable(l,true)/s[l]}else{i=this.craftManager.getValueAvailable(l,!t,te.auto.trade.trigger)/s[l]}r=r===undefined||i<r?i:r}r=Math.floor(r);if(r===0){return 0}if(o===null||te.auto.trade.items[e].allowCapped){return r}let c=ae["plate"].value>ae["steel"].value||!a;let u=this.getAverageTrade(o);let g=o.sells;for(let l in g){let e=g[l].name;let t=this.craftManager.getResource(e);if(!t.maxValue){continue}let a=u[e];let i=c||e!=="iron"?1:0;let r=Math.max((t.maxValue-t.value-Math.max(0,i*(te.interval/200+2)*t.perTickCached))/a,0);n=r<n?n:r}n=Math.ceil(n);if(n===0){return 0}r=n<r?Math.max(n-1,1):r;return Math.floor(r)},getMaterials:function(e){let t=game.challenges.isActive("postApocalypse")?game.bld.getPollutionLevel():1;let a={manpower:t*(50-game.getEffect("tradeCatpowerDiscount")),gold:t*(15-game.getEffect("tradeGoldDiscount"))};if(e===undefined){return a}let i=this.getRace(e).buys;for(const r in i){let e=i[r];a[e.name]=e.val}return a},getRace:function(e){if(e===undefined){return null}else{return game.diplomacy.get(e)}},getTradeButton:function(a){for(let t in this.manager.tab.racePanels){let e=this.manager.tab.racePanels[t];if(e.race.name===a){return e.tradeBtn}}},singleTradePossible:function(e){let t=this.getMaterials(e);for(let e in t){if(this.craftManager.getValueAvailable(e,true)<t[e]){return false}}return true}};let f=function(){};f.prototype={pushToCache:function(e){let t=te.auto.cache.cacheSum;let a=e["materials"];for(let e in a){if(!t[e]){t[e]=0}t[e]+=a[e]}},getResValue:function(e){let t=te.auto.cache;let a=t.dataTimer;let i=t.cacheSum;if(!i[e]){return 0}let r=a.ticksTotal;let l=game.timer.ticksTotal;let n=i[e]/(l-r);return n}};let i=function(e){const t=document.styleSheets;t[0].insertRule(e,0)};if(i){let e="body[data-ks-style]:not(.scheme_sleek)";i("body {"+"font-family: inherit;"+"font-size: inherit;"+"}");i(e+" #game {"+"min-width: 1300px;"+"top: 32px;"+"}");i(e+" .column {"+"min-height: inherit;"+"max-width: inherit !important;"+"padding: 1%;"+"margin: 0;"+"overflow-y: auto;"+"}");i(e+" #leftColumn {"+"height: 92%;"+"width: 26%;"+"}");i(e+" #midColumn {"+"height: 90%;"+"width: 49%;"+"}");i(e+" #rightColumn {"+"overflow-y: auto;"+"height: 92%;"+"width: 19%;"+"top: 5px;"+"font-size: 12px;"+"font-family: -apple-system,BlinkMacSystemFont,Helvetica Neue,Helvetica,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,sans-serif;"+"}");i("body #gamePageContainer #game #rightColumn {"+"overflow-y: auto;"+"}");i(e+" #gameLog {"+"overflow-y: hidden !important;"+"width: 100% !important;"+"padding-top: 5px !important;"+"}");i(e+" #resContainer .maxRes {"+"color: #676766;"+"}");i(e+" #game .btn {"+"border-radius: 0px;"+"font-family: monospace;"+"font-size: 12px !important;"+"margin: 0 5px 7px 0;"+"width: 290px;"+"}");i(e+" #game .map-viewport {"+"height: 340px;"+"max-width: 500px;"+"overflow: visible;"+"}");i(" #game .map-dashboard {"+"height: 120px;"+"width: 292px;"+"}");i("#ks-options ul {"+"list-style: none;"+"margin: 0 0 5px;"+"padding: 0;"+"}");i("#ks-options ul:after {"+"clear: both;"+'content: " ";'+"display: block;"+"height: 0;"+"}");i("#ks-options ul li {"+"display: block;"+"float: left;"+"width: 100%;"+"}");i("#ks-options #toggle-list-resources .stockWarn *,"+"#ks-options #toggle-reset-list-resources .stockWarn * {"+"color: "+te.stockwarncolor+";"+"}");i(".right-tab {"+"height: unset !important;"+"}")}let d=3;let L;let G=()=>{L={version:d,toggles:{},items:{},resources:{},triggers:{},reset:{reset:false,times:0,paragonLastTime:0,paragonTotal:0,karmaLastTime:0,karmaTotal:0},policies:[]}};G();let J=["build","space","craft","upgrade","trade","faith","time","timeCtrl","distribute","options","filter"];let H=function(){J.forEach(e=>{$("#items-list-"+e).find("input[id^='toggle-']").each(function(){let e=$(this);if(e.attr("type")!=="radio"){L.items[e.attr("id")]=e.prop("checked")}})});L.items["toggle-leaderJob-woodcutter"]=true;L.items["toggle-leaderTrait-manager"]=true;if(!game.ironWill){if(game.stats.getStat("totalResets").val>1){game.msg("æ³¨æ„ï¼šéé’¢é“æ„å¿—æ¨¡å¼ï¼Œæ•…å‹¾ä¸Šäº†å–µå–µå»ºç­‘","alert")}["hut","logHouse","mansion"].forEach(e=>{if(!te.auto.build.items[e].enabled){$("#toggle-"+e).click()}})}D()};let D=function(){L.toggles={build:te.auto.build.enabled,space:te.auto.space.enabled,craft:te.auto.craft.enabled,upgrade:te.auto.upgrade.enabled,trade:te.auto.trade.enabled,faith:te.auto.faith.enabled,time:te.auto.time.enabled,timeCtrl:te.auto.timeCtrl.enabled,distribute:te.auto.distribute.enabled,options:te.auto.options.enabled,filter:te.auto.filter.enabled};L.resources=te.auto.resources;L.triggers={faith:te.auto.faith.trigger,time:te.auto.time.trigger,build:te.auto.build.trigger,space:te.auto.space.trigger,craft:te.auto.craft.trigger,trade:te.auto.trade.trigger};L.policies=te.policies;localStorage["cbc.kitten-scientists"]=JSON.stringify(L)};let j=function(){let e=JSON.parse(localStorage["cbc.kitten-scientists"]||"null");if(!e||e.version>d){let e=game.msg("ä½ åªéœ€è¦å‹¾éœ€è¦çš„å¤§é¡¹ç›®ï¼Œé¡¹ç›®å†…maxå’Œå¯ç”¨å·²ç»å¸®ä½ ç²¾å¿ƒå‹¾é€‰å¥½äº†\nè¦å¯¹å¤§å®¶...ä¿å¯†å“¦ğŸ¤ \n\né»˜è®¤è®¾ç½®å¯ä»¥ä¸€ç›´ä»¥æœ€å¿«é€Ÿåº¦ç”¨åˆ°æ¯•ä¸š\nå·²ç»å‹¾é€‰çš„é¡¹ç›®éƒ½å·²ç»æ˜¯è‡ªåŠ¨åŒ–äº†");$(e.span).css("color","#ff589c");return H()}if(e.version===1){e.version=2;e.reset={reset:false,times:0,paragonLastTime:0,paragonTotal:0,karmaLastTime:0,karmaTotal:0}}if(e.version===2){e.version=3;e.policies=[]}if(e.version===d){L=e;let t;if(e.toggles){for(const r in e.toggles){if(r!=="engine"&&te.auto[r]){te.auto[r].enabled=!!e.toggles[r];t=$("#toggle-"+r);t.prop("checked",te.auto[r].enabled)}}}for(const l in L.items){let a=L.items[l];t=$("#"+l);let e=t.data("option");let i=l.split("-");if(e===undefined){delete L.items[l];continue}if(i[0]==="set"){t[0].title=a;if(i[i.length-1]==="max"){t.text(ee("ui.max",[a]))}else if(i[i.length-1]==="min"){t.text(ee("ui.min",[a]))}}else{t.prop("checked",a)}if(i.length===2){e.enabled=a}else if(i[1]==="reset"&&i.length>=4){let e=i[2];let t=i[3];switch(i[0]){case"toggle":te.auto[e].items[t].checkForReset=a;break;case"set":te.auto[e].items[t].triggerForReset=a;break}}else{if(i[1]==="limited"){e.limited=a}else if(i[1]==="leaderJob"&&a){e[i[1]]=i[2]}else if(i[1]==="leaderTrait"&&a){e[i[1]]=i[2]}else{e[i[2]]=a}}}let a=$("#toggle-list-resources");let i=$("#toggle-reset-list-resources");for(const n in L.resources){let e=L.resources[n];if(e.enabled){if($("#resource-"+n).length===0){a.append(O(n,undefined))}if("stock"in e){k(n,e.stock)}if("consume"in e){y(n,e.consume)}}if(e.checkForReset){if($("#resource-reset-"+n).length===0){i.append(O(n,undefined,true))}if("stockForReset"in e){k(n,e.stockForReset?e.stockForReset:Infinity,true)}}}if(e.triggers){te.auto.faith.trigger=e.triggers.faith;te.auto.time.trigger=e.triggers.time;te.auto.build.trigger=e.triggers.build;te.auto.space.trigger=e.triggers.space;te.auto.craft.trigger=e.triggers.craft;te.auto.trade.trigger=e.triggers.trade;$("#trigger-faith")[0].title=te.auto.faith.trigger;$("#trigger-time")[0].title=te.auto.time.trigger;$("#trigger-build")[0].title=te.auto.build.trigger;$("#trigger-space")[0].title=te.auto.space.trigger;$("#trigger-craft")[0].title=te.auto.craft.trigger;$("#trigger-trade")[0].title=te.auto.trade.trigger}te.policies=e.policies}};let U=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};let b=function(e){return+(Math.round(+(e+"e+2"))+"e-2")};let I={cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"};let v=function(t,e,a=false){let i=a?"#resource-reset-"+t:"#resource-"+t;$(i).removeClass("stockWarn");let r=game.resPool.resources.filter(e=>e.name===t)[0].maxValue;if(e>r&&!(r===0)||e===Infinity){$(i).addClass("stockWarn")}};let k=function(e,t,a=false){let i;let r=Number(t);if(isNaN(r)||r<0){l("ignoring non-numeric or invalid stock value "+t);return}if(!te.auto.resources[e]){te.auto.resources[e]={}}if(a){i="#resource-reset-"+e+" #stock-value-"+e;r=r<0?Infinity:r;te.auto.resources[e].checkForReset=true;te.auto.resources[e].stockForReset=r}else{i="#resource-"+e+" #stock-value-"+e;te.auto.resources[e].enabled=true;te.auto.resources[e].stock=r}$(i).text(ee("resources.stock",[r===Infinity?"âˆ":game.getDisplayValueExt(r)]));v(e,r,a)};let y=function(e,t){let a=parseFloat(t);if(isNaN(a)||a<0||a>1){l("ignoring non-numeric or invalid consume rate "+t);return}if(!te.auto.resources[e]){te.auto.resources[e]={}}te.auto.resources[e].consume=a;$("#consume-rate-"+e).text(ee("resources.consume",[a.toFixed(2)]))};let x=function(e,t=false){let a=te.auto.resources[e];if(t){a.checkForReset=false}else{a.enabled=false}if(!a.enabled&&!a.checkForReset){delete te.auto.resources[e]}};let O=function(a,i,e=false){let t;let r=ae[a];i=i||r.title||U(a);let l=te.auto.resources[a];if(e&&l&&l.stockForReset){t=l.stockForReset}else if(!e&&l&&l.stock){t=l.stock}else{t=0}let n=l&&l.consume!==undefined?l.consume:te.consume;let s=$("<div/>",{id:(e?"resource-reset-":"resource-")+a,css:{display:"inline-block",width:"100%"}});let o;if(r.type==="uncommon"){o="#FF7F50"}if(r.type==="rare"){o="#FFA500"}o=r.color||o;let c=$("<div/>",{id:"resource-label-"+a,text:i,css:{display:"inline-block",color:o,width:"95px"}});t=$("<div/>",{id:"stock-value-"+a,text:ee("resources.stock",[t===Infinity?"âˆ":game.getDisplayValueExt(t)]),css:{cursor:"pointer",display:"inline-block",width:"80px"}});n=$("<div/>",{id:"consume-rate-"+a,text:ee("resources.consume",[n.toFixed(2)]),css:{cursor:"pointer",display:"inline-block"}});let u=$("<div/>",{id:"resource-delete-"+a,text:ee("resources.del"),css:I});if(e){s.append(c,t,u)}else{s.append(c,t,n,u)}if(l!==undefined&&l.stock!==undefined){v(a,l.stock)}(function(e,t){e.on("click",function(){W.stop(false);let e=window.prompt(ee("resources.stock.set",[i]));if(te.auto.engine.enabled){W.start(false)}if(e!==null){k(a,e,t);D()}})})(t,e);n.on("click",function(){W.stop(false);let e=window.prompt(ee("resources.consume.set",[i]));if(te.auto.engine.enabled){W.start(false)}if(e!==null){y(a,e);D()}});(function(e,t){e.on("click",function(){if(i==="æ¯›çš®"){return}if(window.confirm(ee("resources.del.confirm",[i]))){s.remove();x(a,t);D()}})})(u,e);return s};let R=true;if(R){let e=true;if(e){["workshopTab","libraryTab","villageTab"].forEach(e=>{if(game[e]&&game.ui.activeTabId!==game[e].tabId&&!game[e]._inherited){game[e].render()}});let e=()=>{let e,t,a,i;let r=new S;let l=te.auto.faith.items;for(e in l){i=l[e];a=r.getBuild(i.name||e,i.variant);if(a){l[e].label=a.label}}let n=new V;l=te.auto.time.items;for(e in l){i=l[e];a=n.getBuild(i.name||e,i.variant);if(a){l[e].label=a.label}}let s=new A;l=te.auto.build.items;for(e in l){i=l[e];a=s.getBuild(i.name||e);if(a){if("stage"in i){l[e].label=a.meta.stages[i.stage].label}else{l[e].label=a.meta.label}}}let o=new z;l=te.auto.space.items;for(t in l){a=o.getBuild(t);if(a){let e=a.title?a.title:a.label;l[t].label=e}}};e();e=null}let l=function(r){let l=[];let n=r?"#resource-reset-":"#resource-";let s=game.resPool.resources;let o=te.auto.resources;let c=["elderBox","burnedParagon","blackcoin","gflops","hashrates","wrappingPaper","kittens","paragon","alicorn","zebras"];for(let t in s){let a=s[t];let i=a.name;let e=o[i];e=e&&e.enabled;if(!r&&(c.indexOf(a.name)>-1||e)){continue}if(i&&$(n+i).length===0){let e;if(a.type==="uncommon"){e="#FF7F50"}if(a.type==="rare"){e="#FFA500"}e=a.color||e;let t=$("<div/>",{id:"resource-add-"+i,text:U(a.title?a.title:i),css:{cursor:"pointer",color:e}});(function(e,t,a){t.on("click",function(){t.remove();if(!o[i]){o[i]={}}if(a){o[i].checkForReset=true;o[i].stockForReset=Infinity;$("#toggle-reset-list-resources").append(O(i,e.title,a))}else{o[i].enabled=true;o[i].stock=0;o[i].consume=te.consume;$("#toggle-list-resources").append(O(i,e.title,a))}D()})})(a,t,r);l.push(t)}}return l};let h=function(a=false){let i=$("<ul/>",{id:a?"toggle-reset-list-resources":"toggle-list-resources",css:{display:"none",paddingLeft:"20px"}});let e=$("<div/>",{id:"resources-add",text:ee("resources.add"),css:{cursor:"pointer",display:"inline-block",textShadow:"3px 3px 4px gray",borderBottom:"1px solid rgba(185, 185, 185, 0.7)"}});let r=$("<ul/>",{id:"available-resources-list",css:{display:"none",paddingLeft:"20px"}});(function(e,t){e.on("click",function(){r.toggle();r.empty();if(r[0].style.display!=="none"){l(t).forEach(e=>{r.append(e)})}})})(e,a);if(a){i.append(e,r)}else{i.append(e,r)}for(let t in te.auto.resources){let e=te.auto.resources[t];if(a&&e.checkForReset||!a&&e.enabled){i.append(O(t,undefined,a))}}return i};let b=function(t){let a=$("<ul/>",{id:"items-list-"+t,css:{display:"none",paddingLeft:"20px"}});let e=["distribute","space","time"];if(e.indexOf(t)!==-1){return a}let i=$("<div/>",{id:"toggle-all-items-"+t,text:ee("ui.disable.all"),css:{cursor:"pointer",display:"inline-block",textShadow:"3px 3px 4px gray",marginRight:"8px"}});i.on("click",function(){let e=a.children().children(":checkbox");e.prop("checked",false);e.change();a.children().children(":checkbox").change()});a.append(i);let r=$("<div/>",{id:"toggle-all-items-"+t,text:ee("ui.enable.all"),css:{cursor:"pointer",display:"inline-block",textShadow:"3px 3px 4px gray"}});r.on("click",function(){let e=a.children().children(":checkbox");e.prop("checked",true);e.change();a.children().children(":checkbox").change();if(t==="filter"&&te.auto.filter.items.miscFilter.enabled){$("#toggle-miscFilter").click()}});a.append(r);return a};let v=function(){let e="faith-addition";let i=b(e);let r=te.auto.faith.addition;for(let a in r){let t=y(a,r[a]);if(a==="bestUnicornBuilding"){t.children("label").prop("title",ee("option.faith.best.unicorn.desc"));let e=t.children("input");e.unbind("change");e.on("change",e=>{let t=r.bestUnicornBuilding;if(e.target.checked&&!t.enabled){t.enabled=true;B("status.sub.enable",[ee("option.faith.best.unicorn")]);B("option.faith.best.unicorn.desc")}else if(!e.target.checked&&t.enabled){t.enabled=false;B("status.sub.disable",[ee("option.faith.best.unicorn")])}L.items[e.target.id]=t.enabled;D()})}if(r[a].subTrigger!==undefined){let e=$("<div/>",{id:"set-"+a+"-subTrigger",text:ee("ui.trigger"),title:r[a].subTrigger,css:I}).data("option",r[a]);(function(t,a){if(t==="adore"){a.on("click",function(){let e;W.stop(false);e=window.prompt(ee("adore.trigger.set"),r[t].subTrigger);if(te.auto.engine.enabled){W.start(false)}if(e!==null){r[t].subTrigger=parseFloat(e);L.items[a[0].id]=r[t].subTrigger;D();a[0].title=r[t].subTrigger}})}else if(t==="autoPraise"){a.on("click",function(){let e;W.stop(false);e=window.prompt(ee("praise.trigger.set",[ee("option.praise")]),r[t].subTrigger);if(te.auto.engine.enabled){W.start(false)}if(e!==null){r[t].subTrigger=parseFloat(e);L.items[a[0].id]=r[t].subTrigger;D();a[0].title=r[t].subTrigger}})}})(a,e);t.append(e)}i.append(t)}return i};let n=function(a){let e,t,i,r;let l=U(ee("ui."+a));let n=te.auto[a];let s=$("<li/>",{id:"ks-"+a});let o=$("<label/>",{for:"toggle-"+a,text:l});let c=$("<input/>",{id:"toggle-"+a,type:"checkbox"});if(n.enabled){c.prop("checked",true)}if(a!=="engine"){c.on("change",function(){if(c.is(":checked")&&!n.enabled){n.enabled=true;if(a==="filter"||a==="options"){B("status.sub.enable",[l])}else{B("status.auto.enable",[l])}D()}else if(!c.is(":checked")&&n.enabled){n.enabled=false;if(a==="filter"||a==="options"){B("status.sub.disable",[l])}else{B("status.auto.disable",[l])}D()}})}s.append(c,o);if(n.items){s.css("borderBottom","1px  solid rgba(185, 185, 185, 0.7)");i=$("<div/>",{css:{display:"inline-block",float:"right"}});r=$("<div/>",{id:"toggle-items-"+a,text:ee("ui.items"),css:I});s.append(r);e=b(a);if(a==="faith"){for(t in te.auto.unicorn.items){e.append(y(t,te.auto.unicorn.items[t]))}}for(t in n.items){switch(a){case"trade":e.append(k(t,n.items[t]));break;case"craft":e.append(w(t,n.items[t]));break;case"timeCtrl":e.append(T(t,n.items[t]));break;case"options":e.append(M(t,n.items[t]));break;case"upgrade":e.append(x(t,n.items[t]));break;case"distribute":e.append(E(t,n.items[t]));break;case"build":case"faith":case"space":e.append(R(t,n.items[t]));break;case"time":e.append(R(t,n.items[t]));break;default:e.append(y(t,n.items[t]));break}}r.on("click",function(){e.toggle()})}if(n.trigger!==undefined){let t=$("<div/>",{id:"trigger-"+a,text:ee("ui.trigger"),title:n.trigger,css:I});t.on("click",function(){let e;W.stop(false);if(a==="faith"){e=window.prompt(ee("ui.trigger.set",[l+"("+$I("resources.faith.title")+")"]),n.trigger.toString())}else if(a==="trade"){e=window.prompt(ee("ui.trigger.set",[l+" çš„è§¦å‘å€¼\néœ€åŒæ—¶æ»¡è¶³ ç§æ—è§¦å‘èµ„æº å’Œ "+$I("resources.gold.title")+" çš„"]),n.trigger.toString())}else{e=window.prompt(ee("ui.trigger.set",[l]),n.trigger.toString())}if(te.auto.engine.enabled){W.start(false)}if(e!==null){n.trigger=parseFloat(e);D();t[0].title=n.trigger}});s.append(t)}if(a==="craft"){const u=$("<div/>",{id:"toggle-resource-controls",text:ee("ui.craft.resources"),css:I});const g=h();r.on("click",function(){g.toggle(false)});u.on("click",function(){e.toggle(false);g.toggle()});s.append(u);s.append(g)}else if(a==="faith"){const m=$("<div/>",{id:"toggle-addition-controls",text:ee("ui.faith.addtion"),title:"å¤ªé˜³æ•™å›¢çš„è‡ªåŠ¨åŒ–é¡¹ç›®",css:I});const f=v();r.on("click",function(){f.toggle(false)});m.on("click",function(){e.toggle(false);f.toggle()});s.append(m);for(const d in te.auto.unicorn.items){const p=e.children().children("#toggle-"+d);p.on("change",function(e){if(!$(e.target).is(":checked")){const t=$("#toggle-bestUnicornBuilding");t.prop("checked",false);t.trigger("change")}})}s.append(f)}if(n.items){s.append(i,e)}return s};let k=function(e,t){let a=U(ee("$trade.race."+e));let i=y(e,t,a);i.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");let r=$("<label/>",{for:"toggle-limited-"+e,title:ee("trade.limited",[a]),text:ee("ui.tradeLimit")});let l=$("<input/>",{id:"toggle-limited-"+e,type:"checkbox"}).data("option",t);if(t.limited){l.prop("checked",true)}l.on("change",function(){if(l.is(":checked")&&t.limited===false){t.limited=true;B("trade.limited",[a])}else if(!l.is(":checked")&&t.limited){t.limited=false;let e=t.require?"éœ€åŒæ—¶æ»¡è¶³èµ„æºé»„é‡‘å’Œ"+ae[t.require].title+"çš„è§¦å‘æ¡ä»¶æ‰":"èµ„æºæ»¡è¶³é»„é‡‘çš„è§¦å‘æ¡ä»¶å°±ä¼š";B("trade.unlimited",[a,e])}L.items[l.attr("id")]=t.limited;D()});i.append(l,r);let n=$("<div/>",{id:"toggle-seasons-"+e,text:ee("trade.seasons"),css:I});let s=$("<ul/>",{id:"seasons-list-"+e,css:{display:"none",paddingLeft:"20px"}});s.append(o(e,"spring",t));s.append(o(e,"summer",t));s.append(o(e,"autumn",t));s.append(o(e,"winter",t));n.on("click",function(){s.toggle()});i.append(n,s);return i};let o=function(e,t,a){let i=U(ee("$trade.race."+e));let r=U(ee("$calendar.season."+t));let l=$("<li/>");let n=$("<label/>",{for:"toggle-"+e+"-"+t,text:U(r)});let s=$("<input/>",{id:"toggle-"+e+"-"+t,type:"checkbox"}).data("option",a);if(a[t]){s.prop("checked",true)}s.on("change",function(){if(s.is(":checked")&&!a[t]){a[t]=true;B("trade.season.enable",[i,r])}else if(!s.is(":checked")&&a[t]){a[t]=false;B("trade.season.disable",[i,r])}L.items[s.attr("id")]=a[t];D()});l.append(s,n);return l};let c=function(e,t){let a=U(ee("$calendar.season."+e));let i=$("<li/>");let r=$("<label/>",{for:"toggle-timeSkip-"+e,text:U(a)});let l=$("<input/>",{id:"toggle-timeSkip-"+e,type:"checkbox"}).data("option",t);if(t[e]){l.prop("checked",true)}l.on("change",function(){if(l.is(":checked")&&!t[e]){t[e]=true;B("time.skip.season.enable",[a])}else if(!l.is(":checked")&&t[e]){t[e]=false;B("time.skip.season.disable",[a])}L.items[l.attr("id")]=t[e];D()});i.append(l,r);return i};let y=function(e,t,a){let i=$("<li/>");let r=a||t.label||U(e);let l=t.require;l=l?game.resPool.get(l).title:ee("ui.none");let n=ee("ui.trigger.resource")+": "+l;if(t.require===undefined){n=null}let s=$("<label/>",{for:"toggle-"+e,text:r,title:n,css:{display:"inline-block",minWidth:"80px"}});let o=$("<input/>",{id:"toggle-"+e,type:"checkbox"}).data("option",t);if(t.enabled){o.prop("checked",true)}o.on("change",function(){if(o.is(":checked")&&!t.enabled){t.enabled=true;if(e.indexOf("Filter")>-1){B("filter.enable",[r])}else if(t.misc){B("status.sub.enable",[r])}else{B("status.auto.enable",[r]);if(e==="wood"){B("msg.catnip")}}}else if(!o.is(":checked")&&t.enabled){t.enabled=false;if(e.indexOf("Filter")>-1){B("filter.disable",[r])}else if(t.misc){B("status.sub.disable",[r])}else{B("status.auto.disable",[r])}}L.items[o.attr("id")]=t.enabled;if(e!=="saves"){D()}});i.append(o,s);return i};let u=function(e){let a=[];for(let t in te.policies){let e=te.policies[t];if(e==="authocracy"){e="autocracy"}a.push($("<div/>",{id:"policy-"+e,text:ee("$policy."+e+".label"),css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}}))}return a};let x=function(a,n){let i=ee("ui.upgrade."+a);let s=y(a,n,i);if(a==="policies"){let i=$("<ul/>",{id:"items-list-policies",css:{display:"none",paddingLeft:"20px"}});let e=$("<label/>",{for:"toggle-policies-auto",text:"è‡ªåŠ¨æ¨èæ”¿ç­–",css:{display:"inline-block",minWidth:"80px",color:"#FF6600"}});let t=$("<input/>",{id:"toggle-policies-auto",type:"checkbox"}).data("option",n);if(n.auto){t.prop("checked",true)}t.on("change",function(){if(t.is(":checked")&&!n.auto){W.stop(false);let e=window.confirm("ç‚å­¦å®¶è‡ªåŠ¨æ ¹æ®Cheneyå†™çš„èŒæ–°æŒ‡å¯¼å’Œæ”¿ç­–è§£æè‡ªåŠ¨ç‚¹æ¨èçš„æ”¿ç­–\nä¸é‡ç½®çš„æ…ç”¨å»ºè®®çœ‹ç™¾ç§‘\næ³¨æ„ç¡®è®¤åä¼šä¼˜å…ˆè‡ªåŠ¨çš„è€Œä¸æ˜¯è¯»å–çš„åˆ—è¡¨(æŒ‘æˆ˜æ¨¡å¼è‡ªåŠ¨ä¼šå–æ¶ˆå‹¾é€‰æ”¿ç­–)\nå¦‚éœ€æƒ³è‡ªå·±é€‰æ”¿ç­–è¯·æŒ‰å–æ¶ˆ");if(te.auto.engine.enabled){W.start(false)}if(e){n.auto=true;C("è‡ªåŠ¨ç‚¹æ¨èæ”¿ç­–(ä»£æ›¿åˆ—è¡¨)")}}if(!t.is(":checked")&&n.auto){n.auto=false;C("å–æ¶ˆè‡ªåŠ¨ç‚¹æ¨èæ”¿ç­–ä»£æ›¿åˆ—è¡¨")}L.items[t.attr("id")]=n.auto;D()});s.append(t,e);let a=$("<a/>",{id:"toggle-upgrade-policies-wiki",text:"æ”¿ç­–æ¨è",href:"https://petercheney.gitee.io/baike/?file=000-%E7%8C%AB%E5%9B%BD%E8%90%8C%E6%96%B0%E6%8C%87%E5%AF%BC/02-%E6%94%BF%E7%AD%96%E6%95%88%E6%9E%9C%E8%A7%A3%E6%9E%90#%E5%86%85%E4%BA%8B",target:"_blank",css:I});let r=$("<div/>",{id:"toggle-upgrade-policies-load",text:ee("ui.upgrade.policies.load"),css:I});let l=$("<div/>",{id:"toggle-upgrade-policies-show",text:ee("ui.upgrade.policies.show"),css:I});r.on("click",function(){const t=[];for(const a in game.science.policies){let e=game.science.policies[a];if(e.researched){t.push(e.name)}}te.policies=t;D();i.empty();u().forEach(e=>{i.append(e)})});l.on("click",function(){i.toggle();i.empty();u().forEach(e=>{i.append(e)})});s.append(l,r,a,i)}if(n.subTrigger!==undefined&&a==="missions"){let t=$("<div/>",{id:"set-"+a+"-subTrigger",text:ee("ui.trigger"),title:n.subTrigger,css:I}).data("option",n);t.on("click",function(){let e;W.stop(false);if(a==="missions"){e=window.prompt(ee("ui.trigger.missions.set"),n.subTrigger.toString())}else{e=window.prompt(ee("ui.trigger.set"),n.subTrigger.toString())}if(te.auto.engine.enabled){W.start(false)}if(e!==null){n.subTrigger=parseFloat(e);L.items[t.attr("id")]=n.subTrigger;D();t[0].title=n.subTrigger}});s.append(t)}if(a==="upgrades"||a==="techs"){let e=$("<label/>",{for:"toggle-limited-"+a,text:ee("ui.upgradesLimit")});let t=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",n);if(n.limited){t.prop("checked",true)}t.on("change",function(){if(t.is(":checked")&&!n.limited){n.limited=true;B("upgrade.limited",[i])}else if(!t.is(":checked")&&n.limited){n.limited=false;B("upgrade.unlimited",[i])}L.items[t.attr("id")]=n.limited;D()});s.append(t,e)}return s};let R=function(e,t,a){let i=$("<li/>");let r=a||t.label||U(e);let l=t.require;l=l?game.resPool.get(t.require).title:ee("ui.none");let n=l;let s=$("<label/>",{for:"toggle-"+e,text:r,title:ee("ui.trigger.resource")+": "+n,css:{display:"inline-block",minWidth:"80px"}});let o=$("<input/>",{id:"toggle-"+e,type:"checkbox"}).data("option",t);if(t.enabled){o.prop("checked",true)}o.on("change",function(){if(o.is(":checked")&&!t.enabled){t.enabled=true;if(e.indexOf("Filter")>-1){B("filter.enable",[r])}else if(t.misc){B("status.sub.enable",[r])}else{B("status.auto.enable",[r]);if(e==="field"){B("msg.catnip")}}}else if(!o.is(":checked")&&t.enabled){t.enabled=false;if(e.indexOf("Filter")>-1){B("filter.disable",[r])}else if(t.misc){B("status.sub.disable",[r])}else{B("status.auto.disable",[r])}}L.items[o.attr("id")]=t.enabled;D()});let c=$("<div/>",{id:"set-"+e+"-max",text:ee("ui.max",[t.max]),title:t.max,css:I}).data("option",t);c.on("click",function(){let e;W.stop(false);e=window.prompt(ee("ui.max.set",[t.label])+"\n -1ä¸ºæ²¡æœ‰ä¸Šé™",t.max.toString());if(te.auto.engine.enabled){W.start(false)}if(e!==null){t.max=parseInt(e);L.items[c.attr("id")]=t.max;D();c[0].title=t.max;c[0].innerText=ee("ui.max",[t.max])}});i.append(o,s,c);return i};let w=function(e,t){let a=U(ee("$resources."+e+".title"));if(e==="ship"){a=U(ee("$workshop.crafts."+e+".label"))}let i=y(e,t,a);if(e==="parchment"){return i}let r=$("<label/>",{for:"toggle-limited-"+e,title:ee("craft.limitedTitle"),text:ee("ui.craftLimit")});let l=$("<input/>",{id:"toggle-limited-"+e,type:"checkbox"}).data("option",t);if(t.limited){l.prop("checked",true)}l.on("change",function(){if(l.is(":checked")&&!t.limited){t.limited=true;B("craft.limited",[a]);oe("craftLimited")}else if(!l.is(":checked")&&t.limited){t.limited=false;let e=t.require?ae[t.require].title+"æ»¡è¶³è§¦å‘èµ„æºçš„è§¦å‘æ¡ä»¶æ‰ä¼šåˆ¶ä½œï¼Œ":"æ— ï¼Œå½“èµ„æºæ»¡è¶³åˆ¶ä½œæ¡ä»¶å°±ä¼šåˆ¶ä½œ";B("craft.unlimited",[a,e])}L.items[l.attr("id")]=t.limited;D()});i.append(l,r);return i};let m=function(e,t){let a=game.calendar.cycles[e];let i=$("<li/>");let r=$("<label/>",{for:"toggle-timeSkip-"+e,text:a.title});let l=$("<input/>",{id:"toggle-timeSkip-"+e,type:"checkbox"}).data("option",t);if(t[e]){l.prop("checked",true)}l.on("change",function(){if(l.is(":checked")&&!t[e]){t[e]=true;B("time.skip.cycle.enable",[a.title])}else if(!l.is(":checked")&&t[e]){t[e]=false;B("time.skip.cycle.disable",[a.title])}L.items[l.attr("id")]=t[e];D()});i.append(l,r);return i};let f=function(e,t,a){let i=$("<li/>");let r=a.label;let l=$("<label/>",{for:"toggle-reset-"+t+"-"+e,text:r,css:{display:"inline-block",minWidth:"80px"}});let n=$("<input/>",{id:"toggle-reset-"+t+"-"+e,type:"checkbox"}).data("option",a);if(a.checkForReset){n.prop("checked",true)}n.on("change",function(){if(n.is(":checked")&&!a.checkForReset){a.checkForReset=true;B("status.reset.check.enable",[r])}else if(!n.is(":checked")&&a.checkForReset){a.checkForReset=false;B("status.reset.check.disable",[r])}L.items[n.attr("id")]=a.checkForReset;D()});let s=$("<div/>",{id:"set-reset-"+t+"-"+e+"-min",text:ee("ui.min",[a.triggerForReset]),title:a.triggerForReset,css:I}).data("option",a);s.on("click",function(){let e;e=window.prompt(ee("reset.check.trigger.set",[a.label]),a.triggerForReset.toString());if(e!==null){a.triggerForReset=parseInt(e);L.items[s.attr("id")]=a.triggerForReset;D();s[0].title=a.triggerForReset;s[0].innerText=ee("ui.min",[a.triggerForReset])}});i.append(n,l,s);return i};let T=function(l,n){let s;let g=y(l,n);if(l==="timeSkip"){s=$("<div/>",{id:"set-timeSkip-subTrigger",text:ee("ui.trigger"),title:n.subTrigger,css:I}).data("option",n);s.on("click",function(){let e;W.stop(false);e=window.prompt(ee("time.skip.trigger.set",[]),n.subTrigger);if(te.auto.engine.enabled){W.start(false)}if(e!==null){n.subTrigger=parseFloat(e);L.items[s.attr("id")]=n.subTrigger;D();s[0].title=n.subTrigger}});let t=$("<div/>",{id:"set-timeSkip-maximum",text:ee("ui.maximum"),title:n.max,css:I}).data("option",n);t.on("click",function(){let e;W.stop(false);e=window.prompt(ee("ui.max.set",["æ¯æ¬¡ç‡ƒçƒ§æ—¶é—´æ°´æ™¶"]),n.maximum.toString());if(te.auto.engine.enabled){W.start(false)}if(e!==null){n.maximum=parseFloat(e);L.items[t.attr("id")]=n.maximum;D();t[0].title=n.maximum}});let e=$("<div/>",{id:"toggle-cycle-"+l,text:ee("ui.cycles"),css:I});let a=$("<ul/>",{id:"cycles-list-"+l,css:{display:"none",paddingLeft:"20px"}});for(let e in game.calendar.cycles){a.append(m(e,n))}let i=$("<div/>",{id:"toggle-seasons-"+l,text:ee("trade.seasons"),css:I});let r=$("<ul/>",{id:"seasons-list-"+l,css:{display:"none",paddingLeft:"20px"}});r.append(c("spring",n));r.append(c("summer",n));r.append(c("autumn",n));r.append(c("winter",n));e.on("click",function(){a.toggle();r.toggle(false)});i.on("click",function(){a.toggle(false);r.toggle()});g.append(e,i,t,s,a,r)}else if(l==="reset"){let e;let t=b("reset-build");let a=b("reset-space");let i=h(true);let r=b("reset-religion");let l=b("reset-time");for(e in te.auto.build.items){t.append(f(e,"build",te.auto.build.items[e]))}for(e in te.auto.space.items){a.append(f(e,"space",te.auto.space.items[e]))}for(e in te.auto.unicorn.items){r.append(f(e,"unicorn",te.auto.unicorn.items[e]))}for(e in te.auto.faith.items){r.append(f(e,"faith",te.auto.faith.items[e]))}for(e in te.auto.time.items){l.append(f(e,"time",te.auto.time.items[e]))}let n=$("<div/>",{id:"toggle-reset-build",text:ee("ui.build"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});let s=$("<div/>",{id:"toggle-reset-space",text:ee("ui.space"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});let o=$("<div/>",{id:"toggle-reset-resources",text:ee("ui.craft.resources"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});let c=$("<div/>",{id:"toggle-reset-religion",text:ee("ui.faith"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});let u=$("<div/>",{id:"toggle-reset-time",text:ee("ui.time"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});n.on("click",function(){t.toggle();a.toggle(false);i.toggle(false);r.toggle(false);l.toggle(false)});s.on("click",function(){t.toggle(false);a.toggle();i.toggle(false);r.toggle(false);l.toggle(false)});o.on("click",function(){t.toggle(false);a.toggle(false);i.toggle();r.toggle(false);l.toggle(false)});c.on("click",function(){t.toggle(false);a.toggle(false);i.toggle(false);r.toggle();l.toggle(false)});u.on("click",function(){t.toggle(false);a.toggle(false);i.toggle(false);r.toggle(false);l.toggle()});g.append(n,s,o,c,u,t,a,i,r,l)}else{s=$("<div/>",{id:"set-"+l+"-subTrigger",text:ee("ui.trigger"),title:n.subTrigger,css:I}).data("option",n);s.on("click",function(){let e;e=window.prompt(ee("ui.trigger.set",[n.label]),n.subTrigger);if(e!==null){n.subTrigger=parseFloat(e);L.items[s.attr("id")]=n.subTrigger;D();s[0].title=n.subTrigger}});g.append(s)}return g};let M=function(a,i){let r;let l=y(a,i);if(a==="style"){r=l.children("input");r.unbind("change");r.on("change",function(e){i.enabled=r.prop("checked");L.items[r.attr("id")]=i.enabled;if(e.isTrusted){D()}let t=document.getElementById("toggleCenter").style;if(i.enabled){document.body.setAttribute("data-ks-style","");if(!game.ui.isCenter){t.display="none"}}else{document.body.removeAttribute("data-ks-style");t.display=""}})}if(a==="useWorkers"){r=l.children("input");r.on("click",function(){let e=confirm(ee("ui.trigger.useWorkers.alert"));if(e&&!i.enabled){W.stop();i.enabled=true;L.items[r.attr("id")]=i.enabled;if(te.auto.engine.enabled){W.start()}}else if(e&&i.enabled){W.stop();i.enabled=false;L.items[r.attr("id")]=i.enabled;if(te.auto.engine.enabled){W.start()}}})}if(a==="saves"){r=l.children("input");r.on("click",function(){W.stop(false);let e=window.confirm("ç‚¹å‡»ç¡®è®¤ä¼šå¯¼å‡ºç‚å­¦å®¶çš„é…ç½®.txtæ–‡ä»¶");if(e){let e=$("#download-link");let t=JSON.stringify(window.localStorage["cbc.kitten-scientists"]);let a=game.compressLZData(t,false);let i=new Blob([a],{type:"text/plain"});e.attr("href",window.URL.createObjectURL(i));let r="å°çŒ«ç‚å­¦å®¶é…ç½®"+(game.stats.getStat("totalResets").val+1)+"å‘¨ç›®";e.attr("download",r+".txt");e.get(0).dispatchEvent(new MouseEvent("click"))}if(te.auto.engine.enabled){W.start(false)}});let e=$("<div/>",{id:"loadKS",text:"å¯¼å…¥é…ç½®",css:I}).data("option",i);e.on("click",function(){W.stop(false);let t=window.prompt("çª—å£å†…å¡«å…¥åä½ éœ€è¦å¯¼å…¥çš„ç‚å­¦å®¶é…ç½®ï¼Œç¡®è®¤åä¼šå¯¼å…¥é…ç½®","");if(te.auto.engine.enabled){W.start(false)}if(t&&t.length>=10){let e;if(t.charAt(0)!=="{"){e=JSON.parse(LZString.decompressFromBase64(t))}window.localStorage["cbc.kitten-scientists"]=e;j()}});let t=$("<div/>",{id:"ressetKS",text:"æ¢å¤åˆå§‹é»˜è®¤é…ç½®",css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",color:"#FF6347"}});t.on("click",function(){if(confirm("ç¡®å®šè¦åˆå§‹åŒ–ç‚å­¦å®¶é…ç½®å—ï¼Œç‚¹å‡»ç¡®è®¤ååˆå§‹åŒ–ç‚å­¦å®¶é…ç½®\nå·²ç»æ›¿ä½ å®Œç¾é…ç½®å¥½ä¸éœ€è¦ä½ æ”¹ä»»ä½•è®¾ç½®\nåªéœ€å‹¾ä¸Šä½ éœ€è¦çš„å¯¹åº”çš„å¤§é¡¹ç›®å°±æ˜¯æœ€å¿«é€Ÿåº¦å‘å±•äº†\n\nä¸ºäº†ç…§é¡¾é’¢é“æ¨¡å¼ï¼Œé»˜è®¤é…ç½®å°å±‹ã€æœ¨å±‹ã€å®…é‚¸é»˜è®¤ä¸å‹¾ï¼Œè¯·æœ‰éœ€è¦çš„è‡ªè¡Œå‹¾ä¸Š")){W.stop();let e=sessionStorage.getItem("options");delete localStorage["cbc.kitten-scientists"];if(e){$("#ks-options").remove();te.auto=JSON.parse(e).auto;G();F=$("<div/>",{id:"ks-options",css:{marginBottom:"10px"}});P=$("<ul/>");P.append(n("engine"));J.forEach(e=>{P.append(n(e))});F.append(P);p.prepend(F);X();H()}else{game.save();window.location.reload()}}});l.append(e);l.append(t)}if(a==="donate"){r=l.children("input");r.unbind("change");r.on("change",function(e){i.enabled=r.prop("checked");L.items[r.attr("id")]=i.enabled;if(e.isTrusted){D()}let t=document.getElementById("ks-donate").style;if(i.enabled){t.display="block"}else{t.display="none"}t=null})}if(a==="wiki"){let e=$("<a/>",{css:{display:"inline-block",transformOrigin:"bottom",fontStyle:"italic",transform:"scale(0.63)"},href:"https://petercheney.gitee.io/",target:"_blank",text:"Cheney"});l.append(e);r=l.children("input");r.on("click",function(){let e=window.open();e.location="https://petercheney.gitee.io/baike/?file=004-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7/02-%E5%B0%8F%E7%8C%AB%E7%A7%91%E5%AD%A6%E5%AE%B6";ie(["å¦‚æœè¿˜æœ‰é—®é¢˜å¯ä»¥åœ¨çŒ«å›½ç¾¤è¯¢é—®ï¼Œæœ‰BUGæˆ–æ„è§å¯ä»¥è”ç³»Cheneyã€‚åˆå§‹é»˜è®¤é…ç½®å³æ¨èæŒ‚æœºé«˜æ•ˆé…ç½®","ks-default",te.activitycolor])})}if(i.subTrigger!==undefined){let t=$("<div/>",{id:"set-"+a+"-subTrigger",text:ee("ui.trigger"),title:i.subTrigger,css:I}).data("option",i);t.on("click",function(){let e;W.stop(false);if(a==="crypto"){e=window.prompt(ee("ui.trigger.crypto.set",[i.label]),i.subTrigger)}else if(a==="filterGame"){e=window.prompt(ee("ui.trigger.filterGame.set"),i.subTrigger)}else{e=window.prompt(ee("ui.trigger.set",[i.label]),i.subTrigger)}if(te.auto.engine.enabled){W.start(false)}if(e!==null){if(a==="crypto"){i.subTrigger=e}else if(a==="filterGame"){i.subTrigger=parseFloat(e);ge()}else{i.subTrigger=parseFloat(e)}L.items[t.attr("id")]=i.subTrigger;D();t[0].title=i.subTrigger}});l.append(t)}return l};let E=function(e,a){if(e==="leader"){return s(e,a)}let t=U(ee("$village.job."+e));let i=y(e,a,t);i.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");let r=$("<label/>",{for:"toggle-limited-"+e,text:ee("ui.distributeLimit")});let l=$("<input/>",{id:"toggle-limited-"+e,type:"checkbox"}).data("option",a);if(a.limited){l.prop("checked",true)}l.on("change",function(){if(l.is(":checked")&&!a.limited){a.limited=true;B("distribute.limited",[t])}else if(!l.is(":checked")&&a.limited){a.limited=false;B("distribute.unlimited",[t])}L.items[l.attr("id")]=a.limited;D()});i.append(l,r);let n=$("<div/>",{id:"set-"+e+"-max",text:ee("ui.max",[a.max]),title:a.max,css:I}).data("option",a);(function(t){n.on("click",function(){let e;W.stop(false);e=window.prompt(ee("ui.max.set",[t])+" ï¼ˆæŒ‰maxæ¯”ä¾‹åˆ†é…ï¼‰",a.max.toString());if(te.auto.engine.enabled){W.start(false)}if(e!==null){a.max=Math.max(0,parseInt(e));L.items[n.attr("id")]=a.max;D();n[0].title=a.max;n[0].innerText=ee("ui.max",[a.max])}})})(t);i.append(n);return i};let s=function(e,t){let a;let i=U(ee("distribute.makeLeader"));let r=y(e,t,i);r.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");let l=$("<ul/>",{id:"items-list-traits",css:{display:"none",paddingLeft:"20px"}});let n=$("<div/>",{id:"toggle-leaderTrait"+e,text:ee("$village.trait.filter.all"),css:I});for(a in window["com"]["nuclearunicorn"].game.village.Kitten().traits){l.append(d(a,t))}n.on("click",function(){s.toggle(false);l.toggle()});let s=$("<ul/>",{id:"items-list-jobs",css:{display:"none",paddingLeft:"20px"}});let o=$("<div/>",{id:"toggle-leaderJob"+e,text:ee("$village.panel.job"),css:I});for(a in game.village.jobs){s.append(g(a,t))}o.on("click",function(){l.toggle(false);s.toggle()});r.append(n,o,l,s);return r};let g=function(e,t){let a=game.village.jobs;let i=a[e];let r=$("<li/>");let l=$("<label/>",{for:"toggle-leaderJob-"+i.name,text:i.title,css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}});let n=$("<input/>",{id:"toggle-leaderJob-"+i.name,name:"leaderJob",value:i.name,type:"radio"}).data("option",t);if(n.prop("value")===t.leaderJob){n.prop("checked",true)}n.on("change",function(){B("distribute.leaderJob",[i.title]);t.leaderJob=$("input[name='leaderJob']:checked").val();a.forEach(e=>{delete L.items["toggle-leaderJob-"+e.name]});L.items["toggle-leaderJob-"+t.leaderJob]=true;D()});r.append(n,l);return r};let d=function(e,t){let a=window["com"]["nuclearunicorn"].game.village.Kitten().traits;const i=a[e];const r=$("<li/>");const l=$("<label/>",{for:"toggle-leaderTrait-"+i.name,text:i.title,css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}});const n=$("<input/>",{id:"toggle-leaderTrait-"+i.name,name:"leaderTrait",value:i.name,type:"radio"}).data("option",t);if(n.prop("value")===t.leaderTrait){n.prop("checked",true)}n.on("change",function(){B("distribute.leaderTrait",[i.title]);t.leaderTrait=$(this).val();a.forEach(e=>{delete L.items["toggle-leaderTrait-"+e.name]});L.items["toggle-leaderTrait-"+t.leaderTrait]=true;D()});r.append(n,l);return r};let p=$("#rightColumn");let F=$("<div/>",{id:"ks-options",css:{marginBottom:"10px"}});let P=$("<ul/>");P.append(n("engine"));J.forEach(e=>{P.append(n(e))});let t=function(){const e="1HDV6VEnXH9m8PJuT4eQD7v8jRnucbneaq";let t=$("<li/>",{id:"ks-donate"}).append($("<a/>",{href:"bitcoin:"+e+"?amount=0.00048&label=Kittens Donation",target:"_blank",text:e})).prepend($('<img alt="bit" src="https://s1.ax1x.com/2022/04/30/OSmUAK.png" height="15px" />',{css:{height:"15px",width:"15px",padding:"3px 4px 0 4px",verticalAlign:"bottom"}}));t.css("padding","5px");P.append(t)};t();F.append(P);p.prepend(F)}let r=te.auto.build.items;te.auto.build.items=Object.assign({amphitheatre:r["amphitheatre"],reactor:r["reactor"],magneto:r["magneto"],steamworks:r["steamworks"]},r);r=te.auto.space.items;te.auto.space.items=Object.assign({researchVessel:r["researchVessel"]},r);r=null;let oe=(e,t,a)=>{if(t){ce.other["auto."+e]=null}else{if(ce.other["auto."+e]){return true}else{if(!a){a="miscFilter"}re(ee("summary.auto."+e),a);ue("auto."+e)}}};let E=a=>{for(let t in a){let e=a[t];ue(e.name,e.val,"resConsume")}};let ce;let N=function(){let e=game.calendar;ce={lastYear:e.year,lastTrueYear:e.trueYear(),lastDay:e.day,lastSeason:e.season,ksTime:0,totalTicks:0,praise:[0,0],adore:[0,0],craft:{},trade:{},build:{},other:{},resGain:{},resConsume:{},research:{}}};N();let ue=function(e,t,a){if(t===undefined){t=1}if(a===undefined){a="other"}if(ce[a]===undefined){ce[a]={}}if(ce[a][e]===undefined){ce[a][e]=parseFloat(t)}else{ce[a][e]+=parseFloat(t)}};let w=function(){if(game.console.messages.length>game.console.maxMessages-250){game.clearLog()}me();let a="=".repeat(24);let e,i,r;let t=ce.resGain;for(i in t){let e=t[i];if(!e){continue}r=game.msg("å°å–µå…±è·å¾—äº† "+game.getDisplayValueExt(e)+" "+$I("resources."+i+".title"),null,null,true);$(r.span).css("color","#ff589c")}if(r){game.msg(a,"notice");r=null}let l=ce.resConsume;let n=game.resPool.resources;for(let t=n.length-1;t>0;t--){if(!l){break}i=n[t].name;let e=l[i];if(!e){continue}r=game.msg("å°å–µå…±æ¶ˆè€—äº† "+game.getDisplayValueExt(e)+" "+$I("resources."+i+".title"),null,null,true);$(r.span).css("color","#DC143C")}if(r){game.msg(a,"notice")}let s=ce.other;for(const d in s){let e=s[d];if(e){e=typeof e==="number"?game.getDisplayValueExt(e):e;h("summary."+d,[e])}}T("praise");T("adore");let o=ce.research;for(i in o){e=o[i];e=e?"ç§‘å­¦å®¶":"";h("summary.tech",[e+"å°çŒ«ç ”ç©¶äº† "+U(i)])}for(i in ce.upgrade){e=ce.upgrade[i];e=e?"ç§‘å­¦å®¶":"";h("summary.upgrade",[e+"å°çŒ«å‘æ˜äº† "+U(i)])}let c=["faith","build","craft","craftLeader","trade"];c.forEach(t=>{let a=ce[t];for(let e in a){h("summary."+t,[game.getDisplayValueExt(a[e]),U(e)])}});let u=ce.lastYear;let g=ce.lastDay;if(u+g){let t=game.calendar;let e=t.year-u;let a=t.day-g;let i=t.trueYear()-ce.lastTrueYear;let r=t.season-ce.lastSeason;let l=t.daysPerSeason;let n=t.seasonsPerYear;a+=e*400;a+=r*l;let s="";if(a>=400){s+=e+" ";s+=e===1?ee("summary.year"):ee("summary.years")}if(a>=0){if(e>0){s+=ee("summary.separator")}s+=b(a%400)+" ";s+=a===1?ee("summary.day"):ee("summary.days")}h("summary.head",[s]);if(i>0){let e=game.toDisplaySeconds(i*n*l*t.ticksPerDay/game.ticksPerSecond);if(e){p("æ€»å…± "+e+" çš„å°å–µç§ç”°æ—¶é—´")}}}let m=te.auto.filter;if(!m.enabled||!m.items["craftFilter"].enabled||!m.items["buildFilter"].enabled||game.console.filters["faith"].enabled||game.console.filters["astronomicalEvent"].enabled){game.msg("å–µå–µæç¤ºï¼šæ¸¸æˆ(ç‚å­¦å®¶)æ—¥å¿—æ¶ˆè€—æ€§èƒ½ä¼šæ¯”è¾ƒå¤š!","alert")}let f=ce.ksTime;if(f){let e=ce.totalTicks;let i=Math.pow(10,2+game.opts.forceHighPrecision);let t=e=>{let t=Math.round(e*i)/i;let a=Math.round(e%1e3*i)/i;if(e>1e3){a=game.toDisplaySeconds(Math.floor(t/1e3))+a}return a};p(ee("time.ks",[e,t(f),Math.round(f*i/e)/i]));p(a)}N()};let T=e=>{let t=ce[e];let a=t[0];let i=game.getDisplayValueExt(t[1]);if(a){h("summary."+e,[game.getDisplayValueExt(a),i])}};let F=$("<div/>",{id:"activity-box",css:{display:"inline-block",verticalAlign:"top"}});let P=$("<a/>",{id:"showActivityHref",text:ee("summary.show"),href:"#",css:{verticalAlign:"top"}});P.on("click",w);F.append(P);$("#clearLog").append(F);const n=$("<div/>",{id:"important-msg-box",class:"dialog help",css:{display:"none",width:"auto",height:"auto"}});let K=$("<a/>",{text:ee("ui.close"),href:"#",css:{position:"absolute",top:"10px",right:"15px"}});K.on("click",function(){n.toggle()});let _=$("<h1/>",{id:"mb-title",text:"test text"});let Y=$("<h1/>",{id:"mb-content",text:"test text"});n.append(K,_,Y);$("#gamePageContainer").append(n);let Z=(e,t)=>{_.html(e);Y.html(t);n.toggle()};let W=new u;let s;let X=()=>{s=$("#toggle-engine");s.on("change",function(){let e=te.auto.engine;if(s.is(":checked")){e.enabled=true;W.start();me();setTimeout(()=>{if(e.enabled){C("å¦‚éœ€æŸ¥çœ‹å°å–µåšè¿‡ä»€ä¹ˆï¼Œå¯ä»¥ç‚¹å‡»å°çŒ«æ€»ç»“(æ¸…ç©ºæ—¥å¿—æ—è¾¹)")}},2e3);if(game.getEffect("priceRatio")>-.03&&se.transcendenceTier<4){oe("ksHelp",false,"noFilter");oe("ksHelp2",false,"noFilter");if(!game.stats.getStat("totalResets").val&&se.faith>1e4){oe("ksHelp3",false,"noFilter")}oe("ksHelp4",false,"noFilter")}}else{e.enabled=false;W.stop()}});let e=$("<a/>",{css:{display:"inline-block",textShadow:"1px 1px 1px gray",transformOrigin:"bottom",fontStyle:"italic",transform:"scale(0.8)",paddingLeft:"3px"},text:o,target:"_blank",href:"https://petercheney.gitee.io/scientists/updateLog.html?v="+(new Date).getDate()});$("#ks-engine").append(e)};X();te.auto.cache.dataTimer["trueYear"]=game.calendar.trueYear();te.auto.cache.dataTimer["ticksTotal"]=game.timer.ticksTotal;te.auto.cache.dataTimer["saveId"]=game.telemetry.guid;sessionStorage.setItem("options",JSON.stringify(te));j();let ge=()=>{game.console.maxMessages=Math.min(Math.max(300,te.auto.options.items.filterGame.subTrigger),2e3)};ge();$("#toggle-style").trigger("change");$("#toggle-donate").trigger("change");$("#ks-donate")[0].style.display="none";if(console&&console.log){console.log(c+" loaded")}game._publish("kitten_scientists/ready",c);let me=()=>{let e=te.auto.resources;let i;for(let a in e){let t=e[a];if(t.enabled){if(t.stock){if(a==="furs"&&t.stock===350){continue}i=true;let e=game.msg($I("resources."+a+".title")+"åº“å­˜ï¼š"+game.getDisplayValueExt(t.stock),null,null,true);$(e.span).css("color","#ff589c")}else if(t.consume===.6){delete te.auto.resources[a]}}}if(i){re("å°å–µç•™ä¸‹è®¾ç½®å¥½çš„åº“å­˜ï¼š");C("å¯çˆ±çš„çŒ«çŒ«ç‚å­¦å®¶æç¤ºè®¾ç½®åº“å­˜ä¼šå½±å“æŒ‚æœºæ•ˆç‡")}if(!te.net){te.net=true;oe("ksHelp4");if(location.origin.indexOf("cheney")<0&&location.origin.indexOf("lolita")<0){setTimeout(()=>{C("ç‚å­¦å®¶åœ¨Cheneyçš„ç½‘ç«™å¯ä»¥åœ¨æ²¡ç½‘çš„æ—¶å€™åŠ è½½")},1e3)}}};if(L.reset&&L.reset.reset){L.reset.karmaTotal+=ae["karma"].value-Number(L.reset.karmaLastTime);L.reset.paraonTotal+=ae["paragon"].value-Number(L.reset.paragonLastTime);L.reset.reset=false;Z(ee("summary.time.reset.title",[L.reset.times]),ee("summary.time.reset.content",[L.reset.karmaTotal,L.reset.paragonTotal]));s.prop("checked",true);s.trigger("change");B("reset.after")}else{L.reset={reset:false,times:0,paragonLastTime:0,paragonTotal:0,karmaLastTime:0,karmaTotal:0}}D();const fe=function(){if(!te.auto.engine.enabled&&te.auto.options.items.autoScientists.enabled){let e=te.countdown;if(e===0){s.click();clearInterval(de);B("reset.after")}else if(e>10){if(e%60===0){B("auto.tip")}if(e%10===0){le("auto.countdown",[e])}te.countdown-=1}else if(e<=10){B("reset.countdown."+e);te.countdown-=1}}else{clearInterval(de)}};let de=setInterval(fe,1e3)};window.loadTest=function(){if(typeof gamePage==="undefined"||typeof i18nLang==="undefined"){setTimeout(function(){window.loadTest()},1e3)}else{let a=game.workshop.upgrades;for(let t in a){let e=a[t];game.workshop.metaCache[e.name]=e}game.workshop.metaCache["undefined"]=null;delete game.workshop.metaCache["undefined"];if(localStorage["zh.kgp.enable"]!=="disable"){$('<style id="KGPBorder">.res-table { border-spacing: 0 3px; }</style>').appendTo("head")}let i=game.science.policies;game.science.policyMetaCache={};for(let t in i){let e=i[t];game.science.policyMetaCache[e.name]=e}window.run();window.loadTest=null;window.run=null}};setTimeout(function(){window.loadTest()},1e3);