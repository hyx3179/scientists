let run=function(){const ca="zh"===localStorage["com.nuclearunicorn.kittengame.language"]?"zh":"en",fa={en:{"option.observe":"Observe Astro Events","option.festival":"Hold Festivals","option.praise":"Auto Praise","option.shipOverride":"Force Ships to 243","option.autofeed":"Feed Leviathans","option.hunt":"Hunt","option.crypto":"Trade Blackcoin","option.embassies":"Build Embassies (Beta)","option.style":"View Full Width","option.steamworks":"Turn on Steamworks","filter.build":"Building","filter.craft":"Crafting",
"filter.upgrade":"Upgrading","filter.research":"Researching","filter.trade":"Trading","filter.hunt":"Hunting","filter.praise":"Praising","filter.faithBld":"Order of the Sun","filter.festival":"Festivals","filter.star":"Astronomical Events","filter.misc":"Miscellaneous","dispose.necrocorn":"Kittens disposed of inefficient necrocorns","blackcoin.buy":"Kittens sold your Relics and bought {0} Blackcoins","blackcoin.sell":"Kittens sold your Blackcoins and bought {0} Relics","act.feed":"Kittens fed the Elders. The elders are pleased",
"act.observe":"Kitten Scientists have observed a star","act.hunt":"Sent {1} on {0} hunts","act.build":"Kittens have built a new {0}","act.builds":"Kittens have built a new {0} {1} times.","act.craft":"Kittens have crafted {0} {1}","act.trade":"Kittens have traded {0}x with {1}","upgrade.space.mission":"Kittens conducted a mission to {0}","upgrade.space":"Kittens conducted a {0}","upgrade.race":"Kittens met the {0}","upgrade.building.pasture":"Upgraded pastures to solar farms!","upgrade.building.aqueduct":"Upgraded aqueducts to hydro plants!",
"upgrade.building.library":"Upgraded libraries to data centers!","upgrade.building.amphitheatre":"Upgraded amphitheatres to broadcast towers!","upgrade.upgrade":"Kittens have bought the upgrade {0}","upgrade.limited":"Optimize {0}","upgrade.unlimited":"All {0}","upgrade.tech":"Kittens have bought the tech {0}","upgrade.policy":"Kittens have passed {0}","festival.hold":"Kittens begin holding a festival","festival.extend":"Kittens extend the festival","build.embassy":"Built {0} embassy for {1}","build.embassies":"Built {0} embassies for {1}",
"act.praise":"Praised the sun! Accumulated {0} faith to {1} worship","act.sun.discover":"Kittens have discovered {0}","act.sun.discovers":"Kittens have discovered {0} {1} times.","ui.items":"items","ui.disable.all":"disable all","ui.enable.all":"enable all","ui.craft.resources":"resources","ui.trigger":"trigger","ui.trigger.set":"Enter a new trigger value for {0}. Should be in the range of 0 to 1.","ui.limit":"Limited","ui.trigger.shipOverride.set":"Enter a new trigger value for {0}. Corresponds to the amount of ship needed before the exchange is made.",
"ui.trigger.missions.set":"Enter a new trigger value for missions. Should be in the range of 0 to 13. Corresponds to each planet sort","ui.trigger.crypto.set":"Enter a new trigger value for {0}. Corresponds to the amount of Relics needed before the exchange is made.","ui.engine":"Enable Scientists","ui.build":"Bonfire","ui.space":"Space","ui.craft":"Crafting","ui.upgrade":"Unlocking","ui.trade":"Trading","ui.faith":"Religion","ui.time":"Time","ui.options":"Options","ui.filter":"Filters","ui.distribute":"Kitten Resources",
"ui.max":"Max: {0}","ui.upgrade.upgrades":"Upgrades","ui.upgrade.techs":"Techs","ui.upgrade.races":"Races","ui.upgrade.missions":"Missions","ui.upgrade.buildings":"Buildings","ui.upgrade.policies":"Policies","ui.upgrade.policies.load":"Load","ui.upgrade.policies.show":"Show","ui.faith.addtion":"addition","option.faith.best.unicorn":"Build Best Unicorn Building First","option.faith.best.unicorn.desc":"Include auto Sacrifice Unicorns if tears are not enough to build the best unicorn building","option.faith.transcend":"Auto Transcend",
"act.transcend":"Spend {0} epiphany, Transcend to T-level: {1}","summary.transcend":"Transcend {0} times","filter.transcend":"Transcend","option.faith.adore":"Auto Adore the Galaxy","act.adore":"Adore the galaxy! Accumulated {0} worship to {1} epiphany","summary.adore":"Accumulated {0} epiphany by adore the galaxy","filter.adore":"Adoring","adore.trigger.set":"Enter a new trigger value for AutoAdore. Should be in the range of 0 to 1.\nKS will AutoAdore if the Solar Revolution Bonus brought by praising the sun once after adore can reach the trigger of maximum.\n\nNote: The solar revolution bonus will diminish after reaching 75% of the maximum.",
"resources.add":"add resources","resources.clear.unused":"clear unused","resources.stock":"Stock: {0}","resources.consume":"Consume: {0}","resources.del":"del","resources.stock.set":"Stock for {0}","resources.consume.set":"Consume rate for {0}","resources.del.confirm":"Delete resource controls for {0}?","status.ks.enable":"Enabling the kitten scientists!","status.ks.disable":"Disabling the kitten scientists!","status.sub.enable":"Enabled {0}","status.auto.enable":"Enable Auto {0}","status.sub.disable":"Disabled {0}",
"status.auto.disable":"Disable Auto {0}","trade.limited":"Trading with {0}: limited to only occur when profitable based off relative production time","trade.unlimited":"Trading with {0}: unlimited","trade.seasons":"seasons","trade.season.enable":"Enabled trading with {0} in the {1}","trade.season.disable":"Disabled trading with {0} in the {1}","filter.enable":"Enable {0} Filter","filter.disable":"Disabled {0} Filter","craft.limited":"Crafting {0}: limited to be proportional to cost ratio","craft.unlimited":"Crafting {0}: unlimited",
"distribute.limited":"Distribute to {0}: stop when reach max","distribute.unlimited":"Distribute to {0}: unlimited","distribute.leaderJob":"Leader Job: {0} ","distribute.leaderTrait":"Choose {0} Leader","distribute.makeLeader":"Make Leader","act.distribute":"Distribute a kitten to {0}","act.distributeLeader":"Make a {0} kitten leader","ui.max.set":"Maximum for {0}","summary.distribute":"Help {0} kittens to find job","filter.distribute":"Distribute","option.promote":"Promote Leader","act.promote":"Kittens' leader has been promoted to rank {0}",
"filter.promote":"Promote leader","summary.promote":"Promoted leader {0} times","ui.timeCtrl":"Time Control","option.accelerate":"Tempus Fugit","act.accelerate":"Accelerate time!","filter.accelerate":"Tempus Fugit","summary.accelerate":"Accelerate time {0} times","option.time.skip":"Time Skip","act.time.skip":"Kittens combust Time crystal, {0} years skipped!","ui.cycles":"cycles","ui.maximum":"Maximum","time.skip.cycle.enable":"Enable time skip in cycle {0} and allow skip over this cycle","time.skip.cycle.disable":"Disable time skip in cycle {0} and disallow skip over this cycle",
"time.skip.season.enable":"Enable time skip in the {0}","time.skip.season.disable":"Disable time skip in the {0}","time.skip.trigger.set":"Enter a new trigger value for Time Skip (Combust time crystal). Should be a positive integer.","summary.time.skip":"Skip {0} years","filter.time.skip":"Time Skip","option.time.reset":"Reset Timeline (Danger!)","status.reset.check.enable":"Enable check {0} before Reset Timeline","status.reset.check.disable":"Disable check {0} before Reset Timeline","ui.min":"Min: {0}",
"reset.check.trigger.set":"Enter a new trigger value for {0}.\n-1 meaning must build this building until exceeding resource limit.","reset.check":"Trigger for {0} : {1}, you have {2}","reset.checked":"All conditions are met, the timeline will restart in next few seconds!","reset.tip":'You can cancel this reset by disable "Kitten Scientists" or "Time Control" or "Reset Timeline"',"reset.countdown.10":"10 - Harvesting catnip","reset.countdown.9":"&nbsp;9 - Sacrificing Unicorns","reset.countdown.8":"&nbsp;8 - Releasing lizards",
"reset.countdown.7":"&nbsp;7 - Disassembling rail-guns","reset.countdown.6":"&nbsp;6 - Starting time engines","reset.countdown.5":"&nbsp;5 - Melting blackcoins","reset.countdown.4":"&nbsp;4 - Turning off satellite","reset.countdown.3":"&nbsp;3 - Opening temporal rifts","reset.countdown.2":"&nbsp;2 - Boosting the chronoforge","reset.countdown.1":"&nbsp;1 - Time engine start","reset.countdown.0":"&nbsp;0 - Temporal rifts opened!","reset.last.message":"See you next poinciana recurrence","reset.after":"Nice to meet you, the cute Kittens Scientists will serve you",
"reset.cancel.message":"Timeline Reset canceled.","reset.cancel.activity":"Meoston, We Have a Problem.","summary.time.reset.title":"Summary of the last {0} timelines","summary.time.reset.content":"Gain {0} Karma.<br>Gain {1} Paragon.","ui.close":"close","option.fix.cry":"Fix Cryochamber","act.fix.cry":"Kittens fix {0} Cryochambers","summary.fix.cry":"Fix {0} Cryochambers","summary.festival":"Held {0} festivals","summary.stars":"Observed {0} stars","summary.praise":"Accumulated {0} worship by praising the sun",
"summary.hunt":"Sent adorable kitten hunters on {0} hunts","summary.embassy":"Built {0} embassies","summary.feed":"Fed the elders {0} necrocorns","summary.tech":"Researched: {0}","summary.upgrade":"Upgraded: {0}","summary.building":"Built: +{0} {1}","summary.sun":"Discovered: +{0} {1}","summary.craft":"Crafted: +{0} {1}","summary.trade":"Traded: {0}x {1}","summary.year":"year","summary.years":"years","summary.separator":" and ","summary.day":"day","summary.days":"days","summary.head":"Summary of the last {0}",
"summary.show":"Show activity"},zh:{"option.observe":"\u89c2\u6d4b\u5929\u6587\u73b0\u8c61","option.festival":"\u4e3e\u529e\u8282\u65e5","option.praise":"\u8d5e\u7f8e\u592a\u9633","option.shipOverride":"\u5f3a\u5236\u8d38\u6613\u8239","option.autofeed":"\u732e\u796d\u6b7b\u7075\u517d","option.hunt":"\u6d3e\u51fa\u730e\u4eba","option.crypto":"\u9ed1\u5e01\u4ea4\u6613","option.embassies":"\u5efa\u9020\u5927\u4f7f\u9986","option.style":"\u5360\u6ee1\u5c4f\u5e55","option.useWorkers":"\u542f\u7528\u540e\u53f0\u6ee1\u901f\u73c2\u5b66\u5bb6",
"filter.build":"\u5efa\u7b51","filter.craft":"\u5de5\u827a\u5236\u4f5c","filter.space":"\u592a\u7a7a\u76f8\u5173","filter.upgrade":"\u5de5\u574a\u5347\u7ea7","filter.research":"\u79d1\u5b66\u7814\u7a76","filter.policy":"\u653f\u7b56","filter.upgBld":"\u8425\u706b\u5efa\u7b51\u5347\u7ea7","filter.trade":"\u8d38\u6613","filter.embassy":"\u5927\u4f7f\u9986","filter.hunt":"\u72e9\u730e","filter.praise":"\u8d5e\u7f8e\u592a\u9633","filter.adore":"\u8d5e\u7f8e\u7fa4\u661f","filter.transcend":"\u6b21\u5143\u8d85\u8d8a",
"filter.sacrifice":"\u732e\u796d","filter.faithBld":"\u592a\u9633\u6559\u56e2","filter.accelerate":"\u5149\u9634\u4f3c\u7bad","filter.time.skip":"\u65f6\u95f4\u8df3\u8f6c","filter.festival":"\u4e3e\u529e\u8282\u65e5","filter.star":"\u5929\u6587\u73b0\u8c61","filter.distribute":"\u732b\u732b\u5206\u914d","filter.leader":"\u9886\u8896\u76f8\u5173","filter.misc":"\u55b5\u55b5\u55b5",time:"{1}\u5904\u7406\u7528\u65f6\uff1a{0}ms","dispose.necrocorn":"\u5c0f\u732b\u5e2e\u4f60\u5904\u7406\u6389\u4e86\u5f71\u54cd\u6548\u7387\u7684\u591a\u4f59\u6b7b\u7075\u517d",
"act.feed":"\u5c0f\u732b\u5411\u5229\u7ef4\u5766\u732e\u4e0a\u796d\u54c1\u3002\u53e4\u795e\u5f88\u9ad8\u5174","blackcoin.buy":"\u5c0f\u732b\u82b1\u6389 {1} \u9057\u7269\uff0c\u52a0\u4ed3\u4e86 {0} \u9ed1\u5e01","blackcoin.sell":"\u5c0f\u732b\u629b\u552e {1} \u9ed1\u5e01\uff0c\u5957\u73b0\u4e86 {0} \u9057\u7269","act.observe":"\u5c0f\u732b\u89c2\u6d4b\u4e86\u5929\u6587\u73b0\u8c61","act.hunt":"{0} \u6ce2{1}\u53bb\u6253\u730e","act.hunt.unicorn":"\u5c0f\u732b\u6025\u7740\u6d3e\u51fa\u730e\u4eba\u5e2e\u72ec\u89d2\u517d\u914d\u79cd\uff0c\u545c\u547c\u5341\u8fde\u722a\u0e05",
"act.hunt.trade":"\u5c0f\u732b\u8d38\u6613\u540e\u51b3\u5b9a\u53bb\u6253\u730e","act.hunt.mint":"\u6bdb\u76ae\u6216\u7f8a\u76ae\u7eb8\u5904\u4e8e\u4f4e\u50a8\u91cf","act.build":"\u5c0f\u732b\u5efa\u9020\u4e86\u4e00\u4e2a {0}","act.builds":"\u5c0f\u732b\u5efa\u9020\u4e86 {1} \u4e2a\u65b0\u7684 {0}","act.craft":" {0} {1}","act.trade":" {1} \u4ea4\u6613 {0} \u6b21","upgrade.space.mission":"\u5c0f\u732b\u6267\u884c\u4e86 {0} \u7684\u4efb\u52a1","upgrade.space":"\u5c0f\u732b\u6267\u884c\u4e86 {0}","upgrade.race":"\u5c0f\u732b\u63a2\u9669\u9047\u5230\u4e86\u65b0\u7684\u6587\u660e\uff1a{0}",
"upgrade.upgrade":"{1}\u53d1\u660e\u4e86 {0}","upgrade.limited":"\u4f18\u5316 {0}","upgrade.unlimited":"\u5168\u90e8 {0}","upgrade.tech":"{1}\u7814\u7a76\u4e86 {0}","upgrade.policy":"\u5c0f\u732b\u901a\u8fc7\u4e86 {0} \u6cd5\u6848","festival.hold":"\u545c\u547c\uff0c\u5c0f\u732b\u7684\u8282\u65e5\u5f00\u59cb\u4e86","festival.extend":"\u5c0f\u732b\u52a0\u4e86\u4e00\u5e74\u949f","build.embassy":"\u5728 {1} \u8bbe\u7acb\u4e86 {0} \u4e2a\u5927\u4f7f\u9986","build.embassies":"\u5728 {1} \u8bbe\u7acb\u4e86 {0} \u4e2a\u5927\u4f7f\u9986",
"act.praise":"\u8d5e\u7f8e\u592a\u9633! \u8f6c\u5316 {0} \u4fe1\u4ef0\u4e3a {1} \u8654\u8bda","parise.trigger.set":"\u8f93\u5165\u65b0\u7684\u8d5e\u7f8e\u592a\u9633\u7684\u89e6\u53d1\u503c\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1\u7684\u7eaf\u5c0f\u6570\n \u5f53\u4e3a0.98\u65f6\u4e14\u70b9\u51fa\u592a\u9633\u9769\u547d\uff0c\u82e5\u8654\u8bda\u592a\u5c11\u5c0f\u732b\u6bcf\u5929\u8d5e\u7f8e\u592a\u9633","summary.praise.msg":"\u8654\u8bda\u7684\u5c0f\u732b\u6bcf\u5929\u90fd\u4f1a\u8d5e\u7f8e\u592a\u9633\uff0c\u76f4\u5230\u592a\u9633\u9769\u547d\u52a0\u6210\u5927\u4e8e {0} % (\u8bf4\u4f60\u4e86\u8654\u8bda\u592a\u4f4e\u4e86!)",
"act.sun.discover":"\u5c0f\u732b\u5728\u5b97\u6559\u7977\u544a\u4e86 {0} ","act.sun.discovers":"\u5c0f\u732b\u5728\u5b97\u6559\u7977\u544a\u4e86 {0} {1} \u6b21","act.sun.discovers.leader":"\u54f2\u5b66\u5bb6\u5c0f\u732b\u5728\u5b97\u6559\u7977\u544a\u4e86 {0} {1} \u6b21","ui.infinity":"\u65e0\u9650\u6d41","ui.infinity.buildChronosphere":"\u4fee\u5efa\u4f20\u9001\u4eea","ui.infinity.cryoFix":"\u51b7\u51bb\u4ed3\u4fee\u590d","ui.infinity.autoReset":"\u81ea\u52a8\u91cd\u7f6e","ui.infinity.autohunt":"\u65e0\u9650\u6253\u730e",
"ui.infinity.autoTransform":"\u65e0\u9650\u9057\u7269","ui.infinity.autoCT":"\u65e0\u9650\u5965\u79d8","ui.infinity.skiptime":"\u71c3\u70e7\u65f6\u95f4\u6c34\u6676","ui.infinity.chronosphere":"\u4f20\u9001\u4eea\uff1a{0} \u4e0d\u8db3\u4ee5\u518d\u4fee\u5efa {1} \u4e2a\u4f20\u9001\u4eea","ui.trigger.buildChronosphere.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u4fee\u5efa\u4f20\u9001\u4eea \u89e6\u53d1\u503c\uff0c\u5927\u4e8e\u7b49\u4e8e 0 \u7684\u6574\u6570\u3002\n\u9ed8\u8ba4\u503c 67 \uff0c\u81ea\u52a8\u91cd\u7f6e\u4f1a\u5f3a\u5236\u68c0\u67e5\u6570\u91cf\u3002\n\u76ee\u524d\u65e0\u81ea\u52a8\u8c03\u6574\uff0c\u65e0\u9650\u6d41\u524d\u671f\u4f7f\u7528\u9700\u6ce8\u610f\u8c03\u6574\u3002\n\u53ef\u4ee5\u7a33\u5b9a\u5efa\u9020 666 \u4ee5\u4e0a\u4f20\u9001\u4eea\u65f6\u5efa\u8bae\u914d\u5408\u51b7\u51bb\u4ed3\uff0c\n\u4f7f\u7528 \u51b7\u51bb\u4ed3\u4fee\u590d \u529f\u80fd\uff0c\u53ef\u540c\u6b65\u83b7\u5f97\u5927\u91cf\u4e1a\u529b\u3002",
"ui.trigger.cryoFix.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u51b7\u51bb\u4ed3\u4fee\u590d \u89e6\u53d1\u503c\uff0c\u5927\u4e8e\u7b49\u4e8e 0 \u7684\u6574\u6570\u3002\n\u5efa\u8bae\u5c0f\u4e8e\u7b49\u4e8e\u5df2\u62e5\u6709\u7684\u51b7\u51bb\u4ed3\u6570\u91cf\uff0c\n\u4ec5\u5728\u6d88\u8017\u4e1a\u529b \uff1c1 \u4e14\u672a\u5f00\u542f \u795e\u5723\u706d\u7edd \u65f6\u4f1a\u81ea\u52a8\u5efa\u9020\u65b0\u7684\u51b7\u51bb\u4ed3\u3002","ui.trigger.autohunt.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u65e0\u9650\u6253\u730e \u89e6\u53d1\u503c\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u7eaf\u5c0f\u6570\u3002\n\u8bbe\u7f6e\u4e3a 0 \u65f6\u6253\u730e\u6b21\u6570\u4e3a\u4e0d\u6d88\u8017\u55b5\u529b\u7684\u6700\u5927\u6570\u91cf\u3002\n\u4ec5\u5728\u6bdb\u76ae\u3001\u8c61\u7259\u3001\u72ec\u89d2\u517d\u4e2d\u6709 0 \u65f6\u89e6\u53d1\u3002",
"ui.trigger.autoTransform.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u65e0\u9650\u9057\u7269 \u89e6\u53d1\u503c\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u7eaf\u5c0f\u6570\u3002\n\u8bbe\u7f6e\u4e3a 0 \u65f6\u7cbe\u70bc\u6b21\u6570\u4e3a\u4e0d\u6d88\u8017 \u65f6\u95f4\u6c34\u6676 \u7684\u6700\u5927\u6570\u91cf\u3002\n\u9057\u7269\u5c0f\u4e8e \u221e \u65f6\u89e6\u53d1\u3002","ui.trigger.skiptime.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u71c3\u70e7\u65f6\u95f4\u6c34\u6676 \u89e6\u53d1\u503c\uff0c \u5728 [0,2^62] \u5185\u7684\u6574\u6570\u3002\n\u5176\u503c\u4e3a\u9700\u8981\u5230\u8fbe\u7684\u6e38\u620f\u65e5\u5386\u5e74\uff0c\u9ed8\u8ba4\u4e3a 40K\u3002\n\u6e38\u620f\u89c4\u5219\u5185 \u80fd\u5230\u8fbe\u7684\u6700\u5927\u65e5\u5386\u5e74\u4e3a\n2^62 = \u7b2c4,611,686,018,427,388,000\u5e74\uff0c\n\u6700\u5927\u771f\u5b9e\u5e74\u4e3a 2^53 = \u7b2c9,007,199,254,740,992\u5e74\n\u672c\u529f\u80fd\u9700\u8981 \u65f6\u95f4\u6c34\u6676 \u8d85\u8fc7 1e100 \u624d\u5141\u8bb8\u4f7f\u7528",
"ui.trigger.autoCT.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u65e0\u9650\u5965\u79d8 \u89e6\u53d1\u503c\uff0c\n\u652f\u63013\u4e2a\u53c2\u6570\uff1a-\u7b26\u53f7\u9694\u5f00\u6570\u5b57\u53c2\u6570\u3002\n\u7b2c\u4e00\u4e2a\u6570\u5b57\uff1a0-9\uff0c\u5206\u522b\u5bf9\u5e94 10 \u4e2a\u5965\u79d8\u795e\u5b66\n\u7b2c\u4e8c\u4e2a\u6570\u5b57\uff1a\u6bcf\u8f6e\u5347\u7ea7\u6b21\u6570\uff08\u6700\u5927\u4e3a 1000 \uff09\n\u7b2c\u4e09\u4e2a\u6570\u5b57\uff1a\u9700\u8981\u8fbe\u5230\u7684\u7b49\u7ea7\uff08\u6700\u5927 2^53\uff09\n\u9ed8\u8ba4\u4e3a\u7a7a\uff0c\u5fc5\u987b\u81ea\u884c\u8bbe\u7f6e\n\u53ea\u6709\u62e5\u6709 \u221e \u7684\u65f6\u95f4\u6c34\u6676\u624d\u80fd\u4f7f\u7528\n\u4f1a\u81ea\u52a8\u6e05\u9664\u7cbe\u70bc\u65f6\u95f4\u6c34\u6676\u4ea7\u751f\u7684\u5927\u91cf\u65e5\u5fd7",
"ui.items":"\u9879\u76ee","ui.disable.all":"\u5168\u90e8\u7981\u7528","ui.enable.all":"\u5168\u90e8\u542f\u7528","ui.craft.resources":"\u8d44\u6e90","ui.trigger":"\u89e6\u53d1\u6761\u4ef6","ui.trigger.set":"\u8f93\u5165\u65b0\u7684 {0} \u89e6\u53d1\u6761\u4ef6\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u5c0f\u6570\u3002\n\n \u89e6\u53d1\u6761\u4ef6\uff1a\u5f53\u524d\u89e6\u53d1\u8d44\u6e90 / \u89e6\u53d1\u8d44\u6e90\u4e0a\u9650\n\u9f20\u6807\u79fb\u52a8\u5230\u8be5\u9879\u76ee\u540d\u5b57\u4e0a\u80fd\u770b\u5230\u89e6\u53d1\u8d44\u6e90",
"ui.trigger.resource":"\u89e6\u53d1\u8d44\u6e90\u4e3a","ui.none":"\u65e0","ui.limit":"\u9650\u5236","ui.craftLimit":"AI\u5e73\u8861","ui.upgradesLimit":"\u4f18\u9009","ui.trigger.filterGame.set":"\u8bbe\u7f6e\u6e38\u620f\u65e5\u5fd7\u6570\u91cf\u4e0a\u9650","ui.trigger.shipOverride.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u5f3a\u5236\u8d38\u6613\u8239 \u89e6\u53d1\u503c\uff0c\n\u5373\u5f53\u8d38\u6613\u8239\u6570\u91cf\u4f4e\u4e8e\u89e6\u53d1\u6761\u4ef6\u65f6\uff0c\u76f8\u5f53\u4e8e\u672a\u52fe\u9009\u8d38\u6613\u8239AI\u5e73\u8861\n\u7531\u4e8e\u8d38\u6613\u8239\u6ca1\u6709\u89e6\u53d1\u8d44\u6e90\uff0c\u4e0d\u52fe\u5e73\u8861\u76f8\u5f53\u4e8e\u6709\u8d44\u6e90\u5c31\u4f1a\u5408\u6210\u8d38\u6613\u8239",
"ui.trigger.missions.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u63a2\u7d22\u661f\u7403 \u89e6\u53d1\u503c,\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 13 \u7684\u6574\u6570\u3002\n\u5206\u522b\u5bf9\u5e9413\u9897\u661f\u7403\u3002\n\n\u9ed8\u8ba4\u4f18\u5148\u78a7\u6c60\u63a2\u7d22\uff0c\u4f1a\u6682\u65f6\u8df3\u8fc7\u6c99\u4e18","ui.trigger.crypto.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 {0} \u89e6\u53d1\u503c\uff0c\n\u652f\u63013\u4e2a\u53c2\u6570\uff1a-\u7b26\u53f7\u9694\u5f00\u6570\u5b57\u53c2\u6570\n\u7b2c\u4e00\u4e2a\u6570\u5b57\uff1a\u5f53\u9057\u7269\u6570\u91cf\u5927\u4e8e\u89e6\u53d1\u503c\u624d\u4f1a\u8fdb\u884c\u9ed1\u5e01\u4ea4\u6613\n\u7b2c\u4e8c\u4e2a\u6570\u5b57\uff1a\u4e70\u5165\u7684\u6700\u9ad8\u4ef7\uff08\u8d85\u8fc7\u8fd9\u4ef7\u683c\u5c31\u4e0d\u4f1a\u4e70\u4e86\uff09\n\u7b2c\u4e09\u4e2a\u6570\u5b57\uff1a\u5356\u51fa\u6700\u4f4e\u7684\u4ef7\u683c\u3002\uff08\u4f4e\u4e8e\u8fd9\u4ef7\u683c\u5c31\u4e0d\u4f1a\u5356\u51fa\uff09\n\u9ed8\u8ba410000-881-1060",
"ui.engine":"\u542f\u7528\u5c0f\u732b\u73c2\u5b66\u5bb6","ui.build":"\u8425\u706b","ui.space":"\u592a\u7a7a","ui.craft":"\u5de5\u827a","ui.upgrade":"\u5347\u7ea7","ui.trade":"\u8d38\u6613","ui.faith":"\u5b97\u6559","ui.time":"\u65f6\u95f4","ui.options":"\u5c0f\u55b5\u9009\u9879","ui.filter":"\u65e5\u5fd7\u8fc7\u6ee4","ui.distribute":"\u55b5\u55b5\u7ba1\u7406","ui.max":"Max: {0}","msg.catnip":"\u5982\u679c\u5bd2\u51ac\u732b\u8584\u8377\u4ea7\u91cf\u4f4e\u4e8e0\uff0c\u5c0f\u732b\u73c2\u5b66\u5bb6\u4f1a\u505c\u6b62\u6d88\u8017\u732b\u8584\u8377",
"ui.upgrade.upgrades":"\u5de5\u574a\u5347\u7ea7","ui.upgrade.techs":"\u79d1\u5b66\u79d1\u6280","ui.upgrade.races":"\u63a2\u9669\u8005\u51fa\u53d1!","ui.upgrade.missions":"\u63a2\u7d22\u661f\u7403","ui.upgrade.buildings":"\u5347\u7ea7\u5efa\u7b51","ui.upgrade.policies":"\u653f\u7b56","ui.upgrade.policies.load":"\u8bfb\u53d6","ui.upgrade.policies.show":"\u5217\u8868","ui.faith.addtion":"\u5b97\u6559\u9644\u52a0","option.faith.best.unicorn":"\u81ea\u52a8\u6700\u4f73\u72ec\u89d2\u517d\u5efa\u7b51","option.faith.best.unicorn.desc":"\u81ea\u52a8\u732e\u796d\u72ec\u89d2\u517d\uff0c\u5e76\u4f1a\u4ee5\u72ec\u89d2\u517d\u6216\u8c61\u7259\u6765\u51b3\u5b9a\u5efa\u9020\u72ec\u89d2\u517d\u7267\u573a~\u8c61\u7259\u5854...\u592a\u9633\u5c16\u9876<br>\u5f53\u8c61\u7259\u4e0d\u8db3\u65f6\u4f1a\u5207\u6362\u6210\u8c61\u7259\u6a21\u5f0f\u5177\u4f53\u53ef\u4ee5\u70b9\u51fb\u5c0f\u732b\u603b\u7ed3\u770b\u5230(\u6982\u89c8\u8fd8\u672a\u66f4\u65b0\u8c61\u7259\u6a21\u5f0f)",
unicornSacrifice:"\u5c0f\u732b\u8ba9 {0} \u4e2a\u72ec\u89d2\u517d\u7fa4\u8fd4\u56de\u4e86\u5929\u4e0a\u7684\u7ef4\u5ea6\uff0c\u6536\u96c6\u4e86 {1} \u6ef4\u72ec\u89d2\u517d\u7684\u773c\u6cea","option.faith.transcend":"\u81ea\u52a8\u6700\u4f73\u6b21\u5143\u8d85\u8d8a","summary.transcend.catnip":"\u55b5\u55b5\u55b5\uff0c\u4f60\u4e5f\u4e0d\u60f3\u6b21\u5143\u8d85\u8d8a\u518d\u8d5e\u7f8e\u7fa4\u661f\u540e\u8ba9\u5c0f\u55b5\u997f\u6b7b\u5427\uff1f\uff08\u732b\u8584\u8377\u4ea7\u91cf\u5c06\u662f\uff1a{0}\uff09",
"act.transcend":"\u6d88\u8017 {0} \u987f\u609f\uff0c\u8fbe\u5230\u6b21\u5143\u8d85\u8d8a {1}","summary.transcend":"\u6b21\u5143\u8d85\u8d8a\u4e86 {0} \u6b21","option.faith.adore":"\u8d5e\u7f8e\u7fa4\u661f","act.adore":"\u8d5e\u7f8e\u7fa4\u661f! \u8f6c\u5316 {0} \u8654\u8bda\u4e3a {1} \u987f\u609f","act.adore.last":"\u4e0b\u6b21\u5c0f\u732b\u8d5e\u7f8e\u7fa4\u661f\uff0c\u4f1a\u7b49\u5230\u8654\u8bda\u5927\u4e8e {0} ","summary.adore":"\u901a\u8fc7\u8d5e\u7f8e\u7fa4\u661f\u79ef\u7d2f\u4e86 {0} \u987f\u609f",
"summary.adore.catnip":"\u55b5\u55b5\u55b5\uff0c\u4f60\u4e5f\u4e0d\u60f3\u8d5e\u7f8e\u7fa4\u661f\u540e\u8ba9\u5c0f\u55b5\u997f\u6b7b\u5427\uff1f\uff08\u732b\u8584\u8377\u4ea7\u91cf\u5c06\u662f\uff1a{0}\uff09","summary.adore.solar":"\u806a\u660e\u7684\u5c0f\u732b\u5df2\u7ecf\u4f1a\u7b97\u671f\u671b\u4e86\uff0c\u5f53\u592a\u9633\u9769\u547d\u52a0\u6210\u5230\u8fbe\uff1a{0}% \u540e\u624d\u4f1a\u8d5e\u7f8e\u7fa4\u661f","summary.adore.last":"\u4e0b\u6b21\u8d5e\u7f8e\u7fa4\u661f\u4f1a\u7b49\u5230\u8654\u8bda\u5927\u4e8e{0} ",
"adore.trigger.set":"\u8d5e\u7f8e\u7fa4\u661f\u518d\u8d5e\u7f8e\u592a\u9633\u540e\u7684\u592a\u9633\u9769\u547d\u52a0\u6210 \u2265 \u89e6\u53d1\u6761\u4ef6 * 1000%\uff0c\n\u89e6\u53d1\u6761\u4ef6\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u5c0f\u6570\uff080.001\u4e3a\u81ea\u52a8\u6a21\u5f0f\uff09\n\n\u540c\u65f6\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u73c2\u5b66\u5bb6\u5c06\u81ea\u52a8\u8d5e\u7f8e\u7fa4\u661f\u3002\n1. \u5f53\u524d\u4fe1\u4ef0 / \u4fe1\u4ef0\u4e0a\u9650 \u2265 0.98(\u8d5e\u7f8e\u592a\u9633\u89e6\u53d1\u6761\u4ef6\u8bbe\u7f6e0.98\u914d\u5408\u4f7f\u7528)\n2.\u6709\u6708\u7403\u524d\u54e8\n3.\u8d5e\u7f8e\u7fa4\u661f\u540e\u7684\u732b\u8584\u8377\u4ea7\u91cf\uff1e0\u3002\n\u63a8\u8350\u542f\u7528\u8be5\u529f\u80fd\u591a\u653e\u51e0\u4e2a\u519c\u6c11\uff0c\u55b5\u55b5\u4fdd\u62a4\u534f\u4f1a\u4e0d\u5141\u8bb8\u997f\u6b7b\u55b5\u55b5\u55b5\n\u4f18\u5148\u6b21\u5143\u8d85\u8d8a => \u8d5e\u7f8e\u7fa4\u661f => \u8d5e\u7f8e\u592a\u9633",
"resources.add":"\u6dfb\u52a0\u8d44\u6e90","resources.clear.unused":"\u6e05\u9664\u672a\u4f7f\u7528","resources.stock":"\u5e93\u5b58: {0}","resources.consume":"\u6d88\u8017\u7387: {0}","resources.del":"\u5220\u9664","resources.stock.set":"\u8bbe\u7f6e {0} \u7684\u5e93\u5b58","resources.consume.set":"\u8bbe\u7f6e {0} \u7684\u6d88\u8017\u7387","resources.del.confirm":"\u786e\u5b9a\u8981\u53d6\u6d88 {0} \u7684\u5e93\u5b58\u63a7\u5236?","status.ks.enable":"\u795e\u8bf4\uff0c\u8981\u6709\u732b\u732b\u73c2\u5b66\u5bb6!",
"status.ks.disable":"\u592a\u656c\u4e1a\u4e86\uff0c\u8be5\u6b47\u4e86","status.sub.enable":"\u542f\u7528 {0}","status.auto.enable":"\u542f\u7528\u81ea\u52a8\u5316 {0}","status.sub.disable":"\u7981\u7528 {0}","status.auto.disable":"\u7981\u7528\u81ea\u52a8\u5316 {0}","trade.limited":"\u8d38\u6613\u83b7\u5f97\u6570\u91cf\u5927\u4e8e\u4ea7\u91cf\u65f6\u624d\u4e0e {0} \u8d38\u6613\uff0c\u6b21\u6570\u81ea\u52a8\u9650\u5236","trade.limitedTitle":"\u6839\u636e\u4ea7\u91cf\u548c\u8d38\u6613\u83b7\u5f97\u6570\u91cf",
"trade.unlimited":"{1}\u4e0e {0} \u7684 \u8d38\u6613","trade.seasons":"\u5b63\u8282","trade.season.enable":"\u542f\u7528\u5728 {1} \u4e0e {0} \u7684\u8d38\u6613","trade.season.disable":"\u505c\u6b62\u5728 {1} \u4e0e {0} \u7684\u8d38\u6613","trade.catnip":"\u0e05'\u03c9'\u0e05\uff0c\u4f60\u4e5f\u4e0d\u60f3\u8ba9\u5c0f\u55b5\u997f\u6b7b\u5427\uff1f\u4e0e\u9ca8\u9c7c\u8d38\u6613\u55bd","filter.enable":"\u8fc7\u6ee4 {0}","filter.disable":"\u53d6\u6d88\u8fc7\u6ee4 {0}","craft.force":"\u4e3a\u4e86\u7814\u7a76{1}\uff0c\u55b5\u55b5\u5077\u5077\u62ff\u4e86\u8d44\u6e90\u5408\u6210\u4e86{0}\uff0c\u5979\u624d\u4e0d\u4f1a\u5fc3\u75db\u4e86",
"craft.forceSteel":"\u5c0f\u732b\u4e3a\u4e86\u5de5\u574a\u5347\u7ea7{0}\uff0c\u5077\u5077\u591a\u4f7f\u7528\u4e86\u4e00\u4e9b\u6750\u6599\u5408\u6210\u4e86\u94a2","craft.limited":"\u5e73\u8861{0}\uff08\u7406\u89e3\u4e3a\u5c0f\u732bAI\u63a7\u5236\u89e6\u53d1\u6761\u4ef6\u3001\u6d88\u8017\u7387\uff0c\u6302\u673a\u6548\u7387\u4f1a\u6bd4\u8f83\u9ad8\uff09","craft.limitedTitle":"\u6839\u636e\u539f\u6750\u6599\u548c\u76ee\u6807\u6750\u6599\u7684\u6570\u91cf","craft.unlimited":"\u89e6\u53d1\u8d44\u6e90\uff1a{1}{0}",
"craft.winterCatnip":"\u5450\u5450\u5450\uff0c\u4f60\u4e5f\u4e0d\u60f3\u8ba9\u5bd2\u51ac\u65f6\u5c0f\u55b5\u997f\u6b7b\u5427\uff1f\u55b5\u7cae\u4e0a\u4ea4","distribute.limited":"\u5206\u914d {0} \u4e0d\u4f1a\u8d85\u8fc7Max","distribute.leaderJob":"\u9886\u8896\u5de5\u4f5c\u4e3a {0} ","distribute.leaderTrait":"\u9886\u8896\u7684\u7279\u8d28\u4e3a {0} ","distribute.unlimited":"\u5206\u914d {0} \u5141\u8bb8\u8d85\u8fc7MAX","distribute.makeLeader":"\u5206\u914d\u9886\u8896","act.distribute":"\u6293\u4f4f\u4e00\u53ea\u7a7a\u95f2\u732b\u732b\u5206\u914d\u4e3a {0}",
"act.distribute.catnip":"\u62c5\u5fc3\u4f60\u7684\u732b\u732b\u6ca1\u6709\u732b\u8584\u8377\u5438\u5e76\u5f3a\u5236\u5206\u914d\u5230\u519c\u6c11","act.distributeLeader":"\u5206\u914d\u4e00\u53ea {0} \u732b\u732b\u9886\u8896","ui.max.set":"\u8bbe\u7f6e {0} \u7684\u6700\u5927\u503c","summary.distribute":"\u5e2e\u52a9 {0} \u53ea\u5077\u5403\u732b\u8584\u8377\u7684\u732b\u732b\u627e\u5230\u5de5\u4f5c","set.leader":"{0}\uff0c\u55b5\u55b5\u55b5\uff01","option.promote":"\u63d0\u62d4\u9886\u8896\u5c0f\u732b",
"act.promote":"\u82b1\u8d39\u4e86 {1} \u9ec4\u91d1\uff0c\u5c0f\u732b\u9886\u8896\u88ab\u63d0\u62d4\u5230 {0} \u7ea7","summary.promote":"\u63d0\u62d4\u9886\u8896 {0} \u6b21","ui.trigger.useWorkers.alert":"\u6bd4\u5982\u5929\u6587\u4e8b\u4ef6\u6ca1\u89c2\u6d4b\u3001\u70e7\u6c34\u6676\u6162\uff0c\u73c2\u5b66\u5bb6\u540e\u53f0\u5927\u698210\u624d\u8fd0\u884c1\u6b21\n\u52fe\u9009\u5c06\u4f1a\u5728\u540e\u53f0\u6ee1\u901f\u8fd0\u884c\uff0c\u6ce8\u610f\u4f1a\u5bfc\u81f4\u4f7f\u7528\u5185\u5b58\u589e\u591a\u3002\n\u7535\u8111\u4e0d\u597d\u3001\u5185\u5b58< 8G\u7684\u5efa\u8bae\u7981\u7528\n\u63a8\u8350\u8fc7\u6ee4\u5168\u90e8\u65e5\u5fd7\u4f1a\u51cf\u5c11\u6027\u80fd\u7684\u6d88\u8017\u3002\n\n\u9700\u6ee1\u8db3\u6d4f\u89c8\u5668\u652f\u6301\u4e14\u6e38\u620f\u9009\u9879\u7684web worker\u542f\u7528\u3002\n\u786e\u8ba4\u540e\u4f1a\u81ea\u52a8\u91cd\u65b0\u52fe\u9009\u542f\u7528\u73c2\u5b66\u5bb6",
"ui.timeCtrl":"\u65f6\u95f4\u64cd\u7eb5","option.accelerate":"\u5149\u9634\u4f3c\u7bad","act.accelerate":"\u56fa\u6709\u65f6\u5236\u5fa1\uff0c\u4e8c\u500d\u901f!","act.accelerate.acl":"\u6293\u7a33\u4e86\uff0c\u732b\u732b\u8981\u5f00\u59cb\u52a0\u901f\u4e86!","act.accelerate.slow":"\u4e0d\u884c\u4e86\uff0c\u8981\u51cf\u901f\u4e86","summary.accelerate":"\u5c0f\u732b\u52a0\u901f\u65f6\u95f4 {0} \u6b21","option.time.skip":"\u65f6\u95f4\u8df3\u8f6c","act.time.skip":"\u71c3\u70e7\u65f6\u95f4\u6c34\u6676, \u8df3\u8fc7\u63a5\u4e0b\u6765\u7684 {0} \u5e74!",
"ui.cycles":"\u5468\u671f","ui.maximum":"\u5355\u6b21\u6570\u91cf","time.skip.cycle.enable":"\u542f\u7528\u5728 {0} \u8df3\u8f6c\u65f6\u95f4\u5e76\u5141\u8bb8\u8df3\u8fc7\u8be5\u5468\u671f","time.skip.cycle.disable":"\u505c\u6b62\u5728 {0} \u8df3\u8f6c\u65f6\u95f4\u5e76\u7981\u6b62\u8df3\u8fc7\u8be5\u5468\u671f","time.skip.season.enable":"\u542f\u7528\u5728 {0} \u8df3\u8f6c\u65f6\u95f4","time.skip.season.disable":"\u505c\u6b62\u5728 {0} \u8df3\u8f6c\u65f6\u95f4","time.skip.trigger.set":"\u62e5\u6709\u65f6\u95f4\u6c34\u6676\u6570\u91cf\u5927\u4e8e\u8be5\u89e6\u53d1\u503c\u624d\u4f1a\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff0c\u53d6\u503c\u8303\u56f4\u4e3a\u6b63\u6574\u6570\u3002\n\u6ce8\u610f\u4f1a\u8ba1\u7b97\u65f6\u95f4\u6c34\u6676\u5e93\u5b58\n\u5468\u671f\u9ed8\u8ba4\u5168\u52fe\u5c31\u884c\uff0c\u73c2\u5b66\u5bb6\u4f1a\u81ea\u52a8\u5224\u65ad\u662f\u5426\u505c\u5728\u7ea2\u6708\n\u6bcf2\u79d2\u70e7\u6c34\u6676\u6b21\u6570\u56fa\u5b9a\u4e3a 0.04x\u65f6\u8ba1\u7089(\u65e0\u5343\u79a7\u5e740.02)\uff0c\u6545\u5355\u6b21\u6570\u91cf\u8fdb\u4e00\u6cd5\u5c31\u884c\n\u5982\u679c\u8d44\u6e90\u56de\u590d\u540e\u8d44\u6e90\u4e00\u76f4\u662f\u6ee1\u7684\uff0c\u5efa\u8bae\u8fc7\u6ee4\u5927\u90e8\u5206\u65e5\u5fd7\n\n\u6545\u957f\u6302\u63a8\u8350\uff1a\u89e6\u53d1\u6761\u4ef6500\uff0c\u5355\u6b21\u6570\u91cf1\uff0c\u5468\u671f\u5168\u52fe",
"summary.time.skip":"\u8df3\u8fc7 {0} \u5e74","option.time.reset":"\u91cd\u542f\u65f6\u95f4\u7ebf (\u5f03\u7528)","status.reset.check.enable":"\u5728\u91cd\u542f\u65f6\u95f4\u7ebf\u524d\u68c0\u67e5 {0}","status.reset.check.disable":"\u5728\u91cd\u542f\u65f6\u95f4\u7ebf\u524d\u4e0d\u68c0\u67e5 {0}","ui.min":"Min: {0}","reset.check.trigger.set":"\u4e3a {0} \u8bbe\u7f6e\u65b0\u7684\u89e6\u53d1\u503c.\n-1 \u8868\u793a\u5fc5\u987b\u5c06\u6b64\u5efa\u7b51\u5efa\u9020\u81f3\u8d85\u8fc7\u8d44\u6e90\u4e0a\u9650\u4e3a\u6b62",
"reset.check":"{0} \u7684\u89e6\u53d1\u503c: {1}, \u73b0\u5728\u5171\u6709 {2}","reset.checked":"\u6240\u6709\u6761\u4ef6\u90fd\u5df2\u6ee1\u8db3\uff0c\u65f6\u95f4\u7ebf\u5c06\u5728\u51e0\u79d2\u540e\u91cd\u542f!","reset.tip":'\u4f60\u53ef\u4ee5\u901a\u8fc7\u53d6\u6d88 "\u542f\u7528\u5c0f\u732b\u73c2\u5b66\u5bb6" \u6216 "\u65f6\u95f4\u64cd\u63a7" \u6216 "\u91cd\u542f\u65f6\u95f4\u7ebf" \u4ee5\u53d6\u6d88\u6b64\u6b21\u91cd\u542f',"reset.countdown.10":"10 - \u6b63\u5728\u6536\u83b7\u732b\u8584\u8377",
"reset.countdown.9":"&nbsp;9 - \u6b63\u5728\u732e\u796d\u72ec\u89d2\u517d","reset.countdown.8":"&nbsp;8 - \u6b63\u5728\u653e\u751f\u8725\u8734","reset.countdown.7":"&nbsp;7 - \u6b63\u5728\u62c6\u89e3\u7535\u78c1\u70ae","reset.countdown.6":"&nbsp;6 - \u6b63\u5728\u542f\u52a8\u65f6\u95f4\u5f15\u64ce","reset.countdown.5":"&nbsp;5 - \u6b63\u5728\u878d\u5316\u9ed1\u5e01","reset.countdown.4":"&nbsp;4 - \u6b63\u5728\u5173\u95ed\u536b\u661f","reset.countdown.3":"&nbsp;3 - \u6b63\u5728\u6253\u5f00\u65f6\u7a7a\u88c2\u9699",
"reset.countdown.2":"&nbsp;2 - \u6b63\u5728\u542f\u52a8\u65f6\u95f4\u953b\u9020","reset.countdown.1":"&nbsp;1 - \u65f6\u95f4\u5f15\u64ce\u5df2\u542f\u52a8!","reset.countdown.0":"&nbsp;0 - \u65f6\u7a7a\u88c2\u7f1d\u5df2\u6253\u5f00!","reset.last.message":"\u6211\u4eec\u4e0b\u4e2a\u5e9e\u52a0\u83b1\u56de\u5f52\u518d\u89c1","reset.after":"\u521d\u6b21\u89c1\u9762\uff0c\u53ef\u7231\u7684\u732b\u732b\u73c2\u5b66\u5bb6\u4e3a\u60a8\u670d\u52a1","reset.cancel.message":"\u91cd\u542f\u65f6\u95f4\u7ebf\u8ba1\u5212\u53d6\u6d88.",
"reset.cancel.activity":"\u55b5\u65af\u987f\uff0c\u6211\u4eec\u6709\u9ebb\u70e6\u4e86.","summary.time.reset.title":"\u8fc7\u53bb {0} \u4e2a\u65f6\u95f4\u7ebf\u7684\u603b\u7ed3","summary.time.reset.content":"\u83b7\u5f97 {0} \u4e1a.<br>\u83b7\u5f97 {1} \u9886\u5bfc\u529b.","ui.close":"\u5173\u95ed","auto.countdown":"{0} \u79d2\u540e\u5c06\u4f1a\u81ea\u52a8\u542f\u7528\u73c2\u5b66\u5bb6","auto.tip":'\u4f60\u53ef\u4ee5\u901a\u8fc7\u53d6\u6d88 "\u9996\u6b21\u81ea\u542f\u73c2\u5b66\u5bb6" \u4ee5\u53d6\u6d88\u6b64\u6b21\u81ea\u52a8\u5f00\u542f',
"option.fix.cry":"\u4fee\u590d\u51b7\u51bb\u4ed3","act.fix.cry":"\u5c0f\u732b\u4fee\u590d\u4e86 {0} \u4e2a\u51b7\u51bb\u4ed3","summary.fix.cry":"\u4fee\u590d\u4e86 {0} \u4e2a\u51b7\u51bb\u4ed3","summary.auto.academy":"\u5c0f\u732b\u5f53\u79d1\u5b66\u5feb\u6ee1\u4e86\u624d\u4f1a\u7ee7\u7eed\u5efa\u9020\u7814\u7a76\u9662","summary.auto.biolab":"\u5c0f\u732b\u4e3a\u4e86\u8282\u7701\u5408\u91d1\u53d1\u5c55\uff0c\u8f68\u9053\u6d4b\u5730\u5b66\u524d\u4e0d\u5efa\u9020\uff0c\u592a\u7a7a\u5236\u9020\u524d\u751f\u7269\u5b9e\u9a8c\u5ba4\u4f18\u5148\u7ea7\u964d\u4f4e",
"summary.auto.bls":"\u5c0f\u732b\u5b58\u773c\u6cea\u63d0\u70bc\u60b2\u4f24\u5c06\u8981\u9020\u9ed1\u91d1\u5b57\u5854\u8fa3","summary.auto.broadcastTower":"\u5c0f\u732b\u4e3a\u4e86\u8282\u7701\u949b\u7528\u6765\u53d1\u5c55\uff0c\u592a\u7a7a\u5236\u9020\u89e3\u9501\u540e\u5efa\u9020\u66f4\u591a\u7684\u5e7f\u64ad\u5854","summary.auto.caravanserai":"\u50a8\u5b58\u9ec4\u91d1\u4e3a\u4e86\u5546\u961f\u9a7f\u7ad9\u3002~\u6253\u8d25\u6591\u9a6c\u7684\u7b2c\u4e00\u6b65","summary.auto.changeLeader":"\u5982\u9700\u5bf9\u5e94\u9879\u76ee-\u81ea\u52a8\u5207\u6362\u5bf9\u5e94\u9886\u8896\u7279\u8d28-\u6bd4\u5982\u5de5\u827a\u9879\u76ee\u5207\u6362\u5230\u5de5\u5320\u5408\u6210\u66f4\u591a\u6750\u6599\u3001\u5347\u7ea7\u5207\u6362\u5230\u79d1\u5b66\u5bb6\u51cf\u5c11\u79d1\u5b66\u4ef7\u683c\u7b49\u7b49<br>\u4f46\u9700\u540c\u65f6\u52fe\u9009 \u63d0\u62d4\u9886\u8896\u5c0f\u732b \u548c\u55b5\u55b5\u7ba1\u7406\u4e2d\u7684 \u5206\u914d\u9886\u8896",
"summary.auto.craftLimited":"\u6bcf\u6b21\u8fd0\u884c\u90fd\u4f1a\u5408\u6210\u5de5\u827a(\u5373\u65e0\u89c6\u89e6\u53d1\u6761\u4ef6)\uff0c\u6570\u91cfAI\u81ea\u52a8\u3002\u6302\u673a\u53d1\u5c55\u901f\u5ea6\u4f1a\u8fdc\u5927\u4e8e\u89e6\u53d1\u6761\u4ef6\u7684\u3002","summary.auto.crossbow":"\u94c1\u5f53\u7136\u662f\u8981\u6765\u7528\u6765\u6539\u826f\u5f29\uff0c\u55b5\u7528\u55b5\u8bf4\u597d","summary.auto.harbor":"\u6e2f\u53e3\u9700\u8981\u7684\u91d1\u5c5e\u677f\u592a\u591a\uff0c\u5c0f\u732b\u4f1a\u5c11\u9020\u4ebf\u70b9\u70b9(\u4e00\u5b9a\u662f\u6591\u9a6c\u7684\u9634\u8c0b",
"summary.auto.hunter":"\u672a\u53d1\u660e\u5f29\u548c\u5bfc\u822a\u5b66\uff0c\u5c0f\u732b\u5f53\u730e\u4eba\u6b32\u671b\u964d\u4f4e","summary.auto.ironFactory":"\u5982\u679c\u94a2\u7684\u5408\u6210\u6570\u91cf\u504f\u5c11\uff0c\u63a8\u8350\u5173\u95ed\u7145\u70e7\u7089\u7684\u81ea\u52a8\u5316","summary.auto.ironwood":"\u55b5\u55b5\u55b5\u628a\u94c1\u6536\u8d77\u6765\uff0c\u5e0c\u671b\u4f4f\u4e0a\u5411\u5f80\u7684\u94c1\u6728\u5c0f\u5c4b","summary.auto.kittens":"\u8ba1\u5212\u751f\u80b2! \u732b\u7cae\u4ea7\u91cf\u4e0d\u591f\u4e86",
"summary.auto.lag":"\u55b5\u55b5\u7816\u5bb6\u63d0\u793a\u4f60\uff0c\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff1a\u6700\u597d\u4e0d\u8981\u8bbe\u7f6e\u5de5\u7a0b\u5e08\u3001\u5728\u6311\u6218\u9875\u9762\u6302\u673a\u53ef\u4ee5\u51cf\u5c11\u5361\u987f","summary.auto.leader":"\u55b5\u55b5\u81ea\u89c9\u9876\u66ff\u9886\u8896\uff0c\u505a\u7279\u8d28\u76f8\u5173\u9879\u76ee\u3002\uff08\u9886\u8896\u7279\u8d28\u7684\u5177\u4f53\u6548\u679c\u53ef\u4ee5\u53c2\u8003\u53f3\u4e0b\u89d2\uff1a\u767e\u79d1-\u6e38\u620f\u6807\u7b7e-\u6751\u5e84-\u732b\u53e3\u666e\u67e5\uff09",
"summary.auto.lower":"\u672a\u7814\u7a76\u8f68\u9053\u6d4b\u5730\u5b66\uff0c\u5c0f\u732b\u4e3a\u4e86\u53d1\u5c55\u66f4\u5feb\uff0c\u6545\u964d\u4f4e\u7267\u573a\u3001\u6c34\u6e20\u3001\u56fe\u4e66\u9986\u3001\u7814\u7a76\u9662\u3001\u7cae\u4ed3\u3001\u6e2f\u53e3\u3001\u6cb9\u4e95\u3001\u4ed3\u5e93\u7684\u4f18\u5148\u5ea6","summary.auto.magnetos":"\u4e5f\u8bb8\u6ca1\u6709\u77f3\u6cb9\u4e86\u5bfc\u81f4\u78c1\u7535\u673a\u81ea\u52a8\u5173\u673a\uff0c\u5c0f\u732b\u8fd8\u662f\u9009\u62e9\u6253\u5f00\u4e86\u5b83",
"summary.auto.marker":"\u6ca1\u6709\u9ed1\u91d1\u5b57\u5854\u5c0f\u732b\u62d2\u7edd\u4e86\u795e\u5370\u7684\u5efa\u9020","summary.auto.mansion":"\u5c0f\u732b\u4e3a\u4e86\u8282\u7701\u949b\u548c\u94a2\u7528\u6765\u53d1\u5c55\uff0c\u5b85\u90b8\u4f18\u5148\u5ea6\u964d\u4f4e\uff082\u500d\u591a\u8d44\u6e90\uff09","summary.auto.oxidation":"\u4e3a\u83c8\u59ae\u6c27\u5316\u53cd\u5e94\uff0c\u5c0f\u732b\u628a\u94a2\u5168\u5b58\u8d77\u6765\u4e86","summary.auto.parchment":"\u5730\u8d28\u5b66\u8fd8\u672a\u89e3\u9501\uff0c\u55b5\u55b5\u55b5\u628a\u6bdb\u76ae\u5b58\u8d77\u6765\u4e86",
"summary.auto.pasture":"\u55b5\u55b5\u55b5\u5acc\u5f03\u4e86\u7267\u573a\uff0c\u6728\u6750\u8fd8\u662f\u7528\u6765\u53d1\u5c55\u7684\u597d\uff0c\u771f\u7684\u662f\u6700\u540e1\u4e2a\u4e86","summary.auto.religion":"\u5927\u6559\u5802\u524d\u7ee7\u7eed\u9650\u5236\u795e\u6bbf\u548c\u4ea4\u6613\u6240(\u5982\u679c\u6709\u95ee\u9898\u7684\u8bdd","summary.auto.reinforcedSaw":"\u7528\u94c1\u7ed9\u6728\u6750\u5382\u5347\u7ea7\u6362\u6210\u52a0\u5f3a\u952f\uff0c\u66f4\u52a0\u950b\u5229\u7684\u634f","summary.auto.steamworks":"\u5c0f\u732b\u66f0\uff1a\u84b8\u6c7d\u5de5\u623f\u8981\u4e0e\u78c1\u7535\u673a\u6210\u53cc\u6210\u5bf9",
"summary.auto.temple":"\u7977\u544a\u592a\u9633\u9769\u547d\u540e\u624d\u4f1a\u5efa\u9020\u795e\u6bbf\uff0c\u771f\u7684\u4e0d\u662f\u5077\u61d2\u55b5","summary.auto.tradepost":"\u7977\u544a\u592a\u9633\u9769\u547d\u524d\uff0c\u4ea4\u6613\u6240\u5f00\u6446","summary.auto.workshop":"\u5de5\u574a\u53ea\u662f\u89e3\u9501\u5347\u7ea7\u7684 \u732b\u73a9\u5177\u7f62\u4e86\uff0c\u73b0\u5728\u5c0f\u732b\u53ea\u613f\u610f\u90201\u4e2a\u5de5\u574a\u54e6","summary.auto.scienceBld":"\u5929\u6587\u53f0\u3001\u7814\u7a76\u9662\u3001\u751f\u7269\u5b9e\u9a8c\u5ba4\u79d1\u5b66\u4e0a\u9650\u5feb\u6ee1\u4e86\u624d\u4f1a\u5efa\u9020\u3002",
"summary.auto.steelSaw":"\u5c0f\u55b5\u5b58\u7740\u94a2\u7ed9\u6728\u6750\u5382\u6362\u7cbe\u94a2\u952f\uff0c\u66f4\u52a0\u950b\u5229\u4e86\u55b5","summary.auto.smelter":"\u795e\u5b66\u524d\uff0c\u51b6\u70bc\u4e13\u7cbe\u7684\u5c0f\u732b\u4f1a\u6839\u636e\u6728\u6750\u548c\u77ff\u7269\u4ea7\u91cf\u6765\u63a7\u5236\u7194\u7089\u4e0a\u9650","summary.auto.tear":"\u5c0f\u55b5\u90fd\u505a\u4e86\u4ec0\u4e48?! \u72ec\u89d2\u517d\u7684\u773c\u6cea\u52a0\u5c0f\u732b\u5e78\u798f\u5ea6\u7684\u634f","summary.auto.unicorn":"\u6700\u4f73\u72ec\u89d2\u517d\u5efa\u7b51\uff1a{0}",
"summary.auto.upgPasture":"\u5f53\u52fe\u9009\u592a\u9633\u80fd\u53d1\u7535\u7ad9\u4e86\uff0c\u5e76\u6709\u8db3\u591f\u949b\u7684\u4ea7\u91cf\u3001\u4e14\u7f3a\u7535\u3001\u4e14\u732b\u8584\u8377\u4ea7\u91cf\u8db3\u591f\u9ad8\u65f6\uff0c\u5c0f\u732b\u4f1a\u8d34\u5fc3\u7684\u5e2e\u4f60\u5356\u51fa\u5168\u90e8\u7267\u573a\u540e\uff0c\u5347\u7ea7\u592a\u9633\u80fd\u53d1\u7535\u7ad9!","summary.auto.upgAqueduct":"\u5f53\u52fe\u9009\u6c34\u7535\u7ad9\u4e86\uff0c\u6709\u592a\u9633\u80fd\u53d1\u7535\u7ad9\u3001\u4e14\u7f3a\u7535\u3001\u4e14\u732b\u8584\u8377\u4ea7\u91cf\u8db3\u591f\u9ad8\u65f6\uff0c\u5c0f\u732b\u4f1a\u8d34\u5fc3\u7684\u5e2e\u4f60\u5356\u51fa\u5168\u90e8\u6c34\u6e20\u540e\uff0c\u5347\u7ea7\u6c34\u7535\u7ad9!",
"summary.auto.upgLibrary":"\u5f53\u52fe\u9009\u6570\u636e\u4e2d\u5fc3\u4e86\uff0c\u6982\u8981\u6570\u91cf\u5927\u4e8e 150X\u56fe\u4e66\u9986\u6570\u91cf \u65f6\uff0c\u5c0f\u732b\u4f1a\u8d34\u5fc3\u7684\u5e2e\u4f60\u5356\u51fa\u5168\u90e8\u56fe\u4e66\u9986\u540e\uff0c\u5347\u7ea7\u6570\u636e\u4e2d\u5fc3!","summary.auto.upgAmphitheatre":"\u5f53\u6709\u8d38\u6613\u8239\u6216\u8005\u949b\u4ea7\u91cf\u8db3\u591f\u9ad8\u65f6\uff0c\u5c0f\u732b\u4f1a\u8d34\u5fc3\u7684\u5e2e\u4f60\u5356\u51fa\u5168\u90e8\u5267\u573a\u540e\uff0c\u5347\u7ea7\u5e7f\u64ad\u5854!",
"summary.upgrade.building.pasture":"\u5356\u51fa\u7267\u573a \u5e76\u5347\u7ea7\u4e3a \u592a\u9633\u80fd\u53d1\u7535\u7ad9 !","summary.upgrade.building.aqueduct":"\u5356\u51fa\u6c34\u6e20 \u5e76\u5347\u7ea7\u4e3a \u6c34\u7535\u7ad9 !","summary.upgrade.building.library":"\u5356\u51fa\u56fe\u4e66\u9986 \u5e76\u5347\u7ea7\u4e3a \u6570\u636e\u4e2d\u5fc3!","summary.upgrade.building.amphitheatre":"\u5356\u51fa\u5267\u573a \u5e76\u5347\u7ea7\u4e3a \u5e7f\u64ad\u5854!","summary.resource":"\u5c0f\u732b\u81ea\u52a8\u8c03\u6574\u8d44\u6e90: {0} \u7684\u6d88\u8017\u7387",
"summary.moon":"\u5c0f\u732b\u505c\u5728\u7ea2\u6708\u5468\u671f\u6563\u70ed {0} \u6b21","summary.time.skip.moon":"\u7531\u4e8e\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\u652f\u51fa\u5927\u4e8e\u6536\u5165\uff0c\u5c0f\u732b\u51b3\u5b9a\u6512\u96be\u5f97\u7d20\uff0c\u505c\u7559\u5728\u7ea2\u6708 {0} \u6b21!","summary.blackcoin.buy":"\u5c0f\u732b\u51fa\u552e\u9057\u7269\u5e76\u4e70\u5165 {0} \u6b21\u9ed1\u5e01","summary.blackcoin.sell":"\u5c0f\u732b\u51fa\u552e\u9ed1\u5e01\u5e76\u4e70\u5165\u4e86 {0} \u6b21\u9057\u7269",
"summary.accelerator":"\u7535\u91cf\u5bc4\u4e86\uff0c\u5927\u6982\u53ea\u6709\u52a0\u901f\u5668\u80fd\u5173\u95ed\u4e86\uff08\u4e0d\u4f1a\u5f71\u54cd\u5e93\u5b58","summary.catnip":"\u5450\uff0c\u4f60\u7684\u732b\u732b\u6ca1\u6709\u732b\u8584\u8377\u5438\u5e76\u5f3a\u5236\u5206\u914d {0} \u4e2a\u519c\u6c11","summary.calciner":"\u5c0f\u732b\u56e0\u4e3a\u4f60\u5de5\u574a\u5347\u7ea7\u4e86\u94a2\u94c1\u5de5\u5382\uff0c\u6545\u5173\u95ed\u4e86\u7145\u70e7\u7089\u81ea\u52a8\u5316\uff08\u5176\u6548\u679c\u94c1\u548c\u7164\u8f6c\u5316\u94a2\u6ca1\u6709100%~\u5177\u4f53\u53f3\u4e0b\u89d2\u53c2\u8003\u767e\u79d1\uff09\uff08\u5979\u771f\u7684\u597d\u6e29\u67d4\uff0c\ud83d\ude2d\uff09",
"summary.mint":"\u79cb\u68a8\u818f\u522b\u5f00\u94f8\u5e01\u5382\u4e86\uff0c\u5b83\u73b0\u5728\u771f\u7684\u5f88\u4e0d\u884c\uff08\u5177\u4f53\u53f3\u4e0b\u89d2\u53c2\u8003\u767e\u79d1 \u6e38\u620f\u6807\u7b7e-\u5176\u5b83\u5efa\u7b51-\u94f8\u5e01\u5382\uff0c\u5176\u8f6c\u5316\u6548\u7387\u4e0e\u55b5\u529b\u4e0a\u9650\u6709\u5173\uff09","summary.pumpjack":"\u5c0f\u732b\u62c5\u5fc3\u51ac\u5b63\u7535\u4e0d\u591f\u5e76\u5173\u95ed\u4e86 {0} \u6b21\u6cb9\u4e95\u81ea\u52a8\u5316","summary.biolab":"\u5c0f\u732b\u62c5\u5fc3\u51ac\u5b63\u7535\u4e0d\u591f\u5e76\u5173\u95ed\u4e86 {0} \u4e2a\u751f\u7269\u5b9e\u9a8c\u5ba4(\u5173\u4e86\u540e\u79d1\u5b66\u4e0a\u9650\u548c\u79d1\u5b66\u52a0\u6210\u8fd8\u4f1a\u52a0\u6210)",
"summary.biolab.test":" {0} \u4e2a\u751f\u7269\u5b9e\u9a8c\u5ba4(\u975e\u5e38\u6ca1\u7528\u7684\u5de5\u574a\u5347\u7ea7)","summary.temporalAccelerator":"\u5c0f\u732b\u62c5\u5fc3\u5361\u987f\u6253\u5f00\u4e86\u65f6\u7a7a\u52a0\u901f\u5668\u7684\u81ea\u52a8\u5316","summary.reactor":"\u5c0f\u732b\u5411\u53cd\u5e94\u5806\u6295\u5165\u4e86\u94c0\u5f00\u59cb\u53d1\u5149\u5450","summary.factory":"\u5c0f\u732b\u4e3a\u4e86\u7a7a\u95f4\u7684\u53d1\u5c55\uff0c\u628a\u5de5\u5382\u5168\u90e8\u542f\u7528\u5450",
"summary.steamworks":"\u5c0f\u732b\u5411\u84b8\u6c7d\u5de5\u623f\u52a0\u4e86\u7164\u5f00\u59cb\u6392\u84b8\u6c7d\u5450","summary.breweryOn":"\u5df2\u4e3e\u529e\u6587\u5316\u8282\uff0c\u55b5\u661f\u4eba\u91cd\u65b0\u6253\u5f00\u4e86\u917f\u9152\u5382~\u55dd","summary.breweryOff":"\u8282\u65e5\u6ca1\u5450\uff0c\u5c0f\u732b\u62d2\u5962\u5b88\u4fed\uff0c\u6682\u65f6\u5173\u95ed\u4e86\u917f\u9152\u5382","summary.brewery":"\u5c0f\u732b\u6839\u636e\u8282\u65e5\u8c03\u6574\u4e86 {0} \u6b21\u917f\u9152\u5382",
"summary.chronocontrolOn":"\u5c0f\u732b\u5f00\u542f\u4e86\u65f6\u95f4\u64cd\u7eb5\u5ef6\u957f\u65f6\u95f4\u6096\u8bba\u7684\u6301\u7eed\u5929\u6570","summary.chronocontrolOff":"\u5c0f\u732b\u5173\u95ed\u4e86\u65f6\u95f4\u64cd\u7eb5\u8282\u7701\u7535\u529b","summary.chronocontrol":"\u5c0f\u732b\u6839\u636e\u65f6\u95f4\u6096\u8bba\u8c03\u6574\u4e86 {0} \u6b21\u65f6\u95f4\u64cd\u7eb5","summary.festival":"\u4e3e\u529e\u4e86 {0} \u6b21\u8282\u65e5","summary.stars":"\u89c2\u6d4b\u4e86 {0} \u6b21\u5929\u6587\u4e8b\u4ef6",
"summary.praise":"\u901a\u8fc7\u8d5e\u7f8e\u592a\u9633\u79ef\u7d2f\u4e86 {0} \u8654\u8bda","summary.hunt":"\u6d3e\u51fa\u4e86 {0} \u6279\u53ef\u7231\u7684\u5c0f\u732b","summary.hunt.manager":"\u7ba1\u7406\u8005\u9886\u8896\u6d3e\u51fa\u4e86 {0} \u6279\u53ef\u7231\u7684\u5c0f\u732b","summary.embassy":"\u8bbe\u7acb\u4e86 {0} \u4e2a\u5927\u4f7f\u9986","summary.feed":"\u5411\u5229\u7ef4\u5766\u732e\u796d {0} \u53ea\u6b7b\u7075\u517d","summary.tech":"{0}","summary.upgrade":"{0}","summary.build":"\u5efa\u9020\u4e86 {0} \u4e2a {1}",
"summary.faith":"{1} {0} \u6b21","summary.craft":"\u5236\u4f5c\u4e86{0} \u4e2a {1}","summary.craftLeader":"\u5de5\u5320\u5236\u4f5c\u4e86 {0} \u4e2a {1}","summary.craftManuscript":"\u5c0f\u732b\u5077\u5077\u4f7f\u7528\u4e86 {0} \u6b21\u6750\u6599\u5408\u6210\u624b\u7a3f\uff0c\u4e3a\u4e86\u79d1\u5b66","summary.craftCompedium":"\u5c0f\u732b\u5077\u5077\u4f7f\u7528\u4e86 {0} \u6b21\u6750\u6599\u5408\u6210\u6982\u8981\uff0c\u4e3a\u4e86\u79d1\u5b66","summary.craftBlueprint":"\u5c0f\u732b\u5077\u5077\u4f7f\u7528\u4e86 {0} \u6b21\u6750\u6599\u5408\u6210\u84dd\u56fe\uff0c\u4e3a\u4e86\u79d1\u5b66",
"summary.trade":"{1} \u8d38\u6613\u4e86 {0} \u6b21","summary.year":"\u5e74","summary.years":"\u5e74","summary.separator":" ","summary.day":"\u5929","summary.days":"\u5929","summary.head":"\u8fc7\u53bb {0} \u7684\u5c0f\u55b5\u79cd\u7530\u603b\u7ed3","summary.show":"\u5c0f\u732b\u603b\u7ed3"}};fa[ca]||(console.error(ca+" not found"),fa[ca]=fa.en);const r=function(a,b){if("$"===a[0])return $I(a.slice(1));let c=fa[ca][a];if("undefined"===typeof c){c=fa.en[a];if(!c)return console.error('key "'+a+'" not found'),
"$"+a;console.error('Key "'+a+'" not found in '+ca)}if(b)for(a=0;a<b.length;a++)c=c.replace("{"+a+"}",b[a]);return c},k={debug:!1,interval:2E3,msgcolor:"#aa50fe",summarycolor:"#009933",activitycolor:"#E65C00",stockwarncolor:"#DD1E00",copyTrait:!1,countdown:120,renderTime:0,consume:.6,auto:{infinity:{enabled:!1,allow:!1,items:{buildChronosphere:{enabled:!1,subTrigger:67,doneMark:!1},cryoFix:{enabled:!1,subTrigger:0,doneMark:!1},autohunt:{enabled:!1,subTrigger:0},autoTransform:{enabled:!1,subTrigger:0},
autoCT:{enabled:!1,subTrigger:""},skiptime:{enabled:!1,subTrigger:4E4,doneMark:!1},autoReset:{enabled:!1}}},engine:{enabled:!1},unicorn:{items:{unicornPasture:{require:!1,enabled:!0,variant:"zp",label:r("$buildings.unicornPasture.label"),checkForReset:!0,triggerForReset:-1},unicornTomb:{require:!1,enabled:!1,variant:"z",label:r("$religion.zu.unicornTomb.label"),checkForReset:!0,triggerForReset:-1},ivoryTower:{require:!1,enabled:!1,variant:"z",label:r("$religion.zu.ivoryTower.label"),checkForReset:!0,
triggerForReset:-1},ivoryCitadel:{require:!1,enabled:!1,variant:"z",label:r("$religion.zu.ivoryCitadel.label"),checkForReset:!0,triggerForReset:-1},skyPalace:{require:!1,enabled:!1,variant:"z",label:r("$religion.zu.skyPalace.label"),checkForReset:!0,triggerForReset:-1},unicornUtopia:{require:"gold",enabled:!1,variant:"z",label:r("$religion.zu.unicornUtopia.label"),checkForReset:!0,triggerForReset:-1},sunspire:{require:"gold",enabled:!1,variant:"z",label:r("$religion.zu.sunspire.label"),checkForReset:!0,
triggerForReset:-1}}},faith:{enabled:!1,trigger:0,transcendCatnip:0,adoreCatnip:0,addition:{bestUnicornBuilding:{enabled:!0,misc:!0,label:r("option.faith.best.unicorn"),confirm:0},autoPraise:{enabled:!0,misc:!0,label:r("option.praise"),subTrigger:.98,msg:0,time:0,expect:0},adore:{enabled:!0,misc:!0,label:r("option.faith.adore"),subTrigger:.001},transcend:{enabled:!0,misc:!0,label:r("option.faith.transcend")}},items:{marker:{require:"unobtainium",enabled:!1,max:-1,variant:"z",checkForReset:!0,triggerForReset:-1},
unicornGraveyard:{require:!1,enabled:!1,max:-1,variant:"z",checkForReset:!0,triggerForReset:-1},unicornNecropolis:{require:!1,enabled:!1,max:-1,variant:"z",checkForReset:!0,triggerForReset:-1},blackPyramid:{require:"unobtainium",enabled:!0,max:-1,variant:"z",checkForReset:!0,triggerForReset:-1},solarchant:{require:"faith",enabled:!0,max:-1,variant:"s",checkForReset:!0,triggerForReset:-1},scholasticism:{require:"faith",enabled:!0,max:3,variant:"s",checkForReset:!0,triggerForReset:-1},goldenSpire:{require:"faith",
enabled:!0,max:-1,variant:"s",checkForReset:!0,triggerForReset:-1},sunAltar:{require:"faith",enabled:!0,max:-1,variant:"s",checkForReset:!0,triggerForReset:-1},stainedGlass:{require:"faith",enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},solarRevolution:{require:"faith",enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},basilica:{require:"faith",enabled:!0,max:5,variant:"s",checkForReset:!0,triggerForReset:-1},templars:{require:"faith",enabled:!0,max:5,variant:"s",
checkForReset:!0,triggerForReset:-1},apocripha:{require:"faith",enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},transcendence:{require:"faith",enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},blackObelisk:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blackNexus:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blackCore:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},singularity:{require:!1,
enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blackLibrary:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blackRadiance:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blazar:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},darkNova:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},holyGenocide:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1}}},
build:{enabled:!1,trigger:0,items:{field:{require:"catnip",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},workshop:{require:"minerals",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},factory:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},hut:{require:"wood",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},logHouse:{require:"minerals",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},mansion:{require:"titanium",enabled:!1,max:-1,checkForReset:!0,
triggerForReset:-1},steamworks:{require:!1,enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},magneto:{require:!1,enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},reactor:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},smelter:{require:"minerals",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},calciner:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},mine:{require:"wood",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},lumberMill:{require:"minerals",
enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},oilWell:{require:"coal",enabled:!0,max:200,checkForReset:!0,triggerForReset:-1},quarry:{require:"coal",enabled:!0,max:300,checkForReset:!0,triggerForReset:-1},library:{require:"wood",enabled:!0,max:-1,stage:0,checkForReset:!0,triggerForReset:-1},dataCenter:{require:!1,enabled:!0,max:150,stage:1,name:"library",checkForReset:!0,triggerForReset:-1},observatory:{require:"iron",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},academy:{require:"wood",
enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},biolab:{require:"science",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},pasture:{require:"catnip",enabled:!0,max:150,stage:0,checkForReset:!0,triggerForReset:-1},solarFarm:{require:"titanium",enabled:!0,max:-1,stage:1,name:"pasture",checkForReset:!0,triggerForReset:-1},aqueduct:{require:"minerals",enabled:!0,max:250,stage:0,checkForReset:!0,triggerForReset:-1},hydroPlant:{require:"titanium",enabled:!0,max:-1,stage:1,name:"aqueduct",checkForReset:!0,
triggerForReset:-1},amphitheatre:{require:"minerals",enabled:!0,max:60,stage:0,checkForReset:!0,triggerForReset:-1},broadcastTower:{require:"titanium",enabled:!0,max:-1,stage:1,name:"amphitheatre",checkForReset:!0,triggerForReset:-1},tradepost:{require:"gold",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},chapel:{require:"minerals",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},temple:{require:"gold",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},mint:{require:"gold",enabled:!0,
max:-1,checkForReset:!0,triggerForReset:-1},ziggurat:{require:!1,enabled:!0,max:110,checkForReset:!0,triggerForReset:-1},chronosphere:{require:"unobtainium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},aiCore:{require:!1,enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},brewery:{require:!1,enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},barn:{require:"wood",enabled:!0,max:15,checkForReset:!0,triggerForReset:-1},harbor:{require:!1,enabled:!0,max:200,checkForReset:!0,triggerForReset:-1},
warehouse:{require:!1,enabled:!0,max:200,checkForReset:!0,triggerForReset:-1},accelerator:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},zebraOutpost:{require:"bloodstone",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},zebraWorkshop:{require:"bloodstone",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},zebraForge:{require:"bloodstone",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1}}},space:{enabled:!1,trigger:0,items:{spaceElevator:{require:"unobtainium",
enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},sattelite:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},spaceStation:{require:"oil",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},moonOutpost:{require:"uranium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},moonBase:{require:"unobtainium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},planetCracker:{require:"science",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},hydrofracturer:{require:"science",
enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},spiceRefinery:{require:"science",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},researchVessel:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},orbitalArray:{require:"science",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},sunlifter:{require:"science",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},containmentChamber:{require:"science",enabled:!1,max:5,checkForReset:!0,triggerForReset:-1},heatsink:{require:"thorium",
enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},sunforge:{require:!1,enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},cryostation:{require:"eludium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},spaceBeacon:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},terraformingStation:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},hydroponics:{require:"kerosene",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},hrHarvester:{require:"antimatter",
enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},entangler:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},tectonic:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},moltenCore:{require:"uranium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1}}},time:{enabled:!1,trigger:0,items:{temporalBattery:{require:!1,enabled:!1,max:0,variant:"chrono",checkForReset:!0,triggerForReset:-1},blastFurnace:{require:!1,enabled:!1,max:-1,variant:"chrono",
checkForReset:!0,triggerForReset:-1},timeBoiler:{require:!1,enabled:!1,max:-1,variant:"chrono",checkForReset:!0,triggerForReset:-1},temporalAccelerator:{require:!1,enabled:!1,max:1,variant:"chrono",checkForReset:!0,triggerForReset:-1},temporalImpedance:{require:!1,enabled:!1,max:-1,variant:"chrono",checkForReset:!0,triggerForReset:-1},ressourceRetrieval:{require:!1,enabled:!1,max:-1,variant:"chrono",checkForReset:!0,triggerForReset:-1},temporalPress:{require:!1,enabled:!1,max:0,variant:"chrono",checkForReset:!0,
triggerForReset:-1},cryochambers:{require:!1,enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},voidHoover:{require:"antimatter",enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},voidRift:{require:!1,enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},chronocontrol:{require:"temporalFlux",enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},voidResonator:{require:!1,enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1}}},
timeCtrl:{enabled:!1,items:{accelerateTime:{enabled:!0,subTrigger:1,misc:!0,label:r("option.accelerate")},timeSkip:{enabled:!0,subTrigger:500,misc:!0,label:r("option.time.skip"),maximum:1,0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,spring:!0,summer:!1,autumn:!1,winter:!1,wait:!1,adore:!1,craft:!1,moonMsg:-1}}},craft:{enabled:!1,trigger:.95,items:{wood:{require:"catnip",max:0,limited:!0,limRat:.5,enabled:!0},beam:{require:"wood",max:0,limited:!0,limRat:.5,enabled:!0},slab:{require:"minerals",
max:0,limited:!0,limRat:.5,enabled:!0},steel:{require:"coal",max:0,limited:!0,limRat:.5,enabled:!0},plate:{require:"iron",max:0,limited:!0,limRat:.5,enabled:!0},alloy:{require:"titanium",max:0,limited:!0,limRat:.5,enabled:!0},concrate:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},gear:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},scaffold:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},ship:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},tanker:{require:!1,max:0,limited:!0,limRat:.5,
enabled:!1},parchment:{require:!1,max:0,limited:!1,limRat:.5,enabled:!0},manuscript:{require:"culture",max:0,limited:!0,limRat:.5,enabled:!0},compedium:{require:"science",max:0,limited:!0,limRat:.5,enabled:!0},blueprint:{require:"science",max:0,limited:!0,limRat:.5,enabled:!0},kerosene:{require:"oil",max:0,limited:!0,limRat:.5,enabled:!0},megalith:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},eludium:{require:"unobtainium",max:0,limited:!0,limRat:.5,enabled:!0},thorium:{require:"uranium",max:0,
limited:!1,limRat:.5,enabled:!0}},autoConsume:{}},trade:{cache:!1,enabled:!1,trigger:.98,items:{dragons:{enabled:!1,require:"titanium",allowCapped:!1,limited:!0,summer:!1,autumn:!0,winter:!0,spring:!0},zebras:{enabled:!0,require:!1,allowCapped:!1,limited:!0,summer:!0,autumn:!0,winter:!0,spring:!0},lizards:{enabled:!1,require:"minerals",allowCapped:!1,limited:!0,summer:!0,autumn:!1,winter:!1,spring:!1},sharks:{enabled:!1,require:"iron",allowCapped:!1,limited:!0,summer:!1,autumn:!1,winter:!0,spring:!1},
griffins:{enabled:!0,require:"wood",allowCapped:!1,limited:!0,summer:!1,autumn:!0,winter:!1,spring:!1},nagas:{enabled:!0,require:!1,allowCapped:!1,limited:!0,summer:!1,autumn:!1,winter:!1,spring:!0},spiders:{enabled:!0,require:!1,allowCapped:!1,limited:!0,summer:!1,autumn:!0,winter:!1,spring:!1},leviathans:{enabled:!0,require:"unobtainium",allowCapped:!0,limited:!0,summer:!0,autumn:!0,winter:!0,spring:!0}}},upgrade:{enabled:!1,items:{techs:{enabled:!0,limited:!0},upgrades:{enabled:!0,limited:!0,cache:!1},
policies:{enabled:!1},races:{enabled:!0},missions:{enabled:!0,subTrigger:4},buildings:{enabled:!0}}},options:{catnipMsg:0,enabled:!0,items:{style:{enabled:!0,misc:!0,label:r("option.style")},hunt:{enabled:!0,subTrigger:.97,require:"manpower",misc:!0,label:r("option.hunt")},buildEmbassies:{enabled:!0,subTrigger:.94,require:"culture",misc:!0,label:r("option.embassies")},shipOverride:{enabled:!0,subTrigger:170,misc:!0,label:r("option.shipOverride")},festival:{enabled:!0,misc:!0,label:r("option.festival")},
promote:{enabled:!0,misc:!0,label:r("option.promote")},autofeed:{enabled:!0,misc:!0,label:r("option.autofeed")},observe:{enabled:!0,misc:!0,label:r("option.observe")},filterGame:{enabled:!0,subTrigger:300,misc:!0,label:"\u6e38\u620f\u65e5\u5fd7\u8fc7\u6ee4"},crypto:{enabled:!1,subTrigger:1E4,misc:!0,label:r("option.crypto")},fixCry:{enabled:!1,misc:!0,label:r("option.fix.cry")},saves:{enabled:!1,misc:!0,label:"\u5bfc\u51fa\u914d\u7f6e\u6587\u4ef6"},donate:{enabled:!1,misc:!0,label:"\u663e\u793a\u6350\u8d60\u539f\u4f5c\u8005\u56fe\u6807"},
useWorkers:{enabled:!1,misc:!0,label:r("option.useWorkers")},wiki:{enabled:!1,misc:!0,label:"\u73c2\u5b66\u5bb6\u4f7f\u7528\u8bf4\u660e\u4e66\uff08\u767e\u79d1\u94fe\u63a5\ud83d\udc31\uff09"},autoScientists:{enabled:!1,misc:!0,label:"\u9996\u6b21\u81ea\u542f\u73c2\u5b66\u5bb6"}}},distribute:{religion:!1,enabled:!1,items:{woodcutter:{enabled:!0,max:29,limited:!0},farmer:{enabled:!0,max:1,limited:!0},scholar:{enabled:!0,max:9,limited:!0},hunter:{enabled:!0,max:24,limited:!0},miner:{enabled:!0,max:24,
limited:!0},priest:{enabled:!0,max:3,limited:!1},geologist:{enabled:!0,max:40,limited:!0},engineer:{enabled:!1,max:0,limited:!1},leader:{enabled:!0,leaderJob:"farmer",leaderTrait:"manager"}}},filter:{enabled:!1,console:{},items:{buildFilter:{enabled:!1,label:r("filter.build")},researchFilter:{enabled:!1,label:r("filter.research")},upgradeFilter:{enabled:!1,label:r("filter.upgrade")},craftFilter:{enabled:!1,label:r("filter.craft")},spaceFilter:{enabled:!1,label:r("filter.space")},policyFilter:{enabled:!1,
label:r("filter.policy")},upgBldFilter:{enabled:!1,label:r("filter.upgBld")},tradeFilter:{enabled:!1,label:r("filter.trade")},embassyFilter:{enabled:!1,label:r("filter.embassy")},huntFilter:{enabled:!1,label:r("filter.hunt")},unicornSacrificeFilter:{enabled:!1,label:r("filter.sacrifice")},faithBuildFilter:{enabled:!1,label:r("filter.faithBld")},faithFilter:{enabled:!1,label:r("filter.praise")},adoreFilter:{enabled:!1,label:r("filter.adore")},transcendFilter:{enabled:!1,label:r("filter.transcend")},
accelerateFilter:{enabled:!1,label:r("filter.accelerate")},tcShatterFilter:{enabled:!1,label:r("filter.time.skip")},festivalFilter:{enabled:!1,label:r("filter.festival")},astronomicalEventFilter:{enabled:!1,label:r("filter.star")},distributeFilter:{enabled:!1,label:r("filter.distribute")},leaderFilter:{enabled:!1,label:r("filter.leader")},miscFilter:{enabled:!1,label:r("filter.misc")}}},resources:{furs:{enabled:!0,stock:350,checkForReset:!1,stockForReset:Infinity},coal:{enabled:!0,stock:0,consume:1},
timeCrystal:{enabled:!1,stock:0,checkForReset:!0,stockForReset:5E5}},policies:[],cache:{dataTimer:{},cacheSum:{},resources:{},trait:{},upgrade:void 0,science:"",resUpg:{}}}};if(1E8<game.resPool.get("timeCrystal").value&&7E5<game.resPool.get("burnedParagon").value&&8E9<game.resPool.get("unobtainium").value||1E100<game.resPool.get("timeCrystal").value)k.auto.infinity.allow=!0;k.auto.infinity.allow||(k.auto.infinity.enabled=!1);let m=game.resPool.resourceMap;const ma=function(a){var b=a[1],c=k.auto.filter;
if(c.enabled&&b&&(b=c.items[b])&&b.enabled)return;b=a.pop();a[1]=a[1]||"ks-default";c=game.msg.apply(game,a);$(c.span).css("color",b);k.debug&&console&&console.log(a)},U=function(){let a=Array.prototype.slice.call(arguments);a.push("ks-default");a.push(k.msgcolor);ma(a)},S=function(){let a=Array.prototype.slice.call(arguments),b=1<a.length?a.pop():"miscFilter";a.push(b);a.push(k.activitycolor);ma(a)},Ga=function(){const a=Array.prototype.slice.call(arguments);a.push("ks-summary");a.push(k.summarycolor);
ma(a)},ja=function(){const a=Array.prototype.slice.call(arguments);a.unshift("Warning!");console&&console.log(a)},I=function(a,b,c){U(r(a,b),c)},H=function(a,b,c){S(r(a,b),c)},na=function(a,b,c){Ga(r(a,b),c)},ra=a=>{var b=k.auto.cache;b.upgrade||(b.upgrade={});b=b.upgrade;for(let c in a){b[c]||(b[c]=[]);let d=b[c];for(let f in a[c]){let e=a[c][f];-1===d.indexOf(e)&&d.push(e)}}};let R=a=>{a=m[a];return a.value/a.maxValue};const Ja=function(){this.upgradeManager=new Ha;this.buildManager=new va;this.spaceManager=
new wa;this.craftManager=new da;this.bulkManager=new ka;this.tradeManager=new Ia;this.religionManager=new xa;this.timeManager=new ya;this.villageManager=new Z("Village");this.cacheManager=new za};Ja.prototype={upgradeManager:void 0,buildManager:void 0,spaceManager:void 0,craftManager:void 0,bulkManager:void 0,tradeManager:void 0,religionManager:void 0,timeManager:void 0,villageManager:void 0,cacheManager:void 0,now:void 0,loop:void 0,huntID:void 0,renderID:void 0,worker:void 0,toolText:void 0,start:function(a=
!0){k.interval=100*Math.ceil(100/game.getTicksPerSecondUI());if(game.isWebWorkerSupported()&&game.useWorkers&&k.auto.options.items.useWorkers.enabled){if(!this.worker){var b=new Blob(["onmessage = function(e) { setInterval(function(){postMessage('miaowu')}, '"+k.interval+"' ); }"]);b=window.URL.createObjectURL(b);this.worker=new Worker(b);this.worker.addEventListener("message",this.iterate.bind(this));this.worker.postMessage("miaowu");a&&U("\u540e\u53f0\u73c2\u5b66\u5bb6\u4e0a\u949f\u4e86~ \uff1e\u25bd\uff1c")}}else this.loop||
(this.loop=setInterval(this.iterate.bind(this),k.interval),a&&I("status.ks.enable"))},stop:function(a=!0){game.isWebWorkerSupported()&&this.worker&&(a&&U("\u540e\u53f0\u73c2\u5b66\u5bb6\u722a\u5df4\u4e86"),this.worker.terminate(),this.worker=void 0);this.loop&&(clearInterval(this.loop),this.loop=void 0,a&&I("status.ks.disable"))},iterate:async function(){if(game.mobileSaveOnPause&&!game.loadingSave&&!game.isPaused){clearTimeout(this.renderID);var a=0,b=k.auto,c=b.options;c.enabled&&c.items.observe.enabled&&
this.observeStars();b.upgrade.enabled&&(a+=~~this.upgrade());c.enabled&&c.items.festival.enabled&&this.holdFestival();b.timeCtrl.enabled&&(a+=~~this.timeCtrl());b.build.enabled&&(a+=~~this.build());b.space.enabled&&(a+=~~this.space());b.faith.enabled&&(a+=~~this.worship());(0<a||b.cache.upgrade)&&this.gameUpgrade();b.craft.enabled&&this.craft();c.enabled&&c.items.hunt.enabled&&this.delay();c.enabled&&c.items.autofeed.enabled&&this.autofeed();b.trade.enabled&&this.trade();b.time.enabled&&(a+=~~this.chrono());
c.enabled&&c.items.crypto.enabled&&this.crypto();k.copyTrait&&this.setTrait();c.enabled&&c.items.promote.enabled&&this.promote();c.enabled&&(a+=~~this.miscOptions());b.distribute.enabled&&(a+=~~this.distribute());0<a&&this.delay("render");a=k.auto.infinity;b=a.items;a.enabled&&b.skiptime.enabled&&!b.skiptime.doneMark&&this.skiptime();a.enabled&&b.autoCT.enabled&&this.autoCT();a.enabled&&b.autoTransform.enabled&&this.autoTransform();a.enabled&&b.autohunt.enabled&&this.autohunt();a.enabled&&b.buildChronosphere.enabled&&
!b.buildChronosphere.doneMark&&this.buildChronosphere();a.enabled&&b.cryoFix.enabled&&!b.cryoFix.doneMark&&this.cryoFix();a.enabled&&b.autoReset.enabled&&await this.infinityReset()}},autoCT:async function(){if(Infinity!==game.resPool.get("timeCrystal").value)k.auto.infinity.items.autoCT.enabled&&$("#toggle-autoCT").click(),U("\u65e0\u9650\u5965\u79d8\uff1a\u65f6\u95f4\u6c34\u6676\u592a\u5c11");else if(subTrigger=k.auto.infinity.items.autoCT.subTrigger.split("-"),3!==subTrigger.length)k.auto.infinity.items.autoCT.enabled&&
$("#toggle-autoCT").click(),U("\u65e0\u9650\u5965\u79d8\uff1a\u89e6\u53d1\u503c\u8bbe\u7f6e\u9519\u8bef");else{var a=game.religionTab.ctPanel.children[0].children[parseInt(subTrigger[0])];if(a&&a.model.visible)if(a.model.metadata.val>=parseInt(subTrigger[2]))k.auto.infinity.items.autoCT.enabled&&$("#toggle-autoCT").click(),U("\u65e0\u9650\u5965\u79d8\uff1a"+a.model.metadata.label+" \u4ee5\u8fbe\u5230 "+a.model.metadata.val);else{if(a.model.metadata.upgrades){var b=a.model.metadata.upgrades;delete a.model.metadata.upgrades}for(var c=
game.religionTab.refineTCBtn,d=Math.floor(Number.MAX_VALUE/25),f=Math.min(parseInt(subTrigger[1]),parseInt(subTrigger[2])-a.model.metadata.val),e=0,g=0;e<f&&1E4>g;g++)Infinity==game.resPool.get("relic").value&&(e+=a.controller.build(a.model,1)),c.controller._transform(c.model,d);$("#clearLogHref").click();b&&(a.model.metadata.upgrades=b);E(a.model.metadata.label,e,"faith")}else k.auto.infinity.items.autoCT.enabled&&$("#toggle-autoCT").click(),U("\u65e0\u9650\u5965\u79d8\uff1a"+subTrigger[0]+" \u5bf9\u5e94\u7684\u5965\u79d8\u795e\u5b66\u672a\u89e3\u9501\u3002")}},
skiptime:async function(){if(1E100>game.resPool.get("timeCrystal").value)k.auto.infinity.items.skiptime.enabled&&$("#toggle-skiptime").click(),U("\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff1a\u65f6\u95f4\u6c34\u6676\u592a\u5c11");else if(game.workshop.get("chronoforge").researched){var a=game.calendar.year;if(a>=Math.pow(2,62))k.auto.infinity.items.skiptime.doneMark=!0,U("\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff1a\u6e38\u620f\u65e5\u5386\u5e74\u4ee5\u8fbe\u5230\u6700\u5927\u503c");else{var b=game.timeTab.cfPanel.children[0].children[0];
if(game.time.heat<=game.getEffect("heatMax"))b.controller.doShatterAmt(b.model,500);else{var c=Math.min(k.auto.infinity.items.skiptime.subTrigger,Math.pow(2,62));c-=a;0<c?(b.controller.doShatterAmt(b.model,c),E("time.skip",c)):(k.auto.infinity.items.skiptime.doneMark=!0,U("\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff1a\u6e38\u620f\u65e5\u5386\u5e74\u4ee5\u8fbe\u5230\u8bbe\u5b9a\u503c"))}}}},autohunt:async function(){if(!(0<game.resPool.get("furs").value&&0<game.resPool.get("ivory").value&&0<game.resPool.get("unicorns").value)){var a=
k.auto.infinity.items.autohunt.subTrigger;if(a=Infinity==game.resPool.get("manpower").value?Math.floor(Number.MAX_VALUE/100):0<a?Math.floor(game.resPool.get("manpower").value*a/100):Math.floor(game.resPool.get("manpower").value/1E20))game.resPool.addResEvent("manpower",100*-a),game.village.gainHuntRes(a)}},autoTransform:async function(){if(Infinity!=game.resPool.get("relic").value){var a=game.resPool.get("timeCrystal").value;if(1E100>a)k.auto.infinity.items.autoTransform.enabled&&$("#toggle-autoTransform").click(),
U("\u65e0\u9650\u9057\u7269\uff1a\u65f6\u95f4\u6c34\u6676\u592a\u5c11");else{var b=game.religionTab.refineTCBtn;if(void 0!=b){var c=k.auto.infinity.items.autoTransform.subTrigger;b.controller._transform(b.model,Infinity==a?Math.floor(Number.MAX_VALUE/25):0<c?Math.floor(a*c/25):Math.floor(a/1E20))}}}},cryoFix:async function(){if(game.workshop.get("chronoforge").researched&&game.workshop.get("turnSmoothly").researched){var a=game.timeTab.vsPanel.children[0].children,b=game.time.getVSU("cryochambers"),
c=game.time.getVSU("usedCryochambers").on,d=a[1].model,f=gamePage.challenges.getChallenge("postApocalypse").on;if(!b.val&&k.auto.infinity.items.cryoFix.subTrigger>c)if(1==game.religion.getHGScalingBonus()){var e=Math.min(k.auto.infinity.items.cryoFix.subTrigger-c,Math.floor(Math.log(1/d.prices[0].val)/Math.log(b.priceRatio)));if(game.bld.get("chronosphere").on+f<e&&void 0==this.buildChronosphere(e-f))return;for(var g=0;g<e;g++)a[1].controller.buyItem(d,{},function(){})}else U("\u51b7\u51bb\u4ed3\uff1a\u5df2\u5f00\u542f\u795e\u5723\u706d\u7edd\uff0c\u4e0d\u65b0\u5efa\u51b7\u51bb\u4ed3");
c=b.val+c;f=c-f;if(void 0!=this.buildChronosphere(f)){g=game.timeTab.cfPanel.children[0].children[0];d=game.resPool.get("temporalFlux").maxValue-game.resPool.get("temporalFlux").value;0<d&&(f=Math.ceil(d/f),game.time.heat<=game.getEffect("heatMax")&&(f=Math.min(f,500)),g.controller.doShatterAmt(g.model,f),E("time.skip",f));f=Math.floor(game.resPool.get("temporalFlux").value/3E3);for(g=0;g<Math.min(f,a[2].model.on);g++)a[0].controller.buyItem(a[0].model,{},function(){});E("fix.cry",g);b.on==c&&game.resPool.get("temporalFlux").maxValue==
game.resPool.get("temporalFlux").value&&(game.village.sim.kittens.length<c?U("\u7f3a\u5c11\u732b\u732b"):k.auto.infinity.items.cryoFix.doneMark=!0)}}else U("\u68c0\u67e5 \u65f6\u95f4\u953b\u9020 \u548c \u65f6\u95f4\u6ce2\u52a8 \u662f\u5426\u89e3\u9501")},buildChronosphere:function(a){a=void 0==a?k.auto.infinity.items.buildChronosphere.subTrigger:a;k.auto.build.items.chronosphere.max=a;if(game.bld.get("chronosphere").on<a){var b=a-game.bld.get("chronosphere").on,c=this.readyChronosphereRes(b);switch(c){case "Infinity":k.auto.build.items.chronosphere.max=
-1;return;case "done":break;case "manager":return;case "nagas":U("\u5229\u7ef4\u5766\u63d0\u524d\u5230\u6765\u5bfc\u81f4\u8d38\u6613\u6807\u7b7e\u65e0\u6cd5\u89e3\u9501\uff0c\u8bf7\u624b\u52a8\u5237\u65b0\u754c\u9762");return;case "manpower":U("\u4f20\u9001\u4eea\uff1a\u55b5\u529b\u4e0d\u8db3\u4ee5\u5728\u6253\u730e\u540e\u548c\u5a1c\u8fe6\u4ea4\u6613\u83b7\u5f97\u8db3\u591f\u7684\u84dd\u56fe");return;default:I("ui.infinity.chronosphere",[game.resPool.get(c).title,b]);return}}if(void 0==a)k.auto.infinity.items.buildChronosphere.doneMark=
!0;else return"done"},readyChronosphereRes:function(a){a=game.bld.getPrices("chronosphere",a);var b=0,c;for(c in a)b+=Infinity==game.resPool.get(a[c].name).value?1:0;if(b==a.length)return"Infinity";if("manager"!==game.village.leader.trait.name)return $("#toggle-leaderTrait-manager").click(),"manager";b=game.diplomacy.get("nagas");if(!b.unlocked)return"nagas";for(c in a)if("blueprint"===a[c].name){var d=10*(a[c].val-game.resPool.get("blueprint").value);if(0<d){if(Infinity!=game.resPool.get("ivory").value){var f=
Infinity==b.buys[0].val*d?1E307:b.buys[0].val*d-game.resPool.get("ivory").value,e=game.getEffect("hunterRatio")+game.village.getEffectLeader("manager",0);f/=e;if(0<f)if(0<game.resPool.get("manpower").value-100*f-d*game.diplomacy.getManpowerCost())game.resPool.addResEvent("manpower",100*-f),game.village.gainHuntRes(f);else return"manpower"}game.diplomacy.tradeAll(b)}}else if(!(game.resPool.get(a[c].name).value/10>a[c].val))return a[c].name;return"done"},infinityReset:async function(){var a=k.auto.infinity.items,
b=0,c=0,d;for(d in a)if(void 0!=a[d].doneMark&&a[d].enabled)if(b++,a[d].doneMark)c++;else return;c==b&&(game.workshop.get("fluxCondensator").researched?game.time.getVSU("usedCryochambers").on?U("\u6709 \u7528\u8fc7\u7684\u51b7\u51bb\u4ed3 \u4e0d\u5141\u8bb8\u91cd\u7f6e"):game.bld.get("chronosphere").on<k.auto.infinity.items.buildChronosphere.subTrigger?U("\u4f20\u9001\u4eea\u6570\u91cf < \u4fee\u5efa\u4f20\u9001\u4eea\u89e6\u53d1\u503c \u4e0d\u5141\u8bb8\u91cd\u7f6e"):game.resetAutomatic():U("\u901a\u91cf\u51b7\u51dd\u5668 \u672a\u89e3\u9501\u4e0d\u5141\u8bb8\u91cd\u7f6e"))},
delay:function(a){if(a){let b=dojo.byId("tooltip").textContent;if(k.renderTime+6E5<Date.now()||this.toolText!==b)F("changeLeader",!0,"noFilter"),this.renderID=setTimeout(()=>{let c=game.ui.activeTabId;"Village"!==c&&"Nummon"!==c&&(k.renderTime=Date.now(),this.toolText=b,game.ui.render())},Math.min(197,197-Date.now()+game.timer.timestampStart))}else this.huntID=setTimeout(()=>{this.hunt()},.5*k.interval)},reset:async function(){},timeCtrl:function(){var a=k.auto.timeCtrl.items,b=0;if(a.accelerateTime.enabled&&
game.science.get("calendar").researched){var c=m.temporalFlux;c.value>=Math.max(c.maxValue*a.accelerateTime.subTrigger,1)&&!game.time.isAccelerated&&(game.time.isAccelerated=!0,H("act.accelerate",[],"accelerateFilter"),E("accelerate",1));k.interval!==100*Math.ceil(100/game.getTicksPerSecondUI())&&(L.stop(!1),k.auto.engine.enabled&&(2E3===k.interval?H("act.accelerate.acl"):H("act.accelerate.slow"),L.start(!1)))}a:if(a.timeSkip.enabled&&game.workshop.get("chronoforge").researched){c=m.timeCrystal.value;
var d=a.timeSkip.maximum,f=game.getEffect("heatMax"),e=game.time.heat;if(!d)return 0;let q=game.challenges.getChallenge("1000Years").researched?5:10;e-15*game.getEffect("heatPerTick")<.5*f&&(d=Math.ceil(Math.max(50/q*game.getEffect("heatPerTick")/game.getTicksPerSecondUI(),d)));var g=Math.max(a.timeSkip.subTrigger,this.craftManager.getStock("timeCrystal"),d);const n=game.calendar.cycle;var h=game.calendar.year,l=game.calendar.day;if(!(c<g||0>l||!a.timeSkip[n]||e>=f)){l=game.prestige.getPerk("numerology").researched;
if(5===n&&a.timeSkip[n]&&l&&game.nummon){g=game.nummon.getTradeTC();var p=game.calendar.cycleEffectsFestival({unobtainium:1}).unobtainium;let t=game.calendar.cycleEffectsBasics({unobtainiumPerTickSpace:1},"moonOutpost").unobtainiumPerTickSpace,u=(56.5+12*game.getEffect("festivalRatio"))/50,v=game.calendar.cycleYear;if(1>g*u/(p*t)||.02>game.getEffect("heatPerTick")){v!==a.timeSkip.moonMsg&&(a.timeSkip.moonMsg=v,H("summary.time.skip.moon",[1]),E("time.skip.moon",1));break a}}g=game.timeTab.cfPanel.children[0].children[0];
if(!g.model.enabled)return g.controller.updateEnabled(g.model);p=a.timeSkip.wait;if(!a.timeSkip[game.calendar.seasons[game.calendar.season].name]||!1!==p&&5===n)if(1===p&&5===n){a.timeSkip.wait=game.calendar.year;break a}else if(!1===p||p===h||1===p)break a;else p!==h&&(a.timeSkip.wait=!1);h=4*d*q;h=game.time.heat>game.getEffect("heatMax")-Math.min(h,20*game.time.getCFU("blastFurnace").on+20);a.timeSkip[5]&&l&&!1===a.timeSkip.wait&&h&&(a.timeSkip.wait=1,H("summary.moon",[1]),E("moon",1));l=game.calendar.yearsPerCycle;
p=l-game.calendar.cycleYear;h=game.calendar.cyclesPerEra;f=Math.min(Math.floor((f-e)/q),d);d=0;if(f<p)d=f;else{d+=p;f-=p;for(e=1;f>l&&a.timeSkip[(n+e)%h];)d+=l,f-=l,e+=1;a.timeSkip[(n+e)%h]&&0<f&&(d+=f)}if(0<d){d=Math.min(d,Math.max(2500,25*game.getEffect("temporalPressCap")));if(game.time.getCFU("ressourceRetrieval").val&&(a.timeSkip.adore=!0,k.auto.options.items.hunt.time=!0,a=a.timeSkip,!a.craft)){let t="";"catnip coal iron oil uranium science".split(" ").forEach(u=>{k.auto.craft.autoConsume[u]=
!0;t=t+m[u].title+"\uff0c"});a.craft=!0;S(r("summary.resource",[t]));E("resource")}a=game.calendar.year;b=game.time.testShatter;1<d&&50>d&&(game.time.testShatter=2,F("lag",!1,"noFilter"));this.setTrait();g.controller.doShatterAmt(g.model,d);game.time.testShatter=b;d=game.calendar.year-a;if(!d)return;E("timeCrystal",c-m.timeCrystal.value,"resConsume");b=-100;H("act.time.skip",[d],"tcShatterFilter");E("time.skip",d)}}}return b},promote:function(){var a=game.village;let b=a.leader;if(game.science.get("civil").researched&&
b){a.jobs[5].unlocked&&(b.exp+=5*game.getEffect("skillXP"));let c=b.rank,d=this.craftManager.getValueAvailable("gold",!0);a.sim.goldToPromote(c,c+1,d)[0]&&1===a.sim.promote(b,c+1)&&(a=game.villageTab.censusPanel.census,H("act.promote",[c+1,25+25*c],"leaderFilter"),a.renderGovernment(a.container),a.update(),E("gold",25+25*c,"resConsume"),E("promote",1))}},distribute:function(){const a=k.auto.distribute.items;var b=a.leader;let c=0,d=game.village;if(b.enabled&&game.science.get("civil").researched&&
!game.challenges.isActive("anarchy")&&!k.copyTrait){let v=b.leaderTrait;b=b.leaderJob;b="farmer"===b&&game.getEffect("priceRatio")&&"manager"===v&&!game.challenges.isActive("atheism")?"priest":b;if(null===d.leader&&d.sim.kittens.length)return game.villageTab.censusPanel.census.makeLeader(d.sim.kittens[0]);var f=!1;k.auto.upgrade.items.policies.enabled&&(f=void 0===k.policies?!1:k.policies.some(C=>"theocracy"===C));if(f||game.science.getPolicy("theocracy").researched)b="priest";f=d.getJob(b);if(null==
d.leader||d.leader.job!==b||d.leader.trait.name!==v){var e=d.sim.kittens.filter(C=>C.trait.name===v);0!==e.length&&f.unlocked&&f.value<d.getJobLimit(b)&&(e=e.sort(function(C,y){return 0===y.rank-C.rank?y.exp-C.exp:y.rank-C.rank})[0],f.value>=a[b].max&&a[b].limited&&f.value&&d.sim.removeJob(b,1),d.unassignJob(e),e.job=b,d.getJob(b).value++,game.villageTab.censusPanel.census.makeLeader(e),c+=1,H("act.distributeLeader",[r("$village.trait."+v)],"distributeFilter"),E("distribute",1))}}var g=k.auto.distribute.items.miner;
b=game.science.get("agriculture").researched;var h=d.happiness;f=this.craftManager.getPotentialCatnip(!1)<=.85*h||0===d.jobs[1].value&&a.farmer.enabled;var l=d.getFreeKittens(),p=d.jobs[4];e=k.auto.distribute;if(!l){var q=d.getJob("woodcutter").value;g.enabled&&p.unlocked&&!p.value&&1<q&&d.sim.kittens.length&&d.sim.removeJob("woodcutter");if(e.religion&&2<q)d.sim.removeJob("woodcutter");else return c}g=m.catnip;p=m.kittens;h=0>g.value-1800*h*p.value||1===p.maxValue-p.value||1<l;if(e.religion||f&&
b&&h&&g.value<=g.maxValue)return e.religion=!1,d.assignJob(d.getJob("farmer"),1),H("act.distribute.catnip",[],"distributeFilter"),H("act.distribute",[r("$village.job.farmer")],"distributeFilter"),E("catnip",1),c;b="";f=Infinity;q=0;e=game.religion.getSolarRevolutionRatio();h=k.auto.faith.addition.autoPraise.expect;l=game.workshop.get("spaceManufacturing").researched||1E4<m.starchart.value;h=h&&5<h&&e<.3*h&&d.jobs[5].unlocked;for(g=d.jobs.length-1;0<=g;g--)if(q=d.jobs[g],q.unlocked){p=q.name;var n=
a[p];if(n.enabled){var t=d.getJobLimit(p);q=q.value;if(!(q>=t)){t=Math.max(0,n.max);n=n.limited;if("hunter"===p){var u=game.getEffect("manpowerJobRatio");.5>u?t=10<d.maxKittens?2:0:.75>=u&&!game.science.get("navigation").researched||h?(t=Math.round(.42*t),!h&&!O.other["auto.hunter"]&&q>=t-1&&(u=game.msg($I("village.job.hunter.flavor"),null,null,!0),$(u.span).css("color","#ff589c"),F("hunter"))):F("hunter",!0)}else game.challenges.isActive("atheism")&&(n=!1);"geologist"===p&&(u=game.workshop.get("geodesy").researched,
!u&&50>m.iron.perTickCached&&(t=Math.round(.5*t)),game.science.get("mechanization").unlocked||u||(t=1),1E5<m.starchart.value&&!game.diplomacyTab.visible&&(t=1));"scholar"===p&&n&&(!game.getEffect("shatterTCGain")&&l&&(t=Math.max(t,18)),.4<R("science")&&(t=0));"miner"!==p||game.science.get("writing").researched||(t=Math.round(.3*t));"priest"===p&&1E4<m.starchart.value&&3>e&&(t=Math.max(t,20));if(!n||q<t)q/=t,q<f&&(f=q,b=p)}}}b&&(d.assignJob(d.getJob(b),1),c=1,H("act.distribute",[r("$village.job."+
b)],"distributeFilter"),E("distribute",1));if(c)return game.villageTab.updateTab(),d.updateResourceProduction(),1},autofeed:function(){const a=game.diplomacy.get("leviathans"),b=m.necrocorn;a.unlocked&&0<b.value&&a.energy!==game.diplomacy.getMarkerCap()&&(1<=b.value?(game.diplomacy.feedElders(),H("act.feed",[],"unicornSacrificeFilter"),E("feed",1)):1>.25*(1+game.getEffect("corruptionBoostRatio"))&&(E("feed",b.value),game.diplomacy.feedElders(),H("dispose.necrocorn")))},crypto:function(){let a=game.calendar.cryptoPrice;
var b=m.relic.value,c=m.blackcoin.value;if(!(!game.science.get("blackchain").researched&&0< !c||!game.diplomacy.get("leviathans").unlocked)){var d=null==k.auto.options.items.crypto.subTrigger?"10000-860-1060":k.auto.options.items.crypto.subTrigger.toString().split("-"),f=parseFloat(d[0]),e=parseFloat(d[1]),g=parseFloat(d[2]);if(3!==d.length||!f||!e||!g)return f||=1E4,k.auto.options.items.crypto.subTrigger=f+"-881-1060",M();a<e&&b>f?(game.diplomacy.buyBcoin(),c=game.getDisplayValueExt(m.blackcoin.value-
c),H("blackcoin.buy",[c,game.getDisplayValueExt(b)],"tradeFilter"),E("blackcoin.buy",1)):a>g&&0<m.blackcoin.value&&(game.diplomacy.sellBcoin(),b=game.getDisplayValueExt(m.relic.value-b),H("blackcoin.sell",[b,game.getDisplayValueExt(c)],"tradeFilter"),E("blackcoin.sell",1))}},worship:function(){var a=k.auto.faith.items,b=this.buildManager,c=this.craftManager,d=this.religionManager,f=k.auto.faith.addition,e=game.religion;let g=0;var h=game.prestige.getPerk("voidOrder").researched;if(f.bestUnicornBuilding.enabled){var l=
this.getBestUnicornBuilding(),p=game.bld.get("ziggurat").on,q=m.tears.value,n=m.unicorns.value;if(l){var t=!q&&1E3<=n&&p&&!game.ironWill,u=e.getZU("blackPyramid");u=a.blackPyramid.enabled&&!u.getEffectiveValue(game)&&u.unlocked;if(u=1<e.getZU("sunspire").on&&5>m.sorrow.value&&u&&5E3<m.unobtainium.maxValue)F("bls"),1E4<=m.tears.value&&(m.tears.value-=1E4,m.sorrow.value+=1,S("\u5c0f\u55b5\u628a\u773c\u6cea\u70bc\u6210\u60b2\u4f24"));if("unicornPasture"!==l.name||t||u){if(t){var v=1;F("tear")}else{var C=
dojo.clone(l.prices);for(b=0;b<C.length;b++){var y=C[b];y.val*=Math.pow(1.15,l.on);"tears"===y.name&&(y.val+=c.getStock("tears")+.01,v=y.val);"gold"===y.name&&(y.val*=1-game.getEffect("goldCostReduction"))}}v=u?1E4:v;if(v>q&&(b=Math.floor((n-c.getStock("unicorns"))/2500),q=Math.ceil((v-q)/p),q<=b)){v=game.religionTab.sacrificeBtn;if(!v||!v.model)return game.religionTab.render();b=v.model.prices[0].val*q;n>b&&(n=p*q,y=v.controller.controllerOpts,game.resPool.addResEvent(v.model.prices[0].name,-b),
game.resPool.addResEvent(y.gainedResource,n),game.stats.getStat("unicornsSacrificed").val+=b,E("unicorns",b,"resConsume"),E("tears",n,"resGain"),n=game.getDisplayValueExt(n),b=game.getDisplayValueExt(b),game.msg($I(y.logTextID,[b,n]),"notice",y.logfilterID),S(r("unicornSacrifice",[game.getDisplayValueExt(q),n]),"unicornSacrificeFilter"))}!t&&!u&&game.resPool.hasRes(C)&&p&&(d.build(l.name,"z",1),g=1)}else n>=2*Math.pow(l.priceRatio+game.getEffect("priceRatio"),l.val)&&b.build(l.name,void 0,1)}}else{if(50>
m.alicorn.value||3>f.bestUnicornBuilding.confirm)$("#toggle-bestUnicornBuilding").click(),f.bestUnicornBuilding.confirm+=1;k.auto.unicorn.items.unicornPasture.enabled&&this.build({unicornPasture:{require:!1,enabled:!0}});var z=JSON.parse(JSON.stringify(k.auto.unicorn.items));z=Object.assign(z,k.auto.faith.items);delete z.unicornPasture}g+=this._worship(z||a);a=c.getResource("faith");c=R("faith");var w=e.getRU("transcendence"),x=w.on,G=e.transcendenceTier,B=x?G:0;d=e.faith;l=e.faithRatio;z=e.getSolarRevolutionRatio();
var J=game.getEffect("solarRevolutionLimit");n=10+J;q=d/1E6*(B+1)*(B+1)*1.01;p=.01+a.value*(1+.1*game.getUnlimitedDR(l+q,.1));v=game.getLimitedDR(game.getUnlimitedDR(p,1E3)/100,n);u=!1;p=f.autoPraise.enabled;var A=f.adore.enabled;b=(t=k.auto.timeCtrl.items.timeSkip.adore)&&p&&A;C=f.autoPraise.subTrigger;var K=game.space.getBuilding("moonOutpost").val;y=K&&1E5<=d;var T=e.getRU("apocripha").on;y=y&&T&&(B||!l&&2E5<d)&&A;K&&y&&.98>C&&C&&(f.autoPraise.subTrigger=.98);if(Math.min(.999,Math.max(.98,C))<=
c||b){if(f.transcend.enabled&&x)for(x=e._getTranscendTotalPrice(B+1)-e._getTranscendTotalPrice(B),x=this.catnipForReligion(x),x=0<x||0>x&&0<m.catnip.value+400*x,K=10<B?1:11>B&&K&&1E5<d&&T&&x?4:0;K;){l=e.faithRatio;B=e.transcendenceTier;var N=Math.pow((B+2)/(B+1),2);x=T=e._getTranscendTotalPrice(B+1)-e._getTranscendTotalPrice(B);var X=e.getTU("blackObelisk").val;N*=(5*(B+1)*X+1E3)/(5*B*X+1E3);X=2.02*d*B+3.03*d>1E6*T&&l>T;if(l>(1-N+Math.sqrt(80*(N*N-1)*x+(N-1)*(N-1)))*N/(40*(N+1)*(N+1)*(N-1))+x+x/(N*
N-1)&&d>Math.min(1E6*(B-3),0)+1E6||X){e.faithRatio-=T;e.tcratio+=T;e.transcendenceTier+=1;B=game.challenges.getChallenge("atheism");B.calculateEffects(B,game);X=e.getTU("blackObelisk");X.calculateEffects(X,game);game.msg($I("religion.transcend.msg.success",[e.transcendenceTier]));B=e.transcendenceTier;8>B&&(u=!0);for(x=0;x<e.transcendenceUpgrades.length;x++)N=e.transcendenceUpgrades[x],!N.unlocked&&B>=N.tier&&"mausoleum"!==N.name&&(N.unlocked=!0,g=1);K--;H("act.transcend",[game.getDisplayValueExt(T),
B],"transcendFilter");E("transcend",1)}else K=0}K=game.resPool.isStorageLimited(w.prices);T=k.auto.faith.items.transcendence;!T.enabled&&d>w.faith&&A&&K&&(T.enabled=!0,ma(["\u5c0f\u732b\u8d34\u5fc3\u5f97\u65e0\u89c6\u8d85\u8d8a\u6309\u94ae\u7981\u7528","ks-default",k.activitycolor]));A=!e.faithRatio||B;w=this.catnipForReligion();w=0<w||0>w&&0<m.catnip.value+400*w;w=9<G||w;K=2>game.prestige.getParagonProductionRatio()?Math.max(2/game.prestige.getParagonProductionRatio(),2):1;T=.5*Math.log(e.faithRatio)+
3.45;G=game.time.getCFU("ressourceRetrieval").val;J=game.getLimitedDR(K*(10>A||G?1.92+Math.log1p(J):1.3)*Math.pow(Math.E,.65*T),100*n);A=f.adore.subTrigger;.001===A&&y&&100*z<J&&B&&((B=v<=Math.max(1,.01*J-.5))&&(y=!1),J=Math.floor(100*J)/100,J===O.other["adore.solar"]||G&&h||!B||(S(r("summary.adore.solar",[J])),O.other["adore.solar"]=J));y&&.001!==A&&(y=10*A<v);if(y&&w||u)b&&(k.auto.timeCtrl.items.timeSkip.adore=!1),e._resetFaithInternal(1.01),H("act.adore",[game.getDisplayValueExt(d),game.getDisplayValueExt(q)],
"adoreFilter"),E("adore",q)}u=.525*Math.log(e.faithRatio)+3.45;q=h||O.other.adore?1:.3;q=q*game.prestige.getPerk("vitruvianFeline").researched?1:.5;q=game.workshop.get("spaceManufacturing").researched?5:q;n=game.getLimitedDR(.3*Math.pow(Math.E,.65*u)*q,80*n);f.autoPraise.expect=.01*n;q=e.getRU("solarRevolution").on;u=e.getRU("stainedGlass").on||250>m.gold.value||2>a.perTickCached||.9>game.getEffect("culturePerTickBase");v=e.getRU("basilica").on||750>m.gold.value||6>a.perTickCached||2.7>game.getEffect("culturePerTickBase");
q&&.98===C&&z<.01*n&&u&&v&&(C=0);l=1+.1*game.getUnlimitedDR(l,.1);u=a.value>(1E3-d)/l&&1E3>d||a.value>(150-d)/l&&150>d&&!h;u&=!z&&!h;if(p&&c>=C&&.001<a.value&&(.98>c||!h||q)||u).98===f.autoPraise.subTrigger&&!u&&.98>c&&Date.now()>f.autoPraise.time+4E5&&!t&&(f.autoPraise.time=Date.now(),f=game.getDisplayValueExt(n),S(r("summary.praise.msg",[f])),O.other["praise.msg"]=f),h=e.getApocryphaBonus(),f=a.value,h=f*(1+h),E("praise",h),E("faith",f,"resConsume"),H("act.praise",[game.getDisplayValueExt(a.value),
game.getDisplayValueExt(h)],"faithFilter"),e.praise(),e=m.faith,e.value=Math.max(Math.min(m.faith.maxValue,e.value+2*m.faith.perTickCached),0);return g},_worship:function(a){var b=k.auto.faith.items;let c=JSON.parse(JSON.stringify(a||k.auto.faith.items));a=this.religionManager;var d=this.bulkManager;let f=game.religion;var e=f.getRU("solarRevolution"),g=(f.faith>e.faith||game.prestige.getPerk("voidOrder").researched)&&750<m.faith.maxValue&&500<m.gold.maxValue,h=!e.on&&g&&f.getRU("solarchant").on&&
f.transcendenceTier?1.1:k.auto.faith.trigger;this.setTrait("wise");game.getLimitedDR(.09+.01*(1+game.prestige.getBurnedParagonRatio()),1);!e.on&&g&&b.solarRevolution.enabled&&f.faith>e.faith&&a.build("solarRevolution","s",1);!f.getRU("solarchant").on&&100<m.faith.value&&150<f.faith&&a.build("solarchant","s",1);!game.religion.getRU("sunAltar").on&&f.getRU("basilica").on&&(c.goldenSpire.enabled=!1);!f.getRU("basilica").on&&c.basilica.enabled&&(5E4<game.religion.faith&&(c.sunAltar.enabled=!1,c.goldenSpire.enabled=
!1),!game.religion.getRU("stainedGlass").on&&65E3<m.science.maxValue&&(c.scholasticism.enabled=!1));game.ironWill||game.workshop.get("orbitalGeodesy").researched||(c.templars.enabled=!1);f.getSolarRevolutionRatio()>9.98+.9*game.getEffect("solarRevolutionLimit")&&game.workshop.get("spaceManufacturing").researched&&O.other.adore&&["scholasticism","goldenSpire","stainedGlass","basilica","templars"].forEach(p=>{c[p].max=-1});b=f.getZU("marker");!f.getZU("blackPyramid").getEffectiveValue(game)&&game.resPool.hasRes(b.prices)&&
b.unlocked&&(F("marker"),c.marker.enabled=!1);b={};for(var l in c){e=c[l];g=a.getBuild(l,e.variant);let p=g.on&&g.noStackable||f.faith<g.faith;"s"===e.variant&&p&&(e.max=0);"z"!==e.variant||game.bld.getBuildingExt("ziggurat").on||(e.max=0);"c"!==e.variant||game.science.get("cryptotheology").researched||(e.max=0);b[l]=g}l=d.bulk(c,b,h);d=0;for(let p in l)0<l[p].count&&(h=f.getRU("solarRevolution").on?l[p].count:1,a.build(l[p].id,l[p].variant,h),d+=1);return d},chrono:function(){if(!game.timeTab.visible||
!game.workshop.get("chronoforge").researched)return 0;let a=0;var b=JSON.parse(JSON.stringify(k.auto.time.items));const c=this.timeManager;var d=this.bulkManager;let f=k.auto.time.trigger;var e=b.cryochambers,g=e.max;let h=game.bld.get("chronosphere").on+game.getEffect("cryochamberSupport");e.max=-1===g?h:Math.min(h,g);e=b.ressourceRetrieval;g=e.max;e.max=-1===g?100:Math.min(100,g);e={};for(let l in b)g=b[l],"chrono"!==g.variant||game.workshop.get("chronoforge").researched||(g.max=0),"void"!==g.variant||
game.science.get("voidSpace").researched||(g.max=0),e[l]=c.getBuild(l,g.variant);b=d.bulk(b,e,f);for(let l in b)d=b[l],0<d.count&&(c.build(d.id,d.variant,d.count),a=1);return a},upgrade:function(){let a;var b=k.auto.upgrade.items;const c=this.upgradeManager,d=this.craftManager,f=this.bulkManager,e=this.buildManager;var g=game.workshop.get("geodesy").researched,h=game.workshop.get("orbitalGeodesy").researched;var l=game.religion.getSolarRevolutionRatio();let p=0;this.setTrait("scientist");if(b.techs.enabled&&
game.libraryTab.visible){var q=game.science.techs;b.techs.limited=!0;var n=game.science.get("nanotechnology").researched;a:for(var t of q)if(!t.researched&&t.unlocked){if(b.techs.limited){q=t.name;var u=m.titanium.value;if("biology"===q&&3E3>u)continue;if("biochemistry"===q&&2E3>m.compedium.value)continue;if("ecology"===q&&6E3>u)continue;if("ai"===q&&1E4>u)continue;if("oilProcessing"===q&&!n&&1E4>u)continue;if("drama"===q&&1>d.getTickVal(d.getResource("parchment"),!0))continue;if("cryptotheology"===
q&&105>m.relic.value)continue;if("particlePhysics"===q&&!n&&1E3>u)continue;if("antimatter"===q&&!game.workshop.get("chronoforge").researched)continue}q=dojo.clone(t.prices);q=game.village.getEffectLeader("scientist",q);for(var v of q)if(c.getValue(v.name)<v.val)continue a;p=1;c.build(t,"science")}}if(b.upgrades.enabled&&game.workshopTab.visible){game.workshopTab.domNode||(p=2);t=game.workshop.upgrades;b.upgrades.limited=!0;n=[];if(b.upgrades.limited){v=m.starchart;n=["biofuel","gmo","invisibleBlackHand",
"steelPlants"];game.bld.getBuildingExt("pasture").meta.on&&0!==game.bld.getBuildingExt("pasture").meta.stage||(n=n.concat(["photovoltaic","thinFilm","qdot"]));game.bld.getBuildingExt("aqueduct").meta.on&&0!==game.bld.getBuildingExt("aqueduct").meta.stage||n.push("hydroPlantTurbines");game.getEffect("priceRatio")&&n.push("register");q=["factoryAutomation","advancedAutomation","pneumaticPress"];u=game.challenges.isActive("pacifism");6>game.bld.get("steamworks").on&&!u?(n=n.concat(["printingPress","offsetPress",
"photolithography"],q),game.bld.get("steamworks").on||n.push("combustionEngine")):game.opts.enableRedshift||(n=n.concat(q));u&&(n=n.concat(["bolas","huntingArmor","steelArmor","alloyArmor","nanosuits"]));q=game.bld.getBuildingExt("magneto").meta;q.val&&q.on===q.val&&n.push("carbonSequestration");5>game.village.getJob("engineer").value&&!game.workshop.getCraft("eludium").value&&(n=n.concat("spaceEngineers aiEngineers chronoEngineers amFission factoryRobotics factoryOptimization".split(" ")));!game.religion.getRU("solarRevolution").on&&
750<=m.faith.maxValue&&1E3<game.religion.faith&&n.push("caravanserai");0>=game.resPool.energyProd-game.resPool.energyCons-100&&(n=n.concat(["carbonSequestration"]));.006>game.globalEffectsCached.titaniumPerTickAutoprod&&40>m.ship.value&&1<l&&(n=n.concat(["titaniumAxe","silos","combustionEngine","astrolabe"]));(8<l||h)&&!game.space.meta[0].meta[3].val&&1600>v.value&&6<l&&(n.push("geodesy"),.8<R("coal")&&!h&&n.push("fuelInjectors"));7>l&&!g&&400<v.value&&n.push("titaniumSaw");g||(n=n.concat(["seti",
"refrigeration"]));75E3>m.oil.value&&!g&&(n=n.concat(["offsetPress","photolithography"]),.8<R("coal")&&.95>R("oil")&&!h&&n.push("fuelInjectors"));3>game.bld.getBuildingExt("factory").meta.val&&n.push("factoryLogistics");game.workshop.get("mWReactor").researched||(n=n.concat(["eludiumReflectors","amBases","coldFusion","amReactors","cryocomputing"]));0===game.bld.getBuildingExt("library").meta.stage&&(n=n.concat(["starlink","uplink","cryocomputing"]));5>game.bld.getBuildingExt("accelerator").meta.val&&
(n=n.concat(["darkEnergy","stasisChambers","voidEnergy","tachyonAccelerators","lhc"]));5>game.bld.getBuildingExt("aiCore").meta.val&&(n=n.concat(["machineLearning","aiBases"]));if(!game.bld.getBuildingExt("reactor").meta.val||169>m.ship.value)n=n.concat(["reactorVessel","enrichedUranium"]);6>game.space.getBuilding("sattelite").val&&(n=n.concat(["solarSatellites","satelliteRadio"]));v.perTickCached?game.challenges.isActive("blackSky")&&1>v.perTickCached&&(n=n.concat(["geodesy"])):n=n.concat(["hubbleTelescope"]);
3E4>m.thorium.value&&n.push("thoriumReactors");if(19E4<m.science.maxValue&&2075>v.value||30>m.titanium.value)n=n.concat(["astrolabe","unobtainiumReflectors","lhc","titaniumMirrors"]);game.challenges.isActive("anarchy")&&(n=n.concat(["logistics","augumentation","internet","neuralNetworks","register"]));game.ironWill?n=n.concat("logistics augumentation internet neuralNetworks mineralHoes ironHoes miningDrill mineralAxes ironAxes steelAxe titaniumAxe alloyAxe ironwood concreteHuts unobtainiumHuts eludiumHuts geodesy register unobtainiumDrill assistance astrophysicists register".split(" ")):
game.workshop.get("concreteHuts").researched||(n=n.concat(["concreteWarehouses","concreteBarns"]))}a:for(var C of t)if(!C.researched&&C.unlocked&&(t=C.name,-1===n.indexOf(t))){l=dojo.clone(C.prices);l=game.village.getEffectLeader("scientist",l);for(y of l)if(c.getValue(y.name,t)<y.val)continue a;p+=1;c.build(C,"workshop")}}b.policies.enabled&&game.libraryTab.visible&&function(){const z=game.science.policies;let w=a=0;const x=z.length,G=[];let B=game.science.get("astronomy").researched?1:3;for(a in k.policies){let J=
k.policies[a];for(let A in z){A=parseInt(A);let K=z[(A+w)%x];if(K.name===J){w=A+w+1;if(!K.researched){if(K.blocked)break;K.unlocked&&(void 0===K.requiredLeaderJob||null!=game.village.leader&&game.village.leader.job===K.requiredLeaderJob)&&G.push(K)}break}}}for(a of G){for(let J of a.prices)if(d.getValueAvailable(J.name,!0)<J.val*B)break;c.build(a,"policy")}}();C=game.spaceTab;if(b.missions.enabled&&C.visible){n=b.missions.subTrigger;t=game.space.meta[0].meta.length;v=game.workshop.get("spaceManufacturing").researched;
4===n&&m.alicorn.value&&v&&1E5<m.starchart.value&&(n=11);q=0;g=!h&&!game.ironWill&&!g;(h=C.GCPanel)||C.render();u=game.space.meta[0].meta;a=0;a:for(;a<t;a++){l=u[a];l.val&&7!==a&&q++;if(!l.unlocked||l.val||a>=n)continue;if(g)break;let z=h.children[a];if(!z||!z.model.metadata){C.render();break}if((u[3].val||2!==a||3===n||game.challenges.isActive("blackSky"))&&!z.model.metadata.val&&!z.model.metadata.on){l=z.model.prices;for(y of l)if(d.getValueAvailable(y.name,!0)<y.val)continue a;z.model.enabled?
(z.controller.build(z.model,1),v=2,ha(l),7===a||12===a?S(r("upgrade.space.mission",[u[a].label]),"spaceFilter"):S(r("upgrade.space",[u[a].label]),"spaceFilter")):z.controller.updateEnabled(z.model)}}(C.planetPanels.length!==q&&!g||1<v)&&C.render()}if(b.races.enabled&&game.diplomacy.hasUnlockedRaces()){let z=game.diplomacy.get("leviathans").unlocked?8:7;if(game.diplomacyTab.racePanels.length<z){var y=function(w){!game.diplomacy.get(w).unlocked&&1E3<=d.getValueAvailable("manpower",!0)&&(m.manpower.value-=
1E3,z="render",H("upgrade.race",[game.diplomacy.unlockRandomRace().title],"tradeFilter"),E("manpower",1E3,"resConsume"))};if(game.challenges.isActive("pacifism")||!game.village.sim.kittens.length||15<m.gold.value)y("lizards"),y("sharks"),y("griffins");1500<=m.culture.value&&y("nagas");1<=m.ship.value&&y("zebras");100<=m.ship.value&&125E3<m.science.maxValue&&y("spiders");game.science.get("nuclearFission").researched&&y("dragons");game.diplomacyTab.racePanels.length&&"render"!==z||game.diplomacyTab.render()}}if(b.buildings.enabled){g=
(y=1===game.calendar.season?game.resPool.energyProd:game.resPool.energyWinterProd)&&y-5<game.resPool.energyCons;h=game.bld.getBuildingExt("pasture").meta;C=0===h.stage?h.val:0;l=game.bld.getBuildingExt("aqueduct").meta;n=0===l.stage?l.val:0;b=(z,w)=>{let x=w.stages[1].prices;if(f.singleBuildPossible(w,x,1))return e.sellBuild(z),game.resPool.payPrices(x),w.stage=1,w.on=1,w.val=1,w.upgrades&&(w.updateEffects&&w.updateEffects(w,game),ra(w.upgrades)),game.bld.getBuildingExt(z)._metaCache=null,game.bld.getBuildingExt(z)._metaCacheStage=
1,e.manager.render(),H("summary.upgrade.building."+z,[],"upgBldFilter"),E("upgrade.building."+z),F("upg"+z.charAt(0).toUpperCase()+z.slice(1),!0),2};if(0===h.stage&&h.stages[1].stageUnlocked){t=1===game.bld.getBuildingExt("amphitheatre").meta.stage;t=g&&t&&25<game.getResourcePerTick("titanium",!0);if(45<d.getPotentialCatnip(!0,0,n)&&t&&k.auto.build.items.solarFarm.enabled)return b("pasture",h);F("upgPasture","","upgBldFilter")}if(0===l.stage&&l.stages[1].stageUnlocked){if(90<d.getPotentialCatnip(!0,
C,0)&&g&&1===h.stage&&k.auto.build.items.hydroPlant.enabled)return b("aqueduct",l);F("upgAqueduct","","upgBldFilter")}g=game.bld.getBuildingExt("library").meta;h=.1*g.totalEffectsCached.scienceMax/(1+game.prestige.getParagonProductionRatio());if(0===g.stage&&g.stages[1].stageUnlocked)if(C=1+.01*game.bld.get("biolab").val,l=Math.max(1+game.prestige.getParagonProductionRatio(),2)/2,C=3*m.compedium.value>h/C&&2E6<game.bld.getEffect("scienceMax"),(C|=d.getTickVal(m.concrate)>600*l)&&k.auto.build.items.dataCenter.enabled){if(h=
game.challenges.isActive("energy")?2:1,y>=game.resPool.energyCons+150*h)return b("library",g)}else F("upgLibrary","","upgBldFilter");y=game.bld.getBuildingExt("amphitheatre").meta;if(0===y.stage&&y.stages[1].stageUnlocked){if(2<game.getResourcePerTick("titanium",!0)||200<m.ship.value)return b("amphitheatre",y);F("upgAmphitheatre","","upgBldFilter")}}return p},build:function(a){const b=this.buildManager;var c=this.craftManager,d=this.bulkManager,f=k.auto.build.trigger;let e=0;var g=game.challenges.isActive("blackSky");
game.prestige.getPerk("vitruvianFeline");var h=game.challenges.isActive("atheism"),l=game.workshop.get("geodesy").researched,p=game.workshop.get("orbitalGeodesy").researched;let q=game.workshop.get("spaceManufacturing").researched;var n=game.religion.getRU("solarRevolution"),t=game.religion.getSolarRevolutionRatio(),u=game.science,v=u.get("theology").researched;let C={};if("object"!=typeof a){var y=game.prestige.getParagonProductionRatio();var z={};let A=JSON.parse(JSON.stringify(k.auto.build.items));
A=Object.assign({amphitheatre:A.amphitheatre,reactor:A.reactor,magneto:A.magneto,steamworks:A.steamworks},A);var w=m.science;let K=w.value/w.maxValue;var x=(X,V,P)=>{let aa=A[X],ea=aa.max;X&&(K<P?(aa.max=-1===ea?V:Math.min(V,ea),game.bld.getBuildingExt(X).meta.val>=V&&!q&&F("scienceBld")):aa.max=-1===ea?game.bld.getBuildingExt(X).meta.val+2:ea)};50>t&&(x("observatory",1E5<m.starchart.value?200:300,.98),x("academy",Math.max(22*(y+1),100),.99),x("biolab",200,1));x=c.getPotentialCatnip(!1);c=u.get("machinery").researched;
var G=u.get("astronomy"),B=game.stats.getStat("totalResets").val&&!G.researched;.98>K&&B&&(!c||G.unlocked)&&m.minerals.value&&(A.academy.max=6*(y+1),F("academy"));q&&16>A.barn.max&&(A.barn.max=-1);G=A.pasture;c=A.smelter;v?(F("smelter",!0),F("pasture",!0)):(B=game.bld.getBuildingExt("smelter").meta,c.max=1,Math.ceil(2*m.wood.perTickCached)>B.val&&Math.ceil(m.minerals.perTickCached)>B.val&&(c.max=B.val+1,F("smelter")),B=game.bld.getBuildingExt("pasture").meta,B.unlocked&&10<B.val&&F("pasture"),x||
(A.pasture.max=20),x=game.bld.getBuildingExt("hut").meta.val-2,A.library.max=0<x?Math.floor(11*x):A.library.max);!u.get("writing").researched&&m.minerals.value?(A.workshop.max=1,F("workshop")):F("workshop",!0);game.workshopTab.visible||game.challenges.isActive("winterIsComing")||!u.get("animal").researched||(c.max=0,-1===G.max&&(A.pasture.enabled=!1,F("pasture")));G=A.reactor;x=game.space.getBuilding("sattelite").on;if(!q&&125E3<m.titanium.maxValue||!x)G.max=25+10*g;100>m.uranium.value&&(G.max=0);
55E3>m.oil.maxValue&&(A.quarry.max=40/(1+y));B=game.getEffect("priceRatio");G=game.bld.getBuildingExt("ziggurat").meta;B=Math.pow(G.priceRatio+B,G.val);10<G.val&&m.blueprint.value<5*B&&!q&&(A.ziggurat.max=0);g&&3E5<m.science.maxValue&&!p&&(A.observatory.max=0);G=A.steamworks;game.challenges.isActive("pacifism")||game.bld.get("magneto").val?F("steamworks",!0):game.bld.get("steamworks").unlocked&&G.enabled&&19<m.gear.value&&(F("steamworks"),G.enabled=!1);G=A.brewery;if(!u.get("metalurgy").researched||
2E3>m.spice.value)G.max=5;game.calendar.festivalDays||(G.max=0);G=A.temple;B=A.tradepost;game.religion.faith>n.faith||game.prestige.getPerk("voidOrder");let T=m.gold.value/m.gold.maxValue;!g&&25>m.titanium.value&&(G.max=Math.max(30,10*(1+t)));let N=game.workshop.get("caravanserai");N.unlocked&&!N.researched&&1E4<m.ivory.value&&(G.enabled=!1,B.max=21,F("caravanserai"));!(game.religion.getRU("stainedGlass").on&&game.religion.getRU("basilica").on&&game.religion.getRU("sunAltar").on)&&2E4<game.religion.faith&&
780<m.gold.maxValue&&t&&(G.max=25-Math.min(13,11*t),B.max=40-Math.min(22,12*t),F("religion"));l||t||(B.max=30);n.on||h||!v?v&&(F("temple",!0),F("tradepost",!0)):(k.auto.faith.items.solarRevolution.enabled&&750<m.faith.maxValue&&560<m.gold.maxValue&&u.get("philosophy").researched&&(F("temple"),G.max=Math.floor(7.5/(1+game.prestige.getParagonStorageRatio())),560<m.gold.value&&(G.max=game.bld.getBuildingExt("temple").meta.val+1)),game.religion.transcendenceTier&&(B.max=12,525<m.gold.value&&(B.max=Math.min(18,
game.bld.getBuildingExt("tradepost").meta.val+1))),F("tradepost"));!v&&u.get("philosophy").researched&&.96>T&&!h&&(h=4>game.village.happiness&&1===game.bld.get("temple").val&&game.prestige.getPerk("renaissance").researched,G.max=h?1:Math.floor(7.5/(1+game.prestige.getParagonStorageRatio())),B.max=12,F("tradepost"));h=A.calciner;n=h.max;p?q&&x||(h.max=-1===n?Math.min(47+47*game.getEffect("productionRatio"),95-30*g):Math.min(50,n)):15E4<w.maxValue&&35E3<m.oil.maxValue?h.max=-1===n?25:Math.min(25,n):
(w=(1+7*y)*Math.max(1,Math.log(t)),h.max=-1===n?w:Math.min(w,n));.4>game.getResourcePerTick("oil",!0)&&(h.max=0,A.magneto.max=0);w=A.solarFarm;h=1===game.calendar.season?game.resPool.energyProd:game.resPool.energyWinterProd;!q&&125E3<m.titanium.maxValue&&h>game.resPool.energyCons&&(w.enabled=!1);w=A.mansion;h=A.broadcastTower;u.get("archeology");n=m.ship.value;n=p||600<n;u.get("electronics").researched&&!q?(F("broadcastTower"),h.max=8,w.max=80):F("broadcastTower",!0);v=m.titanium;x=A.biolab;l||p?
(n&&!w.max&&1===R("titanium")&&(w.max=45),q?(F("biolab",!0),F("mansion",!0),F("scienceBld",!0)):(x.max=10*t,.96>R("titanium")&&(x.max=10,h.max=40,w.max=Math.max(135-game.village.maxKittens,Math.floor(17*(y+1)))))):(!g&&1<v.value&&w.max&&(w.max=12),25<m.alloy.value&&u.get("biology").researched&&(x.max=2,F("biolab")));1E5<m.starchart.value&&!q&&!game.calendar.festivalDays&&!game.ironWill&&(A.observatory.max=50,A.amphitheatre.max=17,A.academy.max=60,A.logHouse.max=game.bld.getBuildingExt("logHouse").meta.val+
1,A.hut.max=game.bld.getBuildingExt("hut").meta.val+1,c.max=60,A.ziggurat.max=1);game.challenges.isActive("pacifism")||((t=A.mint,u=m.manpower.maxValue,y=game.bld.getBuildingExt("mint").meta.val,2E4>=u)?t.enabled=!1:y?p||l&&game.workshop.get("miningDrill").researched||(t.enabled=!1):t.max=2);p=game.bld.getBuildingExt("calciner").meta;g&&k.auto.build.items.calciner.enabled&&p.unlocked&&!p.val&&b.build("calciner",void 0,1);g="library academy pasture barn harbor oilWell warehouse broadcastTower accelerator mansion quarry aqueduct chapel lumberMill factory biolab".split(" ");
for(var J in A)p=A[J],p.enabled&&p.max&&(-1===g.indexOf(J)?z[J]=p:C[J]=p)}J={};a=z||a;z=game.village.leader;for(let A in a)g=a[A],p=b.getBuild(g.name||A).meta,p.almostLimited&&!l&&z&&(g.max=0),p.stage!==g.stage&&(g.max=0),J[A]=p;if(a=d.bulk(a,J,f,"bonfire"))for(d=0;d<a.length;d++)f=a[d].count,l=a[d].id,f=b.count(l,f),0<f&&(b.build(a[d].name||l,a[d].stage,f),e+=1);"{}"!==JSON.stringify(C)&&(e+=this.build(C));return e},space:function(){var a=JSON.parse(JSON.stringify(k.auto.space.items));const b=this.spaceManager;
var c=this.bulkManager,d=k.auto.space.trigger,f=game.challenges.isActive("blackSky"),e=game.religion.getSolarRevolutionRatio();let g=m.starchart.value;this.setTrait("chemist");let h=game.prestige.getPerk("vitruvianFeline").researched;f?(a.researchVessel.enabled=!1,a.spaceStation.enabled&&$("#toggle-spaceStation").click()):!d&&2<e&&!game.space.meta[0].meta[3].val&&2E3>g&&(d=9);let l=f||5<e,p=game.space.getBuilding("sattelite").val;if(!d){let n=game.space.getBuilding("spaceStation").val,t=3E3*Math.pow(1.12,
n),u=2300*Math.pow(1.12,p);g>u&&2>e&&(a.sattelite.max=p+1);if(g<u&&2>e||!game.workshop.get("orbitalGeodesy").researched)a.sattelite.max=0;g>t&&(a.spaceStation.max=n+1);g<t&&(a.spaceStation.max=0);.9>R("unobtainium")?a.moonBase.max=0:a.moonBase.max=game.space.getBuilding("moonBase").val+1;game.getEffect("lunarOutpostRatio")?e||(a.spaceElevator.max=22):(a.spaceElevator.max=11,!h&&.5>R("unobtainium")&&(a.spaceElevator.max=0))}game.ironWill&&(a.spaceStation.max=0);p<3+2*(9.7<e)&&l&&b.build("sattelite",
1);if(f||6<e)!f&&1>game.space.getBuilding("researchVessel").val&&a.sattelite.enabled&&b.build("researchVessel",1),4>game.space.getBuilding("researchVessel").val&&(a.spaceStation.max=0);f=a.orbitalArray;(e=game.nummon)&&e.getBestUnobtainiumBuilding()!==$I("space.planet.piscine.orbitalArray.label")&&0>f.max&&(f.max=0);f={};for(var q in a)f[q]=b.getBuild(q);a=c.bulk(a,f,d,"space");c=0;for(let n in a)if(d=a[n],0<d.count){if("containmentChamber"===d.id&&(q=m.antimatter,f=game.getEffect("antimatterProduction"),
e=game.resPool.energyProd<game.resPool.energyCons,500*f+q.value<q.maxValue||e))continue;b.build(d.id,d.count);c=1}return c},craft:function(){var a=k.auto.craft.items;const b=this.craftManager;var c="ship beam wood slab alloy gear concrate steel plate scaffold tanker parchment manuscript compedium blueprint kerosene megalith eludium thorium".split(" ");let d=k.auto.craft.trigger,f=!game.science.get("construction").researched||!game.bld.getBuildingExt("workshop").meta.on,e,g;this.setTrait("metallurgist");
this.setTrait("engineer");for(const h of c)e=a[h],g=e.require?b.getResource(e.require):"noRequire",c=0,!e.enabled||f&&"wood"!==h||!b.getCraft(h).unlocked||("noRequire"===g||g.value/g.maxValue>=d&&g.value<=2*g.maxValue?c=b.getLowestCraftAmount(h,e.limited,e.limRat,g.name):e.limited&&(c=b.getLowestCraftAmount(h,e.limited,e.limRat,!1)),1<=c&&b.craft(h,c));a=k.auto.upgrade.items.upgrades;a.cache&&game.workshop.get(a.cache).researched&&(a.cache=!1)},holdFestival:function(){if(!(!game.science.get("drama").researched||
400<=game.calendar.festivalDays||!game.prestige.getPerk("carnivals").researched&&0<game.calendar.festivalDays||5>game.village.getKittens()&&!m.zebras.value)){var a=this.craftManager,b=1500<4E3*a.getTickVal(m.manpower,!0),c=5E3<4E3*a.getTickVal(m.culture,!0);a=5E3<4E3*a.getTickVal(m.parchment,!0);if(b&&c&&(7500<=m.parchment.value||a)&&(!game.science.getPolicy("carnivale").researched||m.furs.value&&m.ivory.value&&m.spice.value)){b=game.villageTab;c=b.festivalBtn;if(!c||!c.model)return b.render();b=
c.model.prices;game.resPool.hasRes(b)?(game.resPool.payPrices(b),game.village.holdFestival(1),k.auto.trade.festival=void 0,E("festival",1),ha(b),400<game.calendar.festivalDays?H("festival.extend",[],"festivalFilter"):H("festival.hold",[],"festivalFilter")):k.auto.trade.festival=!0}}},observeStars:function(){let a=game.calendar;if(null!=a.observeBtn&&!game.workshop.get("seti").researched){let b=m.science.value,c=m.starchart.value;270>game.calendar.observeRemainingTime&&600>game.ticks&&S("\u73c2\u5b66\u5bb6\u53ef\u80fd\u8fdb\u5165\u4e86\u540e\u53f0\uff0c\u8fd0\u884c\u901f\u5ea6\u7f13\u6162(\u6700\u597d\u522b\u6700\u5c0f\u5316\u6302\u673a)");
a.observeHandler();E("science",m.science.value-b,"resGain");E("starchart",m.starchart.value-c,"resGain");H("act.observe",[],"astronomicalEventFilter");E("stars",1)}},hunt:function(){clearTimeout(this.huntID);var a=this.craftManager.getResource("manpower");if(!(100>a.value||game.challenges.isActive("pacifism")||3<R("manpower")&&3>game.getEffect("hunterRatio"))){var b=m.unicorns.value,c=game.achievements.get("unicornConspiracy").unlocked||b,d=!game.bld.getBuildingExt("unicornPasture").meta.val&&c&&
1E3<a.value&&3>b&&.06<game.getEffect("craftRatio");b=this.craftManager.getAverageHunt();c=Math.floor(a.value/100);var f=game.science.get("writing").researched,e=!m.furs.value||25>m.parchment.value?Math.max(30,Math.floor(.5*c)):0;f=f&&c>e&&0<e&&1!==R("culture");var g=k.auto.options.items.hunt,h=g.subTrigger<=a.value/a.maxValue,l=!h&&k.auto.trade.cache;if(h||f||d||l||g.time)if(f&&(c=e,H("act.hunt.mint","","huntFilter")),d&&(c=10,S(r("act.hunt.unicorn"))),l&&!g.time&&(c=Math.min(c,Math.max(Math.floor(a.perTickCached/
50),1)),k.auto.trade.cache=!1,H("act.hunt.trade","","huntFilter")),g.time&&(g.time=!1),!(0>=c)){d=game.ironWill?m.zebras.title:$I("effectsMgr.statics.maxKittens.title");game.resPool.addResEvent("manpower",100*-c);E("manpower",100*c,"resConsume");a={};for(var p in b)a[p]=m[p].value;this.setTrait("manager");game.village.gainHuntRes(c);this.setTrait();1E3<=c&&!game.challenges.getChallenge("pacifism").unlocked&&(game.challenges.getChallenge("pacifism").unlocked=!0);k.auto.cache.trait.manager?(H("act.hunt",
["\u7ba1\u7406\u8005\u6d3e\u51fa"+c,d],"huntFilter"),E("hunt.manager",c)):(E("hunt",c),H("act.hunt",[c,d],"huntFilter"));p={};for(let q in b)this.craftManager.getResource(q),p[q]=b[q]*c,E(q,m[q].value-a[q],"resGain");this.cacheManager.pushToCache({materials:p})}}},trade:function(){let a={};var b=k.auto.options.items.promote.enabled?2:0;for(var c in m){var d=m[c];game.resPool.addRes(d,Math.max(b*d.perTickCached+game.getEffect(c+"PerTickCon"),0),!1);a[c]=d.value}b=this.craftManager;c=this.tradeManager;
d=this.cacheManager;var f=b.getResource("gold"),e=[];let g=k.auto.trade;var h=g.trigger;if(c.singleTradePossible(void 0)){var l=game.calendar.getCurSeason().name,p=h<=f.value/f.maxValue;this.setTrait("merchant");var q=0;var n=game.religion.getSolarRevolutionRatio();var t=game.challenges.anyChallengeActive()&&2<game.calendar.year,u=game.prestige.getPerk("renaissance").researched,v=n||t||!u,C=2E3<game.calendar.year||u&&game.workshop.get("spaceManufacturing").researched;for(w in g.items){u=g.items[w];
var y=c.getRace(w);if(!y.unlocked)continue;game.diplomacyTab.racePanels[q]||game.diplomacyTab.render();q++;if(!u.enabled)continue;t=u[l];"spiders"===w&&5<y.embassyLevel&&!n&&1E6>m.oil.value&&(t=!0);if(!t)continue;if(!c.getTradeButton(y.name)||!c.singleTradePossible(w))continue;t=u.require?b.getResource(u.require):!1;let x=c.getProfitability(w);if("nagas"===w&&!game.ironWill&&C)continue;if("zebras"===w&&!x&&2===game.calendar.season&&.5<R("titanium"))continue;"sharks"===w&&10>y.embassyLevel&&(x=!1);
if("dragons"===w&&1<n&&!x)continue;y=game.religion.getRU("transcendence").on||!k.auto.faith.items.transcendence.enabled;let G=game.religion.getRU("apocripha").on||!k.auto.faith.items.apocripha.enabled,B=game.workshop.get("miningDrill").researched;y=y&&G||2<game.religion.transcendenceTier||!game.space.getBuilding("moonOutpost").val||!B;if(u.limited&&x&&v&&y){e.push(w);var z=!0}else(!t||h<=t.value/t.maxValue)&&p&&e.push(w)}u=m.catnip.value+100*game.getResourcePerTick("catnip",!0);l=c.getLowestTradeAmount("sharks");
0>u&&l&&1E3>game.deadKittens&&(q=game.diplomacy.get("sharks"),q=c.getAverageTrade(q).catnip,c.trade("sharks",Math.max(Math.ceil(u/-q),l)),H("trade.catnip"));if(0!==e.length&&(z=z&&!p?.25:1,l=Math.floor(c.getLowestTradeAmount(void 0,!0,!1)*z),!(g.festival&&!game.calendar.festivalDays||1>l))){0>m.spice.value+60*game.getResourcePerTick("spice",!0)&&game.calendar.festivalDays&&(l=Math.ceil(.3*l));q=[];for(n=0;n<e.length;n++){var w=e[n];u=k.auto.trade.items[w];t=u.require?b.getResource(u.require):!1;u=
Math.floor(c.getLowestTradeAmount(w,u.limited,(!t||h<=t.value/t.maxValue)&&h<=f.value/f.maxValue)*z);1>u?(e.splice(n,1),n--):q[n]=u}if(0!==e.length){for(z={};0<e.length&&1<=l;)if(l<e.length)f=Math.floor(Math.random()*e.length),z[e[f]]||(z[e[f]]=0),z[e[f]]+=1,--l,e.splice(f,1),q.splice(f,1);else{f=Math.floor(l/e.length);for(n=h=0;n<e.length;n++)q[n]<f&&(f=q[n],h=n);z[e[h]]||(z[e[h]]=0);z[e[h]]+=f;l-=f;e.splice(h,1);q.splice(h,1)}if(0!==z.length){e={};for(w in z){y=c.getRace(w);f=p?1:.6*z[w];h=c.getMaterials(w);
for(let x in h)e[x]||(e[x]=0),e[x]-=h[x]*f;h=c.getAverageTrade(y);for(let x in h)u=b.getResource(x),e[x]||(e[x]=0),e[x]+=0<u.maxValue?Math.min(h[x]*f,Math.max(u.maxValue-u.value,0)):h[x]*f}d.pushToCache({materials:e});.98<=R("gold")&&(g.cache=!0);for(let x in z)0<z[x]&&c.trade(x,z[x]);for(let x in m)w=m[x].value-a[x],0<w&&E(x,w,"resGain"),0>w&&E(x,-w,"resConsume")}}}}},miscOptions:function(){var a=this.craftManager;const b=this.buildManager;var c=k.auto.options.items,d=0,f=k.auto.cache,e=f.dataTimer,
g=game.timer.ticksTotal,h=e.ticksTotal,l=game.calendar.trueYear(),p=game.telemetry.guid;if(0>g-h||e.trueYear>l||e.saveId!==p)f.dataTimer=null,f.dataTimer={},f.cacheSum=null,f.cacheSum={},k.auto.filter.console=null,k.auto.filter.console={},Aa(),Ba(),f.resUpg=null,k.auto.upgrade.items.upgrades.cache=null,f=f.dataTimer,f.saveId=p,f.ticksTotal=g,f.trueYear=l;2E4<g-h&&(e.ticksTotal=g);g=k.auto.filter;if(c.filterGame.enabled&&g.enabled){e=g.items;g=g.console;h=game.console.filters;for(var q in h)l=e[q+
"Filter"],p=h[q],!p.unlocked||l&&!l.enabled||g[q]||(p.enabled=!1,g[q]=!0,d=1);d&&game.ui.renderFilters()}if(c.buildEmbassies.enabled&&game.diplomacy.races[0].embassyPrices&&(g=a.getResource("culture"),e=g.value/g.maxValue,q=.98<=e,g=2E4<g.value,c.buildEmbassies.subTrigger<=e&&2>e||g)){p=game.diplomacyTab.racePanels;e=a.getValueAvailable("culture",!0);g={};h=[];l=p.length-(game.diplomacy.get("leviathans").unlocked?1:0);f=k.auto.trade.items;for(--l;-1<l;l--){if(!p[l].embassyButton){game.diplomacyTab.render();
continue}var n=p[l].race.name;var t=game.diplomacy.get(n);if(!q&&!f[n].enabled)continue;let v=1-game.getEffect("embassyCostReduction");g[n]={val:0,basePrice:t.embassyPrices[0].val*v,currentEm:t.embassyLevel,priceSum:0,race:t};h.push(n)}if(0!==h.length){for(;0<h.length;)for(l=0;l<h.length;l++)n=h[l],p=g[n],f=p.currentEm+p.val,t=p.basePrice*Math.pow(1.15,f+game.getEffect("embassyFakeBought")),f=q||15>f&&game.science.get("astronomy").researched,t<=e&&f?(e-=t,p.priceSum+=t,p.val+=1,q&&(h.splice(l,1),
l--)):(h.splice(l,1),l--);for(n in g)p=g[n],0!==p.val&&(e=a.getValueAvailable("culture",!0),p.priceSum>e||(m.culture.value-=p.priceSum,E("culture",p.priceSum,"resConsume"),p.race.embassyLevel+=p.val,E("embassy",p.val),d+=1,1===p.val?S(r("build.embassy",[p.val,p.race.title]),"embassyFilter"):S(r("build.embassies",[p.val,p.race.title]),"embassyFilter")))}}if(c.fixCry.enabled&&0<game.time.getVSU("usedCryochambers").val){c=0;for(n=game.timeTab.vsPanel.children[0].children[0];n.controller.buyItem(n.model,
{},function(){});)c+=1;0<c&&(H("act.fix.cry",[c],"ks-fixCry"),E("fix.cry",c))}let u;c=(v,C,y)=>{S(r("summary."+v,[C]));E(v,C);if(y&&(u=b.getBuildButton(v)))u.controller.onAll(u.model)};n=game.bld.getBuildingExt("mint").meta;n.on!==n.val&&2E4<m.manpower.maxValue&&(n.on=n.val);n.on&&2E4>m.manpower.maxValue&&!game.challenges.isActive("pacifism")&&2<n.on&&!game.opts.enableRedshift&&(n.on=0,c("mint"));q=game.bld.getBuildingExt("factory").meta;q.val&&q.on!==q.val&&game.workshop.get("spaceManufacturing").researched&&
c("factory",void 0,!0);n=game.bld.getBuildingExt("magneto").meta;e=game.getResourcePerTick("oil",!0)>.05*n.val;g=5E6<game.bld.cathPollution&&50<game.bld.cathPollutionPerTick;n.val&&!n.on&&e&&g&&!q.isAutomationEnabled&&c("magneto",void 0,!0);q=game.bld.getBuildingExt("steamworks").meta;q.val&&q.on!==q.val&&9<n.on&&c("steamworks",void 0,!0);n=game.bld.getBuildingExt("reactor").meta;q=game.getResourcePerTick("uranium",!0);n.val&&n.on!==n.val&&0<q&&c("reactor",void 0,!0);n=game.time.getCFU("temporalAccelerator");
n.on&&!game.time.testShatter&&(n.isAutomationEnabled=!0,game.time.testShatter=1,c("temporalAccelerator"));q=1===game.calendar.season?game.resPool.energyProd:game.resPool.energyWinterProd;n=game.bld.getBuildingExt("biolab").meta;e=n.on&&game.workshop.get("biofuel").researched;a=k.auto.distribute.religion||0>a.getPotentialCatnip();e&&a&&(S(r("summary.biolab.test")+"(\u732b\u8584\u8377\u4ea7\u91cf\u8fc7\u4f4e)"),n.on=0);if(q&&q<game.resPool.energyCons){if(e&&n.on)return d="\u51ac\u5b63\u4ea7\u51fa\u7535:"+
game.getDisplayValueExt(q)+"\uff0c\u51ac\u5b63\u6d88\u8017\u7535:"+game.getDisplayValueExt(game.resPool.energyCons)+"\uff0c\u5c0f\u732b\u62c5\u5fc3\u7535\u4e0d\u591f\u5e76\u5173\u95ed\u4e86",a=n.on,H("summary.biolab.test",[d+a]),n.on=0,E("biolab.test",d+a),1;a=game.bld.getBuildingExt("oilWell").meta;if(a.isAutomationEnabled&&game.workshop.get("pumpjack").researched)return a.isAutomationEnabled=!1,game.upgrade({buildings:["oilWell"]}),game.resPool.update(),c("pumpjack",1),1;a=game.bld.getBuildingExt("accelerator").meta;
a.on&&(a.on=0,c("accelerator",1))}a=[{name:"brewery",metadata:game.bld.get("brewery"),Button:b.getBuildButton("brewery"),conditionOn:game.calendar.festivalDays,conditionOff:game.bld.get("brewery").on}];game.opts.enableRedshift||(a.push({name:"chronocontrol",metadata:game.time.getVSU("chronocontrol"),Button:this.timeManager.getBuildButton("chronocontrol"),conditionOn:1>game.calendar.futureSeasonTemporalParadox&&98<game.calendar.day,conditionOff:game.time.getVSU("chronocontrol").on&&0<game.calendar.day}),
n=game.bld.getBuildingExt("calciner").meta,!game.time.getCFU("ressourceRetrieval").on&&n.isAutomationEnabled&&(n.isAutomationEnabled=!1,game.upgrade({buildings:["calciner"]}),c("calciner")));for(c=0;c<a.length;c++)n=a[c],0<n.metadata.val&&(n.conditionOn?n.metadata.val-n.metadata.on&&(n.Button.controller.onAll(n.Button.model),S(r("summary."+n.name+"On")),E(n.name)):n.conditionOff&&(n.Button.controller.offAll(n.Button.model),S(r("summary."+n.name+"Off")),E(n.name)));return d},gameUpgrade:function(){var a=
k.auto;let b=a.upgrade.items.upgrades;a=a.cache;let c=a.upgrade;if(c){game.upgrade(c);for(let d in c)delete c[d];a.upgrade=null}else game.updateCaches();b.update&&(game.updateCaches(),b.update=null)},setTrait:function(a){let b=game.village.leader;var c=k.auto,d=c.distribute;if(!c.options.items.promote.enabled||!d.items.leader.enabled||!d.enabled)return F("changeLeader","","noFilter");if(a){if(game.science.get("civil").researched&&b&&!game.challenges.isActive("anarchy")){c=k.auto.cache;d=game.village.traits.some(e=>
e.title===$I("village.trait."+a));if(!c.trait[a]&&d){c.trait[a]=!0;var f=$I("village.bonus.desc."+a);f=["\u5f53"+f.slice(0,2)+"\u9879\u76ee\u65f6"+$I("village.trait."+a)+"\u732b\u732b\u81ea\u89c9\u9876\u66ff\u5f53\u524d\u9886\u8896\uff0c\u5176\u6548\u679c\u4e3a"+f];1E4<game.ticks?F("leader",!0):F("leader","","leaderFilter");H("set.leader",[f],"leaderFilter")}k.copyTrait||(f=b.trait.name,k.copyTrait=f,c.trait[f]=!0);d||(c.trait[a]=!1);if(d||k.copyTrait===a)b.trait.name=a}}else k.copyTrait&&b&&$I("village.trait."+
k.copyTrait)===b.trait.title&&(b.trait.name=k.copyTrait,k.copyTrait=void 0)},catnipForReligion:function(a){a=a||0;let b=1;var c=game.religion.getRU("transcendence").on?game.religion.transcendenceTier:0;a&&(c+=1);var d=.01+m.faith.value*(1+.1*game.getUnlimitedDR(game.religion.faithRatio+game.religion.faith/1E6*(c+1)*(c+1)*1.01-a,.1));d=game.getLimitedDR(game.getUnlimitedDR(d,1E3)/100,10+game.getEffect("solarRevolutionLimit"));10>c&&(b=game.village.getResConsumption().catnip*(1+game.getEffect("catnipDemandRatio")),
0<game.village.sim.kittens.length&&1<game.village.happiness&&(b+=b*Math.max(game.village.happiness*(1+game.getEffect("hapinnessConsumptionRatio"))-1,0)*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))),c=1+game.religion.getSolarRevolutionRatio()*(1+game.bld.pollutionEffects.solarRevolutionPollution),b=(m.catnip.perTickCached-b)*(1+d)/c+b+game.globalEffectsCached.catnipPerTickCon);0>b&&(k.auto.distribute.religion||(k.auto.distribute.religion=!0),a&&(H("summary.transcend.catnip",[game.getDisplayValueExt(5*
b)]),O.other["transcend.catnip"]=5*b),a||(H("summary.adore.catnip",[game.getDisplayValueExt(5*b)]),O.other["adore.catnip"]=5*b));return b},getBestUnicornBuilding:function(){var a=game.bld.getBuildingExt("unicornPasture").meta;if(a.unlocked){var b=Infinity,c="",d=1-game.getEffect("goldCostReduction"),f=game.bld.getBuildingExt("ziggurat").meta.on,e=Math.max(f,1),g=game.getEffect("unicornsRatioReligion")+1,h=500*(.9+.1*g),l=game.prestige.getPerk("unicornmancy").researched?1.1:1,p=game.getEffect("riftChance")*
l/2E4*h;h="unicorns";var q=m.unicorns,n=q.perTickCached,t=game.calendar.cycleEffectsFestival({unicorns:1}).unicorns,u=q.perTickCached*game.getTicksPerSecondUI()/t;if(!u)return a;var v=u/Math.max(1,a.val),C=2*Math.pow(a.priceRatio+game.getEffect("priceRatio"),a.val);v=C/v;var y=1.5*game.prestige.getParagonProductionRatio()+1.5,z=m.tears.value+2500*q.value/e>Math.max(1E6,y*m.ivory.value);z=z||m.ivory.perTickCached*y*t<n&&2E4<m.manpower.maxValue;z&=m.alicorn.unlocked;n="tears";z&&(h=n="ivory");v=z?3E3*
v:v;v<b&&(b=v,c=a);a:for(v=0;6>v;v++)if(t=game.religion.meta[0].meta[v],t.unlocked){let J;y=0;var w=g;if(t.effects.unicornsRatioReligion&&(!z||t.effects.alicornChance)){var x=Math.pow(1.15,t.on);for(var G=0;G<t.prices.length;G++){var B=t.prices[G];let A=B.name;B=B.val;A===n&&(y+=B*x*2500/e,w+=t.effects.unicornsRatioReligion);if("gold"===A&&B*d*x>m.gold.maxValue)continue a;"tears"===A&&(J=B*x*2500/e)}G=game.getEffect("riftChance");x=t.effects;x.riftChance&&(G+=x.riftChance);G=G*l/2E4*(50*w+450);G-=
p;w=u*w/g;w-=u;w+=G;w=y/w;z&&x.tcRefineRatio&&(w*=.5-x.tcRefineRatio);w<b&&(b=w,c=t);z&&q.value>J+C&&(c=a)}}f&&(a=c.label||"\u72ec\u89d2\u517d\u7267\u573a",a+="("+r("$resources."+h+".title")+"\u6027\u4ef7\u6bd4)",O.other["auto.unicorn"]!==a&&(O.other["auto.unicorn"]=a,H("summary.auto.unicorn",[a],"unicornSacrificeFilter")));return c}}};let Z=function(a){this.setTab(a)};Z.prototype={tab:void 0,render:function(){this.tab&&game.ui.activeTabId!==this.tab.tabId&&!this.tab._inherited&&setTimeout(()=>{this.tab.render()},
200+Math.max(-Date.now()+game.timer.timestampStart,-200))},setTab:function(a){for(const b in game.tabs)if(game.tabs[b].tabId===a){this.tab=game.tabs[b];break}this.tab?this.render():ja("unable to find tab "+a)}};let xa=function(){this.manager=new Z("Religion");this.bulkManager=new ka};xa.prototype={manager:void 0,bulkManager:void 0,build:function(a,b,c){var d=this.getBuild(a,b);a=this.getBuildButton(a,b);if(!a||!a.model.metadata)return game.religionTab.render();if(!a.model.enabled&&(a.model.prices=
a.controller.getPrices(a.model),a.controller.updateEnabled(a.model),!a.model.enabled))return;c=this.bulkManager.construct(a.model,a,c);if(0!==c)if(ha(a.model.prices),game.stats.getStat("totalClicks").val+=1,d=d.label,"s"===b){if(k.auto.cache.trait.wise)return E("\u54f2\u5b66\u5bb6\u5c0f\u732b\u7977\u544a\u4e86 "+d,c,"faith"),H("act.sun.discovers.leader",[d,c],"faithBuildFilter");1===c?H("act.sun.discover",[d],"faithBuildFilter"):H("act.sun.discovers",[d,c],"faithBuildFilter");E("\u5c0f\u732b\u7977\u544a\u4e86 "+
d,c,"faith")}else E(d,c,"build"),1===c?H("act.build",[d],"buildFilter"):H("act.builds",[d,c],"buildFilter")},getBuild:function(a,b){switch(b){case "z":return game.religion.getZU(a);case "s":return game.religion.getRU(a);case "c":return game.religion.getTU(a)}},getBuildButton:function(a,b){let c;switch(b){case "z":c=this.manager.tab.zgUpgradeButtons;break;case "s":c=this.manager.tab.rUpgradeButtons;break;case "c":c=this.manager.tab.children[0].children[0].children}let d=this.getBuild(a,b);for(a=0;a<
c.length;a++)if(c[a]&&(b=c[a].model.name,-1!==b.indexOf(d.label)))return c[a]}};let ya=function(){this.manager=new Z("Time");this.crafts=new da;this.bulkManager=new ka};ya.prototype={manager:void 0,crafts:void 0,bulkManager:void 0,build:function(a,b,c){var d=this.getBuild(a,b);a=this.getBuildButton(a,b);if(!a||!a.model.metadata)return game.timeTab.render();if(!a.model.enabled)return a.controller.updateEnabled(a.model);d=d.label;c=this.bulkManager.construct(a.model,a,c);0!==c&&(ha(a.model.prices),
E(d,c,"build"),1===c?H("act.build",[d],"buildFilter"):H("act.builds",[d,c],"buildFilter"))},getBuild:function(a,b){return"chrono"===b?game.time.getCFU(a):game.time.getVSU(a)},getBuildButton:function(a,b){let c;c="chrono"===b?this.manager.tab.children[2].children[0].children:this.manager.tab.children[3].children[0].children;a=this.getBuild(a,b);for(let d in c)if(-1!==c[d].model.name.indexOf(a.label))return c[d]}};let Ha=function(){this.workManager=new Z("Workshop");this.sciManager=new Z("Science");
this.crafts=new da};Ha.prototype={manager:void 0,crafts:void 0,build:function(a,b){var c,d=this.getBuildButton(a,b);if(d&&d.model.metadata){if(!d.model.enabled&&(d.model.prices=d.controller.getPrices(d.model),d.controller.updateEnabled(d.model),!d.model.enabled))return;if("policy"===b){var f=d.model.metadata;if(game.village.leader&&f.requiredLeaderJob&&game.village.leader.job!==f.requiredLeaderJob){var e=game.village.getJob(f.requiredLeaderJob).title;game.msg($I("msg.policy.wrongLeaderJobForResearch",
[f.label,e]),"important");return}if("transkittenism"===f.name&&15<=game.bld.getBuildingExt("aiCore").meta.effects.aiLevel){game.msg($I("msg.policy.aiNotMerges"),"alert","ai");return}if(!1===f.blocked)for(c=0;c<f.blocks.length;c++)if(game.science.getPolicy(f.blocks[c]).researched){f.blocked=!0;return}}f=k.auto.upgrade.items.upgrades;d.model.prices=d.controller.getPrices(d.model);d.controller.payPrice(d.model,{},function(){});ha(d.model.prices);d=d.model.metadata;d.researched=!0;d.handler&&d.handler(game,
d);d.unlocks&&game.unlock(d.unlocks);if(d.blocks)for(c in d.blocks)game.science.getPolicy(d.blocks[c]).blocked=!0;if(d.onResearch)d.onResearch(game);d.upgrades&&("workshop"!==b||f.update||(f.update=!0),ra(d.upgrades));game.stats.getStat("totalClicks").val+=1;c=a.label;var g=(d=k.auto.cache.trait.scientist)?"\u79d1\u5b66\u5bb6\u5c0f\u732b":"\u5c0f\u732b";d=d?1:0;if("workshop"===b){if(E(c,d,"upgrade"),H("upgrade.upgrade",[c,g],"upgradeFilter"),a.name===f.cache)for(e in f.cache=!1,a=k.auto.cache.resUpg,
k.auto.cache.resUpg)delete a[e]}else"science"===b?(E(c,d,"research"),H("upgrade.tech",[c,g],"researchFilter")):"policy"===b&&H("upgrade.policy",[c],"policyFilter")}else"workshop"===b?game.workshopTab.render():game.libraryTab.render()},getValue:function(a,b){var c=k.auto.resources[a];c=c&&c.enabled?c.stock:0;let d=k.auto.upgrade.items.upgrades.cache;k.auto.craft.oxidation&&"oxidation"!==b&&("science"===a&&5E3<m.steel.value&&(c+=1E5),"steel"===a&&(c+=5E3));"titanium"===a&&"rotaryKiln"!==b&&("rotaryKiln"!==
b&&!game.workshop.metaCache.rotaryKiln.researched&&game.workshop.get("orbitalGeodesy").researched&&(c+=5E3),"orbitalGeodesy"===d&&d!==b&&(c+=1E3));"iron"===a&&"ironwood"!==b&&O.other["auto.ironwood"]&&(c+=3E3);"alloy"===a&&d&&d!==b&&(c+=k.auto.cache.resUpg[a]);"oil"===a&&"orbitalGeodesy"!==b&&20<game.bld.get("calciner").val&&!game.workshop.metaCache.orbitalGeodesy.researched&&(c+=35E3);return Math.max(m[a].value-c,0)},getBuildButton:function(a,b){let c;"workshop"===b?c=this.workManager.tab.buttons:
"science"===b?c=this.sciManager.tab.buttons:"policy"===b&&(c=this.sciManager.tab.policyPanel.children);for(let d of c)if(d.model.name===a.label)return d}};let va=function(){this.manager=new Z("Bonfire");this.crafts=new da;this.bulkManager=new ka};va.prototype={manager:void 0,crafts:void 0,bulkManager:void 0,build:function(a,b,c){let d=this.getBuild(a);a=this.getBuildButton(a,b);if(d.meta.unlocked){if(!a||!a.model.metadata)if(game.bldTab.activeGroup="all",!a||!a.model.metadata)return game.bldTab.render();
if(!a.model.enabled)return a.controller.updateEnabled(a.model);b=d.meta.label?d.meta.label:d.meta.stages[b].label;c=this.bulkManager.construct(a.model,a,c);0!==c&&(ha(a.model.prices),E(b,c,"build"),game.stats.getStat("totalClicks").val+=1,1===c?H("act.build",[b],"buildFilter"):H("act.builds",[b,c],"buildFilter"))}},count:function(a,b){if(b){var c=game.challenges.isActive("atheism"),d=game.religion.getRU("solarRevolution");game.workshop.get("geodesy");var f=game.workshop.get("orbitalGeodesy").researched,
e=game.workshop.get("spaceManufacturing").researched,g=game.prestige.getPerk("vitruvianFeline").researched,h=m.minerals.value>.94*m.minerals.maxValue,l=m.wood.value>.94*m.wood.maxValue,p=m.titanium.value>=.9*m.titanium.maxValue,q=game.science.metaCache,n=this.crafts.getPotentialCatnip(!1),t=game.bld.getBuildingExt("amphitheatre").meta;game.space.getProgram("moonMission");switch(a){case "chapel":if(!("chapel"!==a||18>game.bld.getBuildingExt(a).meta.val||(game.calendar.festivalDays||(b=0),f))){b=Math.floor(.4*
b);var u=!0}break;case "aqueduct":if(2>n||game.challenges.isActive("winterIsComing"))break;else e||(b=Math.floor(.4*b));case "library":if("library"===a&&!q.writing.unlocked)break;case "academy":case "pasture":case "barn":if("barn"===a&&1600>m.minerals.maxValue)break;if(h&&l)break;case "warehouse":if("warehouse"===a)if(5E4>m.minerals.maxValue){if(game.workshop.get("deepMining").researched||20>game.bld.getBuildingExt(a).meta.val)break}else g&&!e&&(b=Math.floor(.3*b));case "lumberMill":if("lumberMill"===
a)if(35>game.bld.getBuildingExt(a).meta.val){if(!game.getEffect("lumberMillRatio")&&3.1<game.bld.getEffect("woodRatio")&&1200<m.iron.maxValue&&(b=0),m.gold.value||.3>game.getEffect("ironPerTickAutoprod"))break}else e||(u=!0);case "oilWell":if("oilWell"===a){p=game.bld.getBuildingExt(a).meta.val;if(8>p||2E4>m.oil.maxValue)break;55E3<m.oil.maxValue&&3E4<m.oil.value&&199>p&&(b=Math.floor(.5*b));if(20<game.bld.getBuildingExt("calciner").meta.val&&!f)break}case "quarry":g&&(!f&&game.bld.get(a).val?(u=
!0,F("lower")):f&&F("lower",!0));break;case "harbor":"harbor"===a&&(8>game.bld.getBuildingExt(a).meta.val?(F("harbor"),u=!0):20>game.bld.getBuildingExt("reactor").meta.val&&7.5<game.religion.getSolarRevolutionRatio()?u=!0:f||game.workshop.get("geodesy").researched?e&&F("harbor",!0):u=!0,50<game.bld.getBuildingExt(a).meta.val&&6E3>m.plate.value&&(b=Math.floor(.5*b)));break;case "logHouse":!t.stage&&5>t.val&&3>game.village.happiness&&18<game.village.maxKittens&&(u=!0);break;case "biolab":e||(b=1);break;
case "factory":if(!g)break;e?game.space.getBuilding("sattelite").val||!game.bld.get(a).val||c||(k.auto.space.items.sattelite.enabled=!0,b=0):(f=game.bld.getBuildingExt(a).meta.val,13E4>m.titanium.maxValue&&f&&70>m.titanium.perTickCached&&!p&&(b=0),2<f&&!p&&(b=Math.floor(.4*b),u=!0));break;case "accelerator":if(!g)break;game.workshop.get("energyRifts").researched||(b=0);!e&&13E4<m.titanium.maxValue&&(b=0);break;case "mansion":g=g||!g&&game.workshop.get("geodesy").researched&&"mansion"===a&&130>game.village.sim.kittens.length,
!e&&1<game.stats.getStat("totalResets").val&&!p&&g&&(F("mansion"),u=!0),4>m.starchart.perTickCached&&"mansion"===a&&!p&&g&&(u=!0)}u?b=Math.floor(.5*b):d.on||c||(b=Math.ceil(.5*b));n=.85>n&&1E3>m.catnip.value/Math.abs(n);n&=2<m.kittens.value&&k.auto.distribute.items.farmer.enabled;"hut"!==a&&"logHouse"!==a||!b||(n?(b=0,F("kittens")):F("kittens",!0));return b}},getBuild:function(a){return game.bld.getBuildingExt(a)},getBuildButton:function(a,b){let c=this.manager.tab.children;a=this.getBuild(a);b="undefined"===
typeof b?a.meta.label:a.meta.stages[b].label;for(const d in c)if(-1!==c[d].model.name.indexOf(b))return c[d]},getSumPrices:function(a,b){let c=(a.priceRatio?a.priceRatio:a.stages[a.stage].priceRatio)+game.getEffect("priceRatio");return(b.val-b.val*Math.pow(c,a.val-1))/(1-c)},sellBuild:function(a){a=this.getBuild(a).meta;let b=a.stages[a.stage].prices;for(let c=0;c<b.length;c++){let d=b[c];if(m[d.name].isRefundable()&&!d.isTemporary&&a.val){let f=this.getSumPrices(a,d);game.resPool.addResEvent(d.name,
.5*f)}}a.on=0;a.val=0}};let wa=function(){this.manager=new Z("Space");this.crafts=new da;this.bulkManager=new ka};wa.prototype={manager:void 0,crafts:void 0,bulkManager:void 0,build:function(a,b){let c=this.getBuild(a),d=this.getBuildButton(a);if(c.unlocked&&k.auto.space.items[a].enabled){if(!d||!d.model.metadata)return game.spaceTab.render();if(!d.model.enabled)return d.controller.updateEnabled(d.model);a=c.label;b=this.bulkManager.construct(d.model,d,b);0!==b&&(ha(d.model.prices),E(a,b,"build"),
game.stats.getStat("totalClicks").val+=1,1===b?H("act.build",[a],"spaceFilter"):H("act.builds",[a,b],"spaceFilter"))}},getBuild:function(a){return game.space.getBuilding(a)},getBuildButton:function(a){const b=this.manager.tab.planetPanels;for(const c in b)for(let d in b[c].children)if(b[c].children[d].id===a)return b[c].children[d]}};let da=function(){this.cacheManager=new za};da.prototype={craft:function(a,b){b=Math.floor(b);if(a&&!(1>b)&&this.canCraft(a,b)){var c=this.getCraft(a),d=game.getResCraftRatio(c.name)+
1,f=k.auto.cache.trait.engineer&&game.village.leader,e=f?"\u5de5\u5320\u5c0f\u732b\u5236\u4f5c\u4e86 ":"\u5c0f\u732b\u5236\u4f5c\u4e86 ";b=Math.ceil(b);d*=b;var g=dojo.clone(game.workshop.getCraftPrice(c));for(var h=g.length-1;0<=h;h--){let l=g[h];l.val*=b;E(l.name,l.val,"resConsume")}f&&(h=game.village.getEffectLeader("engineer",0),f&&"metallurgist"===m[a].tag&&k.auto.cache.trait.metallurgist&&(d+=b*h,e="\u51b6\u91d1\u5b66\u5bb6\u5c0f\u732b\u5236\u4f5c\u4e86 "),"chemist"===m[a].tag&&k.auto.cache.trait.chemist&&
(d+=.5*b*h,e="\u5316\u5b66\u5bb6\u5c0f\u732b\u5236\u4f5c\u4e86 "));game.resPool.payPrices(g);game.resPool.addResEvent(c.name,d);c.upgrades&&ra(c.upgrades);game.stats.getStat("totalCrafts").val++;game.stats.getStatCurrent("totalCrafts").val++;game.stats.getStat("totalClicks").val+=1;a=m[a].title;b=d;f?E(a,b,"craftLeader"):E(a,b,"craft");H("act.craft",[e+game.getDisplayValueExt(b),a],"craftFilter")}},canCraft:function(a,b){var c=this.getCraft(a);a=!1;if(c.unlocked){a=!0;c=game.workshop.getCraftPrice(c);
for(let d in c){let f=c[d];m[f.name].value<f.val*b&&(a=!1)}}return a},getCraft:function(a){return game.workshop.getCraft(a)},getLowestCraftAmount:function(a,b,c,d){var f=Number.MAX_VALUE;let e=game.workshop;var g=this.getMaterials(a);if(!g||Infinity===m[a].value)return 0;let h=this.getValueAvailable(a,!0);let l;var p=game.bld.get("temple"),q=Math.pow(p.priceRatio+game.getEffect("priceRatio"),p.val),n=game.prestige.getPerk("renaissance").researched,t=this.getCraft(a),u=k.auto.craft;let v=game.getResCraftRatio(t.name)+
1;var C=u.trigger,y=m.ship.value;if("ship"===a){l=k.auto.options.enabled&&k.auto.options.items.shipOverride.enabled;t=k.auto.options.items.shipOverride.subTrigger;var z=e.get("geodesy").researched;var w=game.religion.getSolarRevolutionRatio();t=z?Math.max(243,t):60/Math.max(.3,Math.log1p(w));l&=y<t;l&=!e.get("oxidation").researched&&!u.oxidation||!w}let x=Number.MAX_VALUE/v+Number.MAX_VALUE/Math.pow(2,53)/v;var G=game.science,B=G.meta[0];w=G.get("navigation").researched;let J=k.auto.cache;var A=V=>
{var P=J.science?J.science:"\u79d1\u5b66";l=!0;"\u6cb9\u6c14\u5904\u7406"!==P&&(k.auto.filter.items.miscFilter.enabled||(P=game.msg(r("craft.force",[m[V].title,P]),null,null,!0),$(P.span).css("color","#ff589c")),E("craft"+W(V),1))};if("beam"===a||"slab"===a){var K=Object.keys(g)[0];2>R(K)&&(u.autoConsume[K]=0,500<m.scaffold.value&&.9<C&&b&&(u.autoConsume[K]=1,C=.9),!m[a].value&&m.slab.value&&(l=!0))}"megalith"===a&&b&&m[a].unlocked&&15<game.diplomacy.get("nagas").embassyLevel&&!game.calendar.season&&
!h&&(f=1,l=!0);z=k.auto.options.items.hunt;t="fullIron"===z.time&&z.enabled;if("plate"===a&&b&&u.items.steel.enabled){var T=game.getResourcePerTick("coal",!0);C*=this.getResource("coal").maxValue;var N=game.bld.getBuildingExt("reactor").meta;N=Math.pow(game.getEffect("priceRatio")+N.priceRatio,N.val);N=m.titanium.value>3500*N&&m.uranium.value>300*N&&h<5E3*N;0<T&&m.iron.value!==m.iron.maxValue&&150<h&&!N&&.8<this.getValueAvailable("plate")/this.getValueAvailable("steel")&&(f=(C-this.getValue("coal"))/
T*Math.max(game.getResourcePerTick("iron",!0),0),f=.008*(this.getValueAvailable("iron")-Math.max(C-f,0)));N&&(l=!0);750>m.faith.maxValue&&30<m.gold.value&&23>m[a].value&&3<v&&(l=!0);!y&&3<v&&25<=m.starchart.value&&150>h&&(f=Math.ceil(Math.min(m.iron.value/100,(150-h)/v)),l=!0);t&&(l=!0)}y=this.getValueAvailable("science",!0);T=m.science.value/m.science.maxValue;C=m.culture.value/m.culture.maxValue;if("manuscript"===a&&b){var X=J.resources.manuscript;N=X?17:19;for(K=16;K<N;K++){let V=B.meta[K],P=X||
V.prices[1].val;if(!V.researched||0<X){P=(p=(p=16===K&&4>game.village.happiness&&1===p.val&&n)||750<m.faith.maxValue||15>m.plate.value)?P:10*q;q=game.science.getPolicy("tradition").researched?20:25;f=Math.ceil((P-h)/v);this.getValueAvailable("parchment",!0)>f*q&&1<=f&&m.culture.value>16*q*f&&(J.science=0<X?J.science:V.label,J.science=p?J.science:"\u795e\u6bbf",A("manuscript"),J.resources.manuscript=0);break}}!w&&.9<C&&65>h&&(l=!0);d&&2500>4E3*this.getTickVal(m.parchment,!0)&&(b=!1)}q=500>m.gold.maxValue||
game.religion.getRU("solarRevolution").on||2E3>game.religion.faith;if("compedium"===a&&b&&w&&q){N=(q=J.resources.compedium)?19:27;for(K=18;K<N&&(!game.prestige.getPerk("numerology").researched||game.calendar.festivalDays||!game.science.get("drama").unlocked);K++)if(p=B.meta[K],(!p.researched||0<q)&&"metaphysics"!==p.name&&"drama"!==p.name){if(p.prices[1].name===a||q)f=Math.ceil(((q||p.prices[1].val)-h)/v),N=this.getValueAvailable("manuscript",!0),X=y>1E4*f||1<=T,N>50*f&&1<=f&&X?(J.science=0<q?J.science:
p.label,A("compedium"),J.resources.manuscript=0,J.resources.compedium=0):1<=f&&(J.resources.manuscript=50*f,J.science=0<q?J.science:p.label);break}!B.meta[32].researched&&.98<C&&100>h&&.98<T&&(l=!0)}if("blueprint"===a&&b&&G.get("electricity").researched)for(K=30;44>K;K++)if(G=B.meta[K],!(G.researched||-1<["quantumCryptography","blackchain","ecology","ai"].indexOf(G.name))){G.prices[1].name===a&&(f=Math.ceil((G.prices[1].val-h)/v),B=this.getValueAvailable("compedium",!0),q=y>25E3*f||1<=T,B>25*f&&1<=
f&&q?(J.science=G.label,A("blueprint"),J.resources.manuscript=0,J.resources.compedium=0):1<=f&&(J.resources.compedium=25*f,J.science=G.label));break}c=this.getLimRat(a,b,c);"parchment"===a&&(b=2.1>v,!m[a].value&&1.5<v&&(l=!0,f=2),w||(300<h&&(b=!0),500<h&&(f=0,F("parchment"))));for(K in g)w=0,w=g[K],w=!b||l||0<m[K].maxValue&&d?this.getValueAvailable(K,l)/w:c*((this.getValueAvailable(K,!0)+w/v*h)/w)-h/v,x=Math.min(w,x,f);"steel"===a&&b&&(c=game.bld.getBuildingExt("calciner").meta,this.getValueAvailable("steel"),
m.iron.value<1.25*Math.max(1,m.coal.perTickCached/m.iron.perTickCached)*m.steel.value&&!u.oxidation&&(x=0),g=(V,P)=>{let aa;if(V&&(aa=e.get(V),P=aa.prices,!aa.unlocked))return;if(!V||!aa.researched){for(let Ka in P)if("steel"===P[Ka].name)var ea=P[Ka].val;P=Math.ceil((ea-h)/v);ea=this.getValueAvailable("iron",!0)>100*P&&this.getValueAvailable("coal",!0)>100*P;0<P&&ea&&(x=P,l=!0,V&&S(r("craft.forceSteel",[aa.label])))}},g("steelSaw"),g("steelAxe"),g("steelArmor"),K=this.getUnResearched("oxidation"),
(f=c.val)?(c.isAutomationEnabled?F("ironFactory"):(c=.003*(1+.1*game.bld.get("reactor").on)*(game.getEffect("calcinerRatio")+1)*game.bld.getAutoProductionRatio()*(1+game.getEffect("ironPolicyRatio"))*game.calendar.cycleEffectsFestival({iron:1}).iron*f*(1+game.getEffect("ironPolicyRatio")),x=0>=x?c:x+c,c=.01*Math.min(m.coal.value,m.iron.value),x>c&&(x=c)),f&&(g("oxidation"),c=k.auto.upgrade.items.upgrades,K&&(w=Math.ceil((5E3-h)/v),2400>Math.min((100*w-m.coal.value)/m.coal.perTickCached,(100*w-m.iron.value)/
m.iron.perTickCached)&&(u.oxidation=!0,F("oxidation"))),w=m.alloy.value,this.getUnResearched("orbitalGeodesy")&&17E3<m.oil.value&&35E3<m.oil.maxValue&&1E3>m.uranium.value&&(A=Math.ceil((1E3-w)/v),B=m.titanium.value>5*A||300<m.alloy.value&&20<f,0<A&&B&&!c.cache&&100>A/m.titanium.perTickCached&&(k.auto.cache.resUpg.alloy=1E3,c.cache="orbitalGeodesy")),this.getUnResearched("fluidizedReactors")&&!c.cache&&(A=Math.ceil((200-w)/v),B=m.titanium.value>10*A||50<m.alloy.value||60>A/m.titanium.perTickCached,
0<A&&6<f&&B&&(k.auto.cache.resUpg.alloy=200,c.cache="fluidizedReactors")),(f=k.auto.cache.resUpg.alloy)&&g("",[{name:"steel",val:75*Math.ceil((f-w)/v)}]))):game.challenges.isActive("blackSky")&&g("",[{name:"steel",val:1100}]),K||(u.oxidation=null,F("oxidation",!0)),z.time&&.98<R("iron")&&(z.time="fullIron"));"alloy"===a&&b&&(u=(V,P)=>{V=e.get(V);!V.researched&&V.unlocked&&(P=Math.ceil((P-m.alloy.value)/v),1<P&&m.steel.value>75*P&&m.titanium.value>10*P&&(x=P,l=!0,S(r("craft.forceSteel",[V.label]))))},
35E3<m.oil.value&&u("orbitalGeodesy",1E3),u("fluidizedReactors",200),u("alloyAxe",25));"eludium"===a&&b&&!d&&t&&game.time.getCFU("ressourceRetrieval").on>8-2*n&&(x=Math.max(x,1));if(1>x)return 0;n=m[a].maxValue;a=m[a].value;0<n&&x*v>n-a&&(x=(n-a)/v);!b||l||d&&"noRequire"!==d||(x*=Math.max(Math.min(Math.log(v-1),1),.2));return x},getMaterials:function(a){let b={};if(a=this.getCraft(a)){a=game.workshop.getCraftPrice(a);for(const c in a){let d=a[c];b[d.name]=d.val}return b}},getTickVal:function(a,b){let c=
game.getResourcePerTick(a.name,!0);if("timeCrystal"===a.name){var d=game.getEffect("alicornChance"),f=game.getResourcePerTick("alicorn"),e=.04*(1+game.getEffect("tcRefineRatio"));d*=1+game.getLimitedDR(game.getEffect("alicornPerTickRatio"),1.2);d=.2*Math.min(d,1)*(1+game.timeAccelerationRatio());c+=(d+f)*e}if(a.craftable){f=Number.MAX_VALUE;e=this.getMaterials(a.name);for(var g in e){d=(1+game.getResCraftRatio(a.name))/e[g];let h=this.getTickVal(this.getResource(g));f=Math.min(h*d,f)}c+=f===Number.MAX_VALUE?
0:f}g="spice"===a.name||"blueprint"===a.name;if(0>=c&&g)return"ignore";b||(b=1,"unobtainium"===a.name&&game.time.getCFU("ressourceRetrieval").val&&5!==game.calendar.cycle&&(b=.5),c+=this.cacheManager.getResValue(a.name)*b);return c},getAverageHunt:function(){let a={},b=game.getEffect("hunterRatio")+game.village.getEffectLeader("manager",0);a.furs=40+32.5*b;a.ivory=50*Math.min(.225+.01*b,.5)+40*b*Math.min(.225+.01*b,.5);a.unicorns=.05;10<=this.getValue("zebras")&&(a.bloodstone=0===this.getValue("bloodstone")?
.05:5E-4);game.ironWill&&game.workshop.get("goldOre").researched&&(a.gold=.625+.625*b);return a},getResource:function(a){let b=m[a];if(b)return b;ja("unable to find resource "+a);return null},getValue:function(a){return this.getResource(a).value},getStock:function(a){var b=k.auto.resources[a];let c=b&&b.enabled?b.stock:0;if(!game.workshop.get("spaceManufacturing").researched){b=game.workshop;var d=b.get("orbitalGeodesy").researched,f=k.auto.cache.resUpg[a];switch(a){case "iron":var e=game.bld.get("lumberMill").val>
19-40*game.getEffect("priceRatio");f=50>m.gold.value&&e;if(2<game.bld.getBuildingExt("temple").meta.on||749<m.faith.maxValue||f||18<m.plate.value)f=(g,h,l)=>{g&&1E4>m.iron.value&&(c+=h,F(l))},d=this.getUnResearched("reinforcedSaw")&&200<m[a].value&&1E3<m[a].maxValue,e=this.getUnResearched("crossbow")&&e&&1500<m[a].maxValue,a=this.getUnResearched("ironwood")&&800<m[a].value&&3E3<m[a].maxValue&&3E4<m.science.maxValue&&!game.ironWill,f(d,1E3,"reinforcedSaw"),f(e,1500,"crossbow"),f(a,3E3,"ironwood"),
b.get("orbitalGeodesy").researched&&(F("ironwood",!0),F("crossbow",!0),F("ironwood",!0));break;case "alloy":f&&(c+=f);break;case "steel":this.getUnResearched("steelAxe")&&3E3<m.coal.value&&(30<game.bld.get("lumberMill").val||10<m[a].value)&&(c+=75);this.getUnResearched("steelSaw")&&250<m[a].value&&(c+=750,F("steelSaw"));k.auto.craft.oxidation&&this.getUnResearched("oxidation")&&(c+=5E3);game.challenges.isActive("blackSky")&&!m.titanium.perTickCached&&1100>m.steel.value&&(c+=1100);(a=k.auto.cache.resUpg.steel)&&
(c+=a);f&&(c+=75*f/game.getEffect("craftRatio"));f&&(c+=f);break;case "titanium":this.getUnResearched("rotaryKiln")&&d&&(c+=5E3);this.getUnResearched("spaceManufacturing")&&24<game.bld.get("reactor").val&&125E3<m.titanium.maxValue&&(c+=13E5);break;case "gear":this.getUnResearched("rotaryKiln")&&d&&5E3<m.titanium.value&&(c+=5E3);this.getUnResearched("fuelInjectors")&&.8>R("coal")&&2E4<m.oil.value&&(c+=250);break;case "beam":this.getUnResearched("deepMining")&&1200<m.iron.value&&(c+=5E3)}}return c?
c:0},getValueAvailable:function(a,b,c){let d=this.getValue(a),f=this.getStock(a);d=0!==this.getResource(a).maxValue&&Infinity==d?Number.MAX_VALUE:d;var e=c||0===c?c:void 0===c?1:k.auto.craft.trigger;if("catnip"===a){var g=this.getPotentialCatnip(!1);e=0!==game.calendar.season||this.getResource(a).maxValue*e<d||0>game.getResourcePerTick("catnip",!0);0>g&&e&&(f-=1500*g,k.auto.options.catnipMsg+6E5<Date.now()&&(5>game.stats.getStat("totalResets").val&&S(r("msg.catnip")),S(r("craft.winterCatnip")),k.auto.options.catnipMsg=
Date.now()))}d=Math.max(d-f,0);g=c&&!b?d:this.getResource(a).maxValue;if(!b&&0<g){b=(b=k.auto.resources[a])&&b.enabled&&void 0!==b.consume?b.consume:k.consume;if(k.auto.craft.autoConsume[a]&&!c||"coal"===a)b=1;d-=Math.min(g,d)*(1-b);"unobtainium"===a&&1E3>d+f&&this.getResource(a).value===g&&1E3<=this.getResource(a).value&&(d=this.getResource(a).value)}return d},getUnResearched:function(a){a=game.workshop.metaCache[a];return a.unlocked&&!a.researched},getLimRat:function(a,b,c){if(!b)return c;let d=
game.science.get("navigation");b=m[a];var f=m.ship.value;let e=game.space,g=e.getProgram("piscineMission");game.prestige.getPerk("renaissance");var h=game.bld.get("reactor"),l=game.getEffect("priceRatio"),p=game.bld.get("steamworks");let q=game.bld.get("magneto"),n=game.bld.getBuildingExt("temple").meta,t=Math.pow(n.priceRatio+l,n.val);var u=game.religion.getSolarRevolutionRatio();switch(a){case "wood":c=.09+b.perTickCached<m.catnip.perTickCached/game.workshop.getCraft("wood").prices[0].val&&this.getPotentialCatnip()?
1:c;break;case "beam":c=d.unlocked||500>m.gold.maxValue||1E3<m.iron.value&&!m.coal.value?c:.005;c=500>m.scaffold.value?c:.02;break;case "slab":l=750>m.faith.maxValue&&51>b.value&&35<m.gold.value;c=m.scaffold.value||l||h.val&&2500>b.value?c:.005;c=500>m.scaffold.value?c:.1;c=2500<m.scaffold.value&&2500<b.value?.02:c;break;case "ship":h=5*h.val+225;l=m.titanium.maxValue;p=(b=!g.on&&9>e.getBuilding("sattelite").val&&b.value)&&6<u&&125E3>l&&!g.val;b=b&&6<u&&12E4<l;c=f>.75*h&&2<u&&1E5>m.starchart.value?
.3:c;c=p||.9<R("titanium")?.05:c;c=b&&(!game.workshop.get("satnav").researched||123E3<l)?0:c;c=f>Math.max(400,l)?0:c;break;case "plate":h=3500<m.titanium.value&&250<m.uranium.value&&!h.val;l=n.on&&12>n.on&&u&&b.value<15*t;c=game.getEffect("calcinerRatio")||l?c:.3;c=150>b.value&&d.researched&&10<m.starchart.value&&50<m.scaffold.value||h?.9:c;c=k.auto.craft.oxidation&&!game.workshop.get("oxidation").researched?0:c;break;case "alloy":h=game.bld.getBuildingExt("calciner").meta.val;u=Math.pow(q.priceRatio+
l,q.val);c=p.on<q.on||2>h?c:.75;c=b.value>Math.max(1250,10*u)&&k.auto.build.items.magneto.enabled?.01:c;c=17>m.titanium.value&&!h||2>h&&game.challenges.isActive("blackSky")?0:c;break;case "steel":c=k.auto.craft.oxidation?1:c;break;case "eludium":c=game.time.getCFU("ressourceRetrieval").on?.1:c;c=125>b.value&&-1.06<game.getEffect("hutPriceRatio")?1:c;break;case "megalith":p=game.bld.getBuildingExt("ziggurat").meta;u=Math.pow(p.priceRatio+l,p.val);h=Math.pow(h.priceRatio+l,h.val);c=game.workshop.get("spaceManufacturing").researched?
c:.15;c=b.value>Math.max(100,50*u)?.005:c;c=m.plate.value<Math.max(5E3,50*h)?.1:c;if(50<b.value||p.on||1E3>m.unicorns.value)game.workshop.get("orbitalGeodesy").researched||(c=.001);break;case "concrate":p=e.getBuilding("moonOutpost").val;p=150*Math.pow(1.12,p);u=Math.pow(h.priceRatio+l,h.val);f=game.bld.getBuildingExt("library").meta;l=Math.pow(f.priceRatio+l,f.val)*f.stage;c=h.val?c:.25;c=b.value>Math.max(p,50*u,10*l)?.01:c;c=!b.unlocked&&10<game.diplomacy.get("nagas").embassyLevel&&!game.calendar.season&&
500<m.titanium.value?1:c;break;case "gear":u=Math.pow(p.priceRatio+l,p.val);h=game.workshop.get("logistics");l=game.workshop.get("fuelInjectors");l=!l.researched&&l.unlocked;l=2E4<m.oil.value&&.5>R("coal")&&250>b.value&&l;c=30<b.value&&!h.unlocked&&h.researched?.3:c;c=l?.7:c;c=b.value>Math.max(500,20*u)?.005:c;c=p.val||game.science.get("chemistry").researched?c:0;break;case "kerosene":c=!g.val&&1400<m.starchart.value&&250>b.value&&2<u?.7:c;c=!g.on&&250<b.value?0:c;c=e.getProgram("moonMission").val?
c:0;break;case "manuscript":c=game.prestige.getPerk("numerology").researched&&!game.calendar.festivalDays&&game.science.get("drama").unlocked?.25:c;b=game.bld.getBuildingExt("chapel").meta;b=Math.pow(b.priceRatio+l,b.val);p=game.bld.getBuildingExt("brewery").meta;m.culture.maxValue>Math.pow(p.priceRatio+l,p.val)&&.5<R("culture")&&(c=m.parchment.value>Math.max(1E6,250*b)&&h.val?1:c);break;case "compedium":c=game.science.get("architecture").unlocked?c:0;c=m.manuscript.value>Math.max(1E4,100*t)?.9:c;
10*b.value>Math.max(2E4,this.getCompendiaMax())&&1===R("science")&&(c=0);break;case "blueprint":c=game.science.get("industrialization").unlocked?c:0;10*m.compedium.value>Math.max(2E4,this.getCompendiaMax())&&1===R("science")&&(c=1);break;case "scaffold":game.bld.get("observatory");c=100>b.value&&game.science.get("navigation").unlocked&&750<m.iron.value?1:c;c=game.science.get("navigation").unlocked?c:0;break;case "tanker":c=.1}return c},getCompendiaMax:function(){let a=game.bld.getEffect("scienceMax"),
b=game.getEffect("scienceMaxCompendia");game.ironWill&&(a*=10);if(game.prestige.getPerk("codexLeviathanianus").researched){var c=game.religion.getTU("blackLibrary");c=1+c.val*(c.effects.compendiaTTBoostRatio+game.getEffect("blackLibraryBonus"));a*=1+.05*c*game.religion.transcendenceTier}return a+b},getPotentialCatnip:function(a,b,c){var d=game.getEffect("catnipPerTickBase");a?(d=.1*d*(1+game.getLimitedDR(game.getEffect("coldHarshness"),1)),game.science.getPolicy("communism").researched&&(d=0)):d*=
game.calendar.seasons[3].modifiers.catnip-(4>game.calendar.year?0:.15);a=game.village.getResProduction().catnip?game.village.getResProduction().catnip*(1+game.getEffect("catnipJobRatio")):0;d+=a;if(void 0===c)d*=1+game.getEffect("catnipRatio");else{a=game.space.getBuilding("hydroponics");let f=a.effects.catnipRatio;d*=1+game.bld.getBuildingExt("aqueduct").meta.stages[0].effects.catnipRatio*c+f*a.val}c=game.challenges.isActive("winterIsComing")?0:game.prestige.getParagonProductionRatio();d=d*(1+c)*
(1+game.religion.getSolarRevolutionRatio()*(1+game.bld.pollutionEffects.solarRevolutionPollution));d*=1+game.getEffect("blsProductionBonus")*m.sorrow.value;d=game.calendar.cycleEffectsFestival({catnip:d}).catnip;d*=1+game.bld.pollutionEffects.catnipPollutionRatio;c=game.village.getResConsumption().catnip;a=game.bld.getBuildingExt("unicornPasture").meta.val;c=void 0===b?c*(1+game.getEffect("catnipDemandRatio")):c*(1+game.getLimitedDR(-.005*b+-.0015*a,1));0<game.village.sim.kittens.length&&1<game.village.happiness&&
(b=Math.max(game.village.happiness*(1+game.getEffect("hapinnessConsumptionRatio"))-1,0),c=game.challenges.isActive("anarchy")?c*(1+b*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))):c*(1+b*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))*(1-game.village.getFreeKittens()/game.village.sim.kittens.length)));return d=d+c+game.getResourcePerTickConvertion("catnip")}};let ka=function(){this.craftManager=new da};ka.prototype={craftManager:void 0,bulk:function(a,b,c,d){var f;const e=[],g=[];var h=
0;for(var l in a){var p=a[l];var q=b[l];if(p.enabled&&!(-1!==p.max&&p.max<=q.val)&&!1!==q.unlocked&&q.stage===p.stage){var n=p.require?this.craftManager.getResource(p.require):!1;if(!n||c<=n.value/n.maxValue){var t=q.stages?q.stages[q.stage].prices:q.prices;"s"===p.variant&&(t=game.village.getEffectLeader("wise",dojo.clone(q.prices)));n=this.getPriceRatio(q,d);e[h]={};e[h].id=l;e[h].label=p.label;e[h].name=p.name;e[h].stage=p.stage;e[h].variant=p.variant;g[h]={};g[h].id=l;g[h].name=p.name;g[h].count=
0;g[h].spot=h;g[h].prices=[];var u=1-game.getLimitedDR(game.getEffect(l+"CostReduction"),1);for(f in t){let C=t[f],y=1-game.getLimitedDR(game.getEffect(C.name+"CostReduction"),1);g[h].prices.push({val:C.val*u*y,name:C.name})}g[h].priceRatio=n;g[h].source=d;g[h].limit=isNaN(p.max)?-1:p.max;g[h].val=q.val;this.singleBuildPossible(q,g[h].prices,n,d)?h++:g.pop()}}}if(0!==g.length){a={};for(v in m)a[v]=this.craftManager.getValueAvailable(v,!0);for(c=0;0!==g.length;){a:for(f=0;f<g.length;f++){p=g[f];q=
b[p.id];h=q.val;var v=p.prices;n=p.priceRatio;d=p.source;for(l=0;l<v.length;l++){let C,y,z;u=!1;d&&"space"===d&&"oil"===v[l].name?(C=!0,z=v[l].val*(1-game.getLimitedDR(game.getEffect("oilReductionRatio"),.75))):"cryochambers"===p.id&&"karma"===v[l].name&&(y=!0,u=v[l].val*(1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1)));if((t=C?a.oil<z*Math.pow(1.05,c+h):y?a.karma<u*Math.pow(n,c+h):a[v[l].name]<v[l].val*Math.pow(n,c+h))||q.noStackable&&1<=c+h||"ressourceRetrieval"===p.id&&100<=c+
h||"cryochambers"===p.id&&game.bld.getBuildingExt("chronosphere").meta.val<=c+h){for(q=0;q<l;q++)d&&"space"===d&&"oil"===v[q].name?(t=v[q].val*(1-game.getLimitedDR(game.getEffect("oilReductionRatio"),.75)),a.oil+=t*Math.pow(1.05,c+h)):"cryochambers"===p.id&&"karma"===v[q].name?(t=v[q].val*(1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1)),a.karma+=t*Math.pow(n,c+h)):(t=v[q].val*Math.pow(n,c+h),a[v[q].name]+="void"===v[q].name?Math.ceil(t):t);-1!==p.limit&&(p.count=Math.max(0,Math.min(p.count,
p.limit-p.val)));e[g[f].spot].count=g[f].count;g.splice(f,1);f--;continue a}C?a.oil-=z*Math.pow(1.05,c+h):y?a.karma-=u*Math.pow(n,c+h):(t=v[l].val*Math.pow(n,c+h),a[v[l].name]-="void"===v[l].name?Math.ceil(t):t,a[v[l].name]=a[v[l].name]?a[v[l].name]:0)}g[f].count++}c++}return e}},construct:function(a,b,c){const d=a.metadata;let f=0;"number"==typeof d.limitBuild&&d.limitBuild-d.val<c&&(c=d.limitBuild-d.val);a.enabled||b.controller.updateEnabled(a);if(a.enabled&&b.controller.hasResources(a)||game.devMode){for(;b.controller.hasResources(a)&&
0<c;)a.prices=b.controller.getPrices(a),b.controller.payPrice(a),b.controller.incrementValue(a),f++,c--;d.breakIronWill&&(game.ironWill=!1,a=game.science.getPolicy("liberty"),a.calculateEffects(a,game));d.unlockScheme&&d.val>=d.unlockScheme.threshold&&game.ui.unlockScheme(d.unlockScheme.name);d.unlocks&&game.unlock(d.unlocks);d.upgrades&&(d.updateEffects&&d.updateEffects(d,game),ra(d.upgrades))}return f},getPriceRatio:function(a,b){let c=a.stages?a.priceRatio||a.stages[a.stage].priceRatio:a.priceRatio,
d=0;b&&"bonfire"===b&&(d=game.getEffect(a.name+"PriceRatio")+game.getEffect("priceRatio")+game.getEffect("mapPriceReduction"),d=game.getLimitedDR(d,c-1));return c+d},singleBuildPossible:function(a,b,c,d){let f=1-game.getLimitedDR(game.getEffect(a.name+"CostReduction"),1);for(let g in b){var e=1-game.getLimitedDR(game.getEffect(b[g].name+"CostReduction"),1);e*=b[g].val*f;if(d&&"space"===d&&"oil"===b[g].name){if(e*=1-game.getLimitedDR(game.getEffect("oilReductionRatio"),.75),this.craftManager.getValueAvailable("oil",
!0)<e*Math.pow(1.05,a.val))return!1}else if("cryochambers"===a.name&&"karma"===b[g].name){if(e*=1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1),this.craftManager.getValueAvailable("karma",!0)<e*Math.pow(c,a.val))return!1}else if(this.craftManager.getValueAvailable(b[g].name,!0)<e*Math.pow(c,a.val))return!1}return!0}};let Ia=function(){this.craftManager=new da;this.manager=new Z("Trade")};Ia.prototype={craftManager:void 0,manager:void 0,trade:function(a,b){(!a||1>b)&&ja(a+"-"+b+"\u8d38\u6613\u53ef\u80fd\u51fa\u70b9\u95ee\u9898");
let c=this.getRace(a),d=this.getTradeButton(c.name),f=k.auto.cache.trait.merchant?"\u5546\u4eba\u5c0f\u732b\u4e0e":"\u5c0f\u732b\u4e0e";if(!d.model.enabled)return d.controller.updateEnabled(d.model);"sharks"===a||k.auto.trade.items[a].enabled||ja("\u8d38\u6613\u53ef\u80fd\u51fa\u70b9\u95ee\u9898");game.diplomacy.tradeMultiple(c,b);game.stats.getStat("totalClicks").val+=1;E(f+" "+c.title,b,"trade");H("act.trade",[b,f+W(c.title)],"tradeFilter")},getProfitability:function(a){var b;let c=this.getRace(a);
var d=this.getMaterials(a);let f=0;if("leviathans"===a&&game.time.getCFU("ressourceRetrieval").val&&.6<R("unobtainium"))return!0;for(var e in d)if("ivory"!==e){var g=this.craftManager.getTickVal(this.craftManager.getResource(e),!1);if(0>=g)return!1;f+=d[e]/g}e=this.getAverageTrade(c);d=0;for(var h in e){var l=this.craftManager.getResource(h);g=this.craftManager.getTickVal(l);"ignore"!==g&&(0>=g&&(b=!0),d+=0<l.maxValue?Math.min(e[h],Math.max(l.maxValue-l.value,0))/g:e[h]/g)}g=!0;h=0>m.spice.value+
60*game.getResourcePerTick("spice",!0);"nagas"===a&&(m.concrate.unlocked||game.ironWill||(g=!1),30>m.ship.value&&10>c.embassyLevel&&!game.ironWill&&(g=!1),l=1+game.prestige.getParagonProductionRatio(),m.concrate.value<100*l&&10<c.embassyLevel&&m.concrate.value&&(b=!0));"griffins"===a&&(m.ship.value&&2!==game.calendar.season&&(200<m.ship.value||game.getEffect("productionRatio"))&&(g=!1),b=h&&game.calendar.festivalDays);if("zebras"===a){b=game.bld.getBuildingExt("calciner").meta.val;l=k.auto.trade.items.griffins;
let q=this.craftManager.getTickVal(m.iron);var p=m.titanium;p=Math.min(Math.max(p.maxValue-p.value,0),e.titanium)/p.perTickCached;e=this.getAverageTrade(this.getRace("griffins")).iron/q<e.iron/q+p;l.enabled&&l.autumn&&2===game.calendar.season&&b&&(g=g&&e&&.95>R("titanium"));e=game.religion.getSolarRevolutionRatio();1.5<e&&!game.religion.getRU("stainedGlass").on&&(g=!1);1<b&&3<e&&!game.religion.getRU("basilica").on&&(g=!1);b=(b=h&&game.calendar.festivalDays)&&game.workshop.get("caravanserai").researched}"spiders"===
a&&(.1<R("titanium")&&R("coal"),b=game.challenges.isActive("atheism")&&4<c.embassyLevel);"dragons"===a&&(g=b&&.5<R("titanium"));return b||f<=d&&g},getAverageTrade:function(a){var b=game.getEffect("standingRatio")+game.diplomacy.calculateStandingFromPolicies(a.name,game),c=1+.02*a.energy;let d=1+game.diplomacy.getTradeRatio()+game.diplomacy.calculateTradeBonusFromPolicies(a.name,game)+game.challenges.getChallenge("pacifism").getTradeBonusEffect(game);var f=0>a.standing?a.standing+b:0;f=0>f?1+f:1;let e=
0<a.standing?Math.min(a.standing+b/2,1):0;b={};for(var g of a.sells){if(!this.isValidTrade(g,a))continue;let h=g.minLevel?g.chance*(1+game.getLimitedDR(.01*a.embassyLevel,.75)):g.chance,l=g.seasons?1+g.seasons[game.calendar.getCurSeason().name]:1;b[g.name]=((f-e)*Math.min(h,1)+1.25*e*Math.min(h,1))*g.value*c*l*d}"zebras"===a.name&&(c=m.ship.value,g=game.getEffect("zebraRelationModifier")*game.bld.getBuildingExt("tradepost").meta.effects.tradeRatio,b.titanium=(1.5+.03*c)*(1+g)*Math.min(.15+.0035*c,
1)*f,1>game.religion.getSolarRevolutionRatio()&&40>c&&.002>game.getEffect("titaniumPerTickAutoprod")&&(b.titanium=0));a=f*Math.min(a.embassyPrices?.35*(1+.01*a.embassyLevel):.35,1);b.spice=25*a+50*a*d/2;b.blueprint=.1*f;return b},isValidTrade:function(a,b){return!(a.minLevel&&b.embassyLevel<a.minLevel)&&(m[a.name].unlocked||"titanium"===a.name||"uranium"===a.name||"leviathans"===b.name)},getLowestTradeAmount:function(a,b,c){let d,f,e;let g=this.getMaterials(a);c=this.getRace(a);for(h in g)d="manpower"===
h?this.craftManager.getValueAvailable(h,!0)/g[h]:this.craftManager.getValueAvailable(h,!b,k.auto.trade.trigger)/g[h],d=Infinity==d?Number.MAX_VALUE/g[h]:d,f=void 0===f||d<f?d:f;f=Math.floor(f);if(0===f)return 0;if(null===c||k.auto.trade.items[a].allowCapped)return f;a=this.getAverageTrade(c);for(let l in c.sells){b=c.sells[l];var h=this.craftManager.getResource(b.name);h.maxValue&&(b=Math.max((h.maxValue-h.value)/a[b.name],0),e=b<e?e:b)}e=Math.ceil(e);if(0===e)return 0;f=e<f?Math.max(e-1,1):f;return Math.floor(f)},
getMaterials:function(a){var b=game.challenges.isActive("postApocalypse")?game.bld.getPollutionLevel():1;b={manpower:b*(50-game.getEffect("tradeCatpowerDiscount")),gold:b*(15-game.getEffect("tradeGoldDiscount"))};if(void 0===a)return b;a=this.getRace(a).buys;for(const c in a){let d=a[c];b[d.name]=d.val}return b},getRace:function(a){return void 0===a?null:game.diplomacy.get(a)},getTradeButton:function(a){for(let b in this.manager.tab.racePanels){let c=this.manager.tab.racePanels[b];if(c.race.name===
a)return c.tradeBtn}},singleTradePossible:function(a){a=this.getMaterials(a);for(let b in a)if(this.craftManager.getValueAvailable(b,!0)<a[b])return!1;return!0}};let za=function(){};za.prototype={pushToCache:function(a){let b=k.auto.cache.cacheSum;a=a.materials;for(let c in a)b[c]||(b[c]=0),b[c]+=a[c]},getResValue:function(a){let b=k.auto.cache,c=b.cacheSum;return c[a]?c[a]/(game.timer.ticksTotal-b.dataTimer.ticksTotal):0}};var Q=function(a){document.styleSheets[0].insertRule(a,0)};Q("body {font-family: inherit;font-size: inherit;}");
Q("body[data-ks-style]:not(.scheme_sleek) #game {min-width: 1300px;top: 32px;}");Q("body[data-ks-style]:not(.scheme_sleek) .column {min-height: inherit;max-width: inherit !important;padding: 1%;margin: 0;overflow-y: auto;}");Q("body[data-ks-style]:not(.scheme_sleek) #leftColumn {height: 92%;width: 26%;}");Q("body[data-ks-style]:not(.scheme_sleek) #midColumn {margin-top: 1% !important;height: 90%;width: 49%;}");Q("body[data-ks-style]:not(.scheme_sleek) #rightColumn {overflow-y: auto;height: 92%;width: 19%;font-size: 12px;font-family: -apple-system,BlinkMacSystemFont,Helvetica Neue,Helvetica,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,sans-serif;}");
Q("body #gamePageContainer #game #rightColumn {overflow-y: auto;}");Q("body[data-ks-style]:not(.scheme_sleek) #gameLog {overflow-y: hidden !important;width: 100% !important;padding-top: 5px !important;}");Q("body[data-ks-style]:not(.scheme_sleek) #resContainer .maxRes {color: #676766;}");Q("body[data-ks-style]:not(.scheme_sleek) #game .btn {border-radius: 0px;font-family: monospace;font-size: 12px !important;margin: 0 5px 7px 0;width: 290px;}");Q("body[data-ks-style]:not(.scheme_sleek) #game .map-viewport {height: 340px;max-width: 500px;overflow: visible;}");
Q(" #game .map-dashboard {height: 120px;width: 292px;}");Q("#ks-options ul {list-style: none;margin: 0 0 5px;padding: 0;}");Q('#ks-options ul:after {clear: both;content: " ";display: block;height: 0;}');Q("#ks-options ul li {display: block;float: left;width: 100%;}");Q("#ks-options #toggle-list-resources .stockWarn *,#ks-options #toggle-reset-list-resources .stockWarn * {color: "+k.stockwarncolor+";}");Q(".right-tab {height: unset !important;}");let D={version:3,toggles:{},items:{},resources:{},triggers:{},
reset:{reset:!1,times:0,paragonLastTime:0,paragonTotal:0,karmaLastTime:0,karmaTotal:0},policies:[]},Ca="build space craft upgrade trade faith time timeCtrl distribute options filter".split(" "),Xa=function(){Ca.forEach(a=>{$("#items-list-"+a).find("input[id^='toggle-']").each(function(){let b=$(this);"radio"!==$(this).attr("type")&&(D.items[b.attr("id")]=b.prop("checked"))})});D.items["toggle-leaderJob-farmer"]=!0;D.items["toggle-leaderTrait-manager"]=!0;M()},M=function(){D.toggles={infinity:k.auto.infinity.enabled,
build:k.auto.build.enabled,space:k.auto.space.enabled,craft:k.auto.craft.enabled,upgrade:k.auto.upgrade.enabled,trade:k.auto.trade.enabled,faith:k.auto.faith.enabled,time:k.auto.time.enabled,timeCtrl:k.auto.timeCtrl.enabled,distribute:k.auto.distribute.enabled,options:k.auto.options.enabled,filter:k.auto.filter.enabled};D.resources=k.auto.resources;D.triggers={faith:k.auto.faith.trigger,time:k.auto.time.trigger,build:k.auto.build.trigger,space:k.auto.space.trigger,craft:k.auto.craft.trigger,trade:k.auto.trade.trigger};
D.policies=k.policies;localStorage["cbc.kitten-scientists"]=JSON.stringify(D)},Ea=function(){let a=JSON.parse(localStorage["cbc.kitten-scientists"]||"null");if(!a||3<a.version)Xa();else if(1===a.version&&(a.version=2,a.reset={reset:!1,times:0,paragonLastTime:0,paragonTotal:0,karmaLastTime:0,karmaTotal:0}),2===a.version&&(a.version=3,a.policies=[]),3===a.version){D=a;if(a.toggles)for(var b in a.toggles)if("engine"!==b&&k.auto[b]){k.auto[b].enabled=!!a.toggles[b];var c=$("#toggle-"+b);c.prop("checked",
k.auto[b].enabled)}for(var d in D.items){b=D.items[d];c=$("#"+d);var f=c.data("option"),e=d.split("-");if(void 0===f)delete D.items[d];else if("set"===e[0]?(c[0].title=b,"max"===e[e.length-1]?c.text(r("ui.max",[b])):"min"===e[e.length-1]&&c.text(r("ui.min",[b]))):c.prop("checked",b),2===e.length)f.enabled=b;else if("reset"===e[1]&&4<=e.length)switch(c=e[2],f=e[3],e[0]){case "toggle":k.auto[c].items[f].checkForReset=b;break;case "set":k.auto[c].items[f].triggerForReset=b}else"limited"===e[1]?f.limited=
b:"leaderJob"===e[1]&&b?f[e[1]]=e[2]:"leaderTrait"===e[1]&&b?f[e[1]]=e[2]:f[e[2]]=b}d=$("#toggle-list-resources");b=$("#toggle-reset-list-resources");for(const g in D.resources)e=D.resources[g],e.enabled&&(0===$("#resource-"+g).length&&d.append(oa(g)),"stock"in e&&Da(g,e.stock),"consume"in e&&La(g,e.consume)),e.checkForReset&&(0===$("#resource-reset-"+g).length&&b.append(oa(g,void 0,!0)),"stockForReset"in e&&Da(g,e.stockForReset?e.stockForReset:Infinity,!0));a.triggers&&(k.auto.faith.trigger=a.triggers.faith,
k.auto.time.trigger=a.triggers.time,k.auto.build.trigger=a.triggers.build,k.auto.space.trigger=a.triggers.space,k.auto.craft.trigger=a.triggers.craft,k.auto.trade.trigger=a.triggers.trade,$("#trigger-faith")[0].title=k.auto.faith.trigger,$("#trigger-time")[0].title=k.auto.time.trigger,$("#trigger-build")[0].title=k.auto.build.trigger,$("#trigger-space")[0].title=k.auto.space.trigger,$("#trigger-craft")[0].title=k.auto.craft.trigger,$("#trigger-trade")[0].title=k.auto.trade.trigger);k.policies=a.policies}},
W=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},Ma=function(a,b,c=!1){c=c?"#resource-reset-"+a:"#resource-"+a;$(c).removeClass("stockWarn");let d=game.resPool.resources.filter(f=>f.name===a)[0].maxValue;(b>d&&0!==d||Infinity===b)&&$(c).addClass("stockWarn")},Da=function(a,b,c=!1){let d=Number(b);isNaN(d)||0>d?ja("ignoring non-numeric or invalid stock value "+b):(k.auto.resources[a]||(k.auto.resources[a]={}),c?(b="#resource-reset-"+a+" #stock-value-"+a,d=0>d?Infinity:d,k.auto.resources[a].checkForReset=
!0,k.auto.resources[a].stockForReset=d):(b="#resource-"+a+" #stock-value-"+a,k.auto.resources[a].enabled=!0,k.auto.resources[a].stock=d),$(b).text(r("resources.stock",[Infinity===d?"\u221e":game.getDisplayValueExt(d)])),Ma(a,d,c))},La=function(a,b){let c=parseFloat(b);isNaN(c)||0>c||1<c?ja("ignoring non-numeric or invalid consume rate "+b):(k.auto.resources[a]||(k.auto.resources[a]={}),k.auto.resources[a].consume=c,$("#consume-rate-"+a).text(r("resources.consume",[c.toFixed(2)])))},Ya=function(a,
b=!1){let c=k.auto.resources[a];b?c.checkForReset=!1:c.enabled=!1;c.enabled||c.checkForReset||delete k.auto.resources[a]},oa=function(a,b,c=!1){let d;var f=m[a];b=b||f.title||W(a);let e=k.auto.resources[a];d=c&&e&&e.stockForReset?e.stockForReset:!c&&e&&e.stock?e.stock:0;let g=e&&void 0!==e.consume?e.consume:k.consume,h=$("<div/>",{id:(c?"resource-reset-":"resource-")+a,css:{display:"inline-block",width:"100%"}});var l;"uncommon"===f.type&&(l="#FF7F50");"rare"===f.type&&(l="#FFA500");l=f.color||l;
f=$("<div/>",{id:"resource-label-"+a,text:b,css:{display:"inline-block",color:l,width:"95px"}});d=$("<div/>",{id:"stock-value-"+a,text:r("resources.stock",[Infinity===d?"\u221e":game.getDisplayValueExt(d)]),css:{cursor:"pointer",display:"inline-block",width:"80px"}});g=$("<div/>",{id:"consume-rate-"+a,text:r("resources.consume",[g.toFixed(2)]),css:{cursor:"pointer",display:"inline-block"}});l=$("<div/>",{id:"resource-delete-"+a,text:r("resources.del"),css:{cursor:"pointer",display:"inline-block",
float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});c?h.append(f,d,l):h.append(f,d,g,l);void 0!==e&&void 0!==e.stock&&Ma(a,e.stock);(function(p,q){p.on("click",function(){L.stop(!1);let n=window.prompt(r("resources.stock.set",[b]));k.auto.engine.enabled&&L.start(!1);null!==n&&(Da(a,n,q),M())})})(d,c);g.on("click",function(){L.stop(!1);let p=window.prompt(r("resources.consume.set",[b]));k.auto.engine.enabled&&L.start(!1);null!==p&&(La(a,p),M())});(function(p,q){p.on("click",function(){window.confirm(r("resources.del.confirm",
[b]))&&(h.remove(),Ya(a,q),M())})})(l,c);return h};["workshopTab","libraryTab","villageTab"].forEach(a=>{game[a]&&game.ui.activeTabId!==game[a].tabId&&!game[a]._inherited&&game[a].render()});(()=>{let a,b,c;var d=new xa;let f=k.auto.faith.items;for(e in f)if(c=f[e],b=d.getBuild(c.name||e,c.variant))f[e].label=b.label;d=new ya;f=k.auto.time.items;for(e in f)if(c=f[e],b=d.getBuild(c.name||e,c.variant))f[e].label=b.label;d=new va;f=k.auto.build.items;for(e in f)if(c=f[e],b=d.getBuild(c.name||e))f[e].label=
"stage"in c?b.meta.stages[c.stage].label:b.meta.label;var e=new wa;f=k.auto.space.items;for(a in f)if(b=e.getBuild(a))f[a].label=b.title?b.title:b.label})();let Za=function(a){let b=[],c=a?"#resource-reset-":"#resource-",d=game.resPool.resources,f=k.auto.resources;for(let g in d){let h=d[g],l=h.name;var e=f[l];e=e&&e.enabled;if((a||!h.persists&&!e)&&l&&0===$(c+l).length){let p;"uncommon"===h.type&&(p="#FF7F50");"rare"===h.type&&(p="#FFA500");p=h.color||p;e=$("<div/>",{id:"resource-add-"+l,text:W(h.title?
h.title:l),css:{cursor:"pointer",color:p}});(function(q,n,t){n.on("click",function(){n.remove();f[l]||(f[l]={});t?(f[l].checkForReset=!0,f[l].stockForReset=Infinity,$("#toggle-reset-list-resources").append(oa(l,q.title,t))):(f[l].enabled=!0,f[l].stock=0,f[l].consume=k.consume,$("#toggle-list-resources").append(oa(l,q.title,t)));M()})})(h,e,a);b.push(e)}}return b},Na=function(a=!1){let b=$("<ul/>",{id:a?"toggle-reset-list-resources":"toggle-list-resources",css:{display:"none",paddingLeft:"20px"}});
var c=$("<div/>",{id:"resources-add",text:r("resources.add"),css:{cursor:"pointer",display:"inline-block",textShadow:"3px 3px 4px gray",borderBottom:"1px solid rgba(185, 185, 185, 0.7)"}});let d=$("<div/>",{id:"resources-clear-unused",text:r("resources.clear.unused"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});d.on("click",function(){for(let e in k.auto.resources)(!k.auto.resources[e].stock&&k.auto.resources[e].consume===k.consume||
void 0===k.auto.resources[e].consume)&&$("#resource-"+e).remove()});let f=$("<ul/>",{id:"available-resources-list",css:{display:"none",paddingLeft:"20px"}});(function(e,g){e.on("click",function(){f.toggle();f.empty();"none"!==f[0].style.display&&f.append(Za(g))})})(c,a);a?b.append(c,f):b.append(c,d,f);for(let e in k.auto.resources)c=k.auto.resources[e],(a&&c.checkForReset||!a&&c.enabled)&&b.append(oa(e,void 0,a));return b},la=function(a){let b=$("<ul/>",{id:"items-list-"+a,css:{display:"none",paddingLeft:"20px"}}),
c=$("<div/>",{id:"toggle-all-disable-items-"+a,text:r("ui.disable.all"),css:{cursor:"pointer",display:"inline-block",textShadow:"3px 3px 4px gray",marginRight:"8px"}});c.on("click",function(){let d=b.children().children(":checkbox");d.prop("checked",!1);d.change();b.children().children(":checkbox").change()});b.append(c);a=$("<div/>",{id:"toggle-all-enable-items-"+a,text:r("ui.enable.all"),css:{cursor:"pointer",display:"inline-block",textShadow:"3px 3px 4px gray"}});a.on("click",function(){let d=
b.children().children(":checkbox");d.prop("checked",!0);d.change();b.children().children(":checkbox").change()});b.append(a);return b},$a=function(){let a=la("faith-addition"),b=k.auto.faith.addition;for(let d in b){let f=Y(d,b[d]);if("bestUnicornBuilding"===d){f.children("label").prop("title",r("option.faith.best.unicorn.desc"));var c=f.children("input");c.unbind("change");c.on("change",e=>{let g=b.bestUnicornBuilding;e.target.checked&&!g.enabled?(g.enabled=!0,I("status.sub.enable",[r("option.faith.best.unicorn")]),
I("option.faith.best.unicorn.desc")):!e.target.checked&&g.enabled&&(g.enabled=!1,I("status.sub.disable",[r("option.faith.best.unicorn")]));D.items[e.target.id]=g.enabled;M()})}void 0!==b[d].subTrigger&&(c=$("<div/>",{id:"set-"+d+"-subTrigger",text:r("ui.trigger"),title:b[d].subTrigger,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b[d]),function(e,g){if("adore"===e)g.on("click",function(){let h;L.stop(!1);h=window.prompt(r("adore.trigger.set"),
b[e].subTrigger);k.auto.engine.enabled&&L.start(!1);null!==h&&(b[e].subTrigger=parseFloat(h),D.items[g[0].id]=b[e].subTrigger,M(),g[0].title=b[e].subTrigger)});else if("autoPraise"===e)g.on("click",function(){let h;L.stop(!1);h=window.prompt(r("parise.trigger.set",[r("option.praise")]),b[e].subTrigger);k.auto.engine.enabled&&L.start(!1);null!==h&&(b[e].subTrigger=parseFloat(h),D.items[g[0].id]=b[e].subTrigger,M(),g[0].title=b[e].subTrigger)})}(d,c),f.append(c));a.append(f)}return a},pa=function(a){let b;
let c,d,f=W(r("ui."+a)),e=k.auto[a],g=$("<li/>",{id:"ks-"+a}),h=$("<label/>",{"for":"toggle-"+a,text:f}),l=$("<input/>",{id:"toggle-"+a,type:"checkbox"});e.enabled&&l.prop("checked",!0);if("engine"!==a)l.on("change",function(){if(l.is(":checked")&&!e.enabled){e.enabled=!0;"filter"===a||"options"===a?I("status.sub.enable",[f]):I("status.auto.enable",[f]);if("infinity"===a){var n=k.auto,t;for(t in n)n[t].enabled&&"infinity"!==t&&$("#toggle-"+t).click();$("#toggle-all-disable-items-infinity").click();
$("#toggle-all-disable-items-options").click();$("#toggle-all-enable-items-filter").click();$("#toggle-useWorkers").click();$("#toggle-options").click();$("#toggle-filter").click()}M()}else!l.is(":checked")&&e.enabled&&(e.enabled=!1,"filter"===a||"options"===a?I("status.sub.disable",[f]):I("status.auto.disable",[f]),M())});g.append(l,h);if(e.items){g.css("borderBottom","1px  solid rgba(185, 185, 185, 0.7)");c=$("<div/>",{css:{display:"inline-block",float:"right"}});d=$("<div/>",{id:"toggle-items-"+
a,text:r("ui.items"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});g.append(d);b=la(a);if("faith"===a)for(q in k.auto.unicorn.items)b.append(Y(q,k.auto.unicorn.items[q]));for(q in e.items)switch(a){case "infinity":b.append(ab(q,e.items[q]));break;case "trade":b.append(bb(q,e.items[q]));break;case "craft":b.append(cb(q,e.items[q]));break;case "timeCtrl":b.append(db(q,e.items[q]));break;case "options":b.append(eb(q,e.items[q]));break;
case "upgrade":b.append(fb(q,e.items[q]));break;case "distribute":b.append(gb(q,e.items[q]));break;case "build":case "faith":case "space":b.append(Oa(q,e.items[q]));break;case "time":b.append(Oa(q,e.items[q]));break;default:b.append(Y(q,e.items[q]))}d.on("click",function(){b.toggle()})}if(void 0!==e.trigger){let n=$("<div/>",{id:"trigger-"+a,text:r("ui.trigger"),title:e.trigger,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});n.on("click",
function(){let t;L.stop(!1);t="faith"===a?window.prompt(r("ui.trigger.set",[f+"("+$I("resources.faith.title")+")"]),e.trigger.toString()):"trade"===a?window.prompt(r("ui.trigger.set",[f+" \u7684\u89e6\u53d1\u503c\n\u9700\u540c\u65f6\u6ee1\u8db3 \u79cd\u65cf\u89e6\u53d1\u8d44\u6e90 \u548c "+$I("resources.gold.title")+" \u7684"]),e.trigger.toString()):window.prompt(r("ui.trigger.set",[f]),e.trigger.toString());k.auto.engine.enabled&&L.start(!1);null!==t&&(e.trigger=parseFloat(t),M(),n[0].title=e.trigger)});
g.append(n)}if("craft"===a){var p=$("<div/>",{id:"toggle-resource-controls",text:r("ui.craft.resources"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});const n=Na();d.on("click",function(){n.toggle(!1)});p.on("click",function(){b.toggle(!1);n.toggle()});g.append(p);g.append(n)}else if("faith"===a){var q=$("<div/>",{id:"toggle-addition-controls",text:r("ui.faith.addtion"),title:"\u592a\u9633\u6559\u56e2\u7684\u81ea\u52a8\u5316\u9879\u76ee",
css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"2px 2px 5px gray"}});const n=$a();d.on("click",function(){n.toggle(!1)});q.on("click",function(){b.toggle(!1);n.toggle()});g.append(q);for(p in k.auto.unicorn.items)b.children().children("#toggle-"+p).on("change",function(t){$(t.target).is(":checked")||(t=$("#toggle-bestUnicornBuilding"),t.prop("checked",!1),t.trigger("change"))});g.append(n)}e.items&&g.append(c,b);return g};var ab=function(a,b){var c=r("ui.infinity."+
a);c=hb(a,b,c);if(void 0!==b.subTrigger){var d=$("<div/>",{id:"set-"+a+"-subTrigger",text:r("ui.trigger"),title:b.subTrigger,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);d.on("click",function(){L.stop(!1);var f=window.prompt(r("ui.trigger."+a+".set"),b.subTrigger);k.auto.engine.enabled&&L.start(!1);null!==f&&(b.subTrigger=1==f.split("-").length?parseFloat(f):f,D.items[d.attr("id")]=b.subTrigger,M(),d[0].title=b.subTrigger)});
c.append(d)}return c},hb=function(a,b,c){var d=$("<li/>"),f=$("<label/>",{"for":"toggle-"+a,text:c,css:{display:"inline-block",minWidth:"80px"}}),e=$("<input/>",{id:"toggle-"+a,type:"checkbox"}).data("option",b);b.enabled&&e.prop("checked",!0);e.on("change",function(){if(e.is(":checked")&&0==b.enabled){b.enabled=!0;var g=k.auto;switch(a){case "cryoFix":g.infinity.items.buildChronosphere.enabled&&$("#toggle-buildChronosphere").click();$("#toggle-all-disable-items-time").click();var h=game.time.getCFU("temporalBattery"),
l=game.resPool.get("timeCrystal").value/1E20;l=Infinity==l?Number.MAX_VALUE:l;k.auto.time.items.temporalBattery.max=Math.floor(Math.log(l/h.prices[0].val)/Math.log(h.priceRatio));D.items["set-temporalBattery-max"]=k.auto.time.items.temporalBattery.max;k.auto.time.items.chronocontrol.max=1;D.items["set-chronocontrol-max"]=k.auto.time.items.chronocontrol.max;$("#toggle-temporalBattery").click();$("#toggle-chronocontrol").click();g.time.enabled||$("#toggle-time").click();break;case "buildChronosphere":g.infinity.items.cryoFix.enabled&&
$("#toggle-cryoFix").click(),g.time.enabled&&$("#toggle-time").click()}switch(a){case "autohunt":case "autoTransform":case "autoCT":case "skiptime":case "autoReset":break;default:$("#toggle-all-disable-items-build").click(),k.auto.build.items.workshop.max=1,D.items["set-workshop-max"]=k.auto.build.items.workshop.max,k.auto.build.items.chronosphere.max=1,D.items["set-chronosphere-max"]=k.auto.build.items.chronosphere.max,$("#toggle-workshop").click(),$("#toggle-chronosphere").click(),g.build.enabled||
$("#toggle-build").click(),$("#toggle-all-enable-items-upgrade").click(),$("#toggle-policies").click(),g.upgrade.enabled||$("#toggle-upgrade").click(),$("#toggle-all-disable-items-distribute").click(),$("#toggle-farmer").click(),$("#toggle-leader").click(),$("#toggle-leaderTrait-manager").click(),g.distribute.enabled||$("#toggle-distribute").click()}I("status.sub.enable",[c])}else e.is(":checked")||1!=b.enabled||(b.enabled=!1,I("status.sub.disable",[c]));D.items[e.attr("id")]=b.enabled;M()});d.append(e,
f);return d};let bb=function(a,b){let c=W(r("$trade.race."+a)),d=Y(a,b,c);d.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");var f=$("<label/>",{"for":"toggle-limited-"+a,title:r("trade.limited",[c]),text:r("ui.limit")});let e=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!1===b.limited?(b.limited=!0,I("trade.limited",[c])):!e.is(":checked")&&b.limited&&(b.limited=!1,I("trade.unlimited",[c,
b.require?"\u9700\u540c\u65f6\u6ee1\u8db3\u8d44\u6e90\u9ec4\u91d1\u548c"+m[b.require].title+"\u7684\u89e6\u53d1\u6761\u4ef6\u624d":"\u8d44\u6e90\u6ee1\u8db3\u9ec4\u91d1\u7684\u89e6\u53d1\u6761\u4ef6\u5c31\u4f1a"]));D.items[e.attr("id")]=b.limited;M()});d.append(e,f);f=$("<div/>",{id:"toggle-seasons-"+a,text:r("trade.seasons"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});let g=$("<ul/>",{id:"seasons-list-"+a,css:{display:"none",paddingLeft:"20px"}});
g.append(sa(a,"spring",b));g.append(sa(a,"summer",b));g.append(sa(a,"autumn",b));g.append(sa(a,"winter",b));f.on("click",function(){g.toggle()});d.append(f,g);return d},sa=function(a,b,c){let d=W(r("$trade.race."+a)),f=W(r("$calendar.season."+b)),e=$("<li/>"),g=$("<label/>",{"for":"toggle-"+a+"-"+b,text:W(f)}),h=$("<input/>",{id:"toggle-"+a+"-"+b,type:"checkbox"}).data("option",c);c[b]&&h.prop("checked",!0);h.on("change",function(){h.is(":checked")&&!c[b]?(c[b]=!0,I("trade.season.enable",[d,f])):
!h.is(":checked")&&c[b]&&(c[b]=!1,I("trade.season.disable",[d,f]));D.items[h.attr("id")]=c[b];M()});e.append(h,g);return e},ta=function(a,b){let c=W(r("$calendar.season."+a)),d=$("<li/>"),f=$("<label/>",{"for":"toggle-timeSkip-"+a,text:W(c)}),e=$("<input/>",{id:"toggle-timeSkip-"+a,type:"checkbox"}).data("option",b);b[a]&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!b[a]?(b[a]=!0,I("time.skip.season.enable",[c])):!e.is(":checked")&&b[a]&&(b[a]=!1,I("time.skip.season.disable",[c]));
D.items[e.attr("id")]=b[a];M()});d.append(e,f);return d},Y=function(a,b,c){let d=$("<li/>"),f=c||b.label||W(a);c=(c=b.require)?game.resPool.get(b.require).title:r("ui.none");c=r("ui.trigger.resource")+": "+c;void 0===b.require&&(c=null);c=$("<label/>",{"for":"toggle-"+a,text:f,title:c,css:{display:"inline-block",minWidth:"80px"}});let e=$("<input/>",{id:"toggle-"+a,type:"checkbox"}).data("option",b);b.enabled&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!b.enabled?(b.enabled=!0,
-1<a.indexOf("Filter")?I("filter.enable",[f]):b.misc?I("status.sub.enable",[f]):(I("status.auto.enable",[f]),"wood"===a&&I("msg.catnip"))):!e.is(":checked")&&b.enabled&&(b.enabled=!1,-1<a.indexOf("Filter")?I("filter.disable",[f]):b.misc?I("status.sub.disable",[f]):I("status.auto.disable",[f]));D.items[e.attr("id")]=b.enabled;"saves"!==a&&M()});d.append(e,c);return d},Pa=function(a){a=[];for(let b in k.policies){let c=k.policies[b];"authocracy"===c&&(c="autocracy");a.push($("<div/>",{id:"policy-"+
c,text:r("$policy."+c+".label"),css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}}))}return a},fb=function(a,b){let c=r("ui.upgrade."+a),d=Y(a,b,c);if("policies"===a){let e=$("<ul/>",{id:"items-list-policies",css:{display:"none",paddingLeft:"20px"}});var f=$("<div/>",{id:"toggle-upgrade-policies-load",text:r("ui.upgrade.policies.load"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});let g=$("<div/>",{id:"toggle-upgrade-policies-show",
text:r("ui.upgrade.policies.show"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});f.on("click",function(){const h=[];for(const l in game.science.policies){let p=game.science.policies[l];p.researched&&h.push(p.name)}k.policies=h;M();e.empty();e.append(Pa())});g.on("click",function(){e.toggle();e.empty();e.append(Pa())});d.append(g,f,e)}if(void 0!==b.subTrigger&&"missions"===a){let e=$("<div/>",{id:"set-"+a+"-subTrigger",text:r("ui.trigger"),
title:b.subTrigger,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);e.on("click",function(){let g;L.stop(!1);g="missions"===a?window.prompt(r("ui.trigger.missions.set"),b.subTrigger.toString()):window.prompt(r("ui.trigger.set"),b.subTrigger.toString());k.auto.engine.enabled&&L.start(!1);null!==g&&(b.subTrigger=parseFloat(g),D.items[e.attr("id")]=b.subTrigger,M(),e[0].title=b.subTrigger)});d.append(e)}if("upgrades"===a||
"techs"===a){f=$("<label/>",{"for":"toggle-limited-"+a,text:r("ui.upgradesLimit")});let e=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!b.limited?(b.limited=!0,I("upgrade.limited",[c])):!e.is(":checked")&&b.limited&&(b.limited=!1,I("upgrade.unlimited",[c]));D.items[e.attr("id")]=b.limited;M()});d.append(e,f)}return d},Oa=function(a,b,c){let d=$("<li/>"),f=c||b.label||W(a);c=(c=b.require)?game.resPool.get(b.require).title:
r("ui.none");c=$("<label/>",{"for":"toggle-"+a,text:f,title:r("ui.trigger.resource")+": "+c,css:{display:"inline-block",minWidth:"80px"}});let e=$("<input/>",{id:"toggle-"+a,type:"checkbox"}).data("option",b);b.enabled&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!b.enabled?(b.enabled=!0,-1<a.indexOf("Filter")?I("filter.enable",[f]):b.misc?I("status.sub.enable",[f]):(I("status.auto.enable",[f]),"field"===a&&I("msg.catnip"))):!e.is(":checked")&&b.enabled&&(b.enabled=!1,-1<a.indexOf("Filter")?
I("filter.disable",[f]):b.misc?I("status.sub.disable",[f]):I("status.auto.disable",[f]));D.items[e.attr("id")]=b.enabled;M()});let g=$("<div/>",{id:"set-"+a+"-max",text:r("ui.max",[b.max]),title:b.max,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);g.on("click",function(){let h;L.stop(!1);h=window.prompt(r("ui.max.set",[b.label])+"\n -1\u4e3a\u6ca1\u6709\u4e0a\u9650",b.max.toString());k.auto.engine.enabled&&L.start(!1);
null!==h&&(b.max=parseInt(h),D.items[g.attr("id")]=b.max,M(),g[0].title=b.max,g[0].innerText=r("ui.max",[b.max]))});d.append(e,c,g);return d},cb=function(a,b){let c=W(r("$resources."+a+".title"));"ship"===a&&(c=W(r("$workshop.crafts."+a+".label")));let d=Y(a,b,c);if("parchment"===a)return d;let f=$("<label/>",{"for":"toggle-limited-"+a,title:r("craft.limitedTitle"),text:r("ui.craftLimit")}),e=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&e.prop("checked",!0);e.on("change",
function(){e.is(":checked")&&!b.limited?(b.limited=!0,I("craft.limited",[c]),F("craftLimited")):!e.is(":checked")&&b.limited&&(b.limited=!1,I("craft.unlimited",[c,b.require?m[b.require].title+"\u6ee1\u8db3\u89e6\u53d1\u8d44\u6e90\u7684\u89e6\u53d1\u6761\u4ef6\u624d\u4f1a\u5236\u4f5c\uff0c":"\u65e0\uff0c\u5f53\u8d44\u6e90\u6ee1\u8db3\u5236\u4f5c\u6761\u4ef6\u5c31\u4f1a\u5236\u4f5c"]));D.items[e.attr("id")]=b.limited;M()});d.append(e,f);return d},ib=function(a,b){let c=game.calendar.cycles[a],d=$("<li/>"),
f=$("<label/>",{"for":"toggle-timeSkip-"+a,text:c.title}),e=$("<input/>",{id:"toggle-timeSkip-"+a,type:"checkbox"}).data("option",b);b[a]&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!b[a]?(b[a]=!0,I("time.skip.cycle.enable",[c.title])):!e.is(":checked")&&b[a]&&(b[a]=!1,I("time.skip.cycle.disable",[c.title]));D.items[e.attr("id")]=b[a];M()});d.append(e,f);return d},qa=function(a,b,c){let d=$("<li/>"),f=c.label,e=$("<label/>",{"for":"toggle-reset-"+b+"-"+a,text:f,css:{display:"inline-block",
minWidth:"80px"}}),g=$("<input/>",{id:"toggle-reset-"+b+"-"+a,type:"checkbox"}).data("option",c);c.checkForReset&&g.prop("checked",!0);g.on("change",function(){g.is(":checked")&&!c.checkForReset?(c.checkForReset=!0,I("status.reset.check.enable",[f])):!g.is(":checked")&&c.checkForReset&&(c.checkForReset=!1,I("status.reset.check.disable",[f]));D.items[g.attr("id")]=c.checkForReset;M()});let h=$("<div/>",{id:"set-reset-"+b+"-"+a+"-min",text:r("ui.min",[c.triggerForReset]),title:c.triggerForReset,css:{cursor:"pointer",
display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",c);h.on("click",function(){let l;l=window.prompt(r("reset.check.trigger.set",[c.label]),c.triggerForReset.toString());null!==l&&(c.triggerForReset=parseInt(l),D.items[h.attr("id")]=c.triggerForReset,M(),h[0].title=c.triggerForReset,h[0].innerText=r("ui.min",[c.triggerForReset]))});d.append(g,e,h);return d},db=function(a,b){let c,d=Y(a,b);if("timeSkip"===a){c=$("<div/>",{id:"set-timeSkip-subTrigger",
text:r("ui.trigger"),title:b.subTrigger,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);c.on("click",function(){let p;L.stop(!1);p=window.prompt(r("time.skip.trigger.set",[]),b.subTrigger);k.auto.engine.enabled&&L.start(!1);null!==p&&(b.subTrigger=parseFloat(p),D.items[c.attr("id")]=b.subTrigger,M(),c[0].title=b.subTrigger)});let g=$("<div/>",{id:"set-timeSkip-maximum",text:r("ui.maximum"),title:b.max,css:{cursor:"pointer",
display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);g.on("click",function(){let p;L.stop(!1);p=window.prompt(r("ui.max.set",["\u6bcf\u6b21\u71c3\u70e7\u65f6\u95f4\u6c34\u6676"]),b.maximum.toString());k.auto.engine.enabled&&L.start(!1);null!==p&&(b.maximum=parseFloat(p),D.items[g.attr("id")]=b.maximum,M(),g[0].title=b.maximum)});var f=$("<div/>",{id:"toggle-cycle-"+a,text:r("ui.cycles"),css:{cursor:"pointer",display:"inline-block",float:"right",
paddingRight:"5px",textShadow:"3px 3px 4px gray"}});let h=$("<ul/>",{id:"cycles-list-"+a,css:{display:"none",paddingLeft:"20px"}});for(var e in game.calendar.cycles)h.append(ib(e,b));e=$("<div/>",{id:"toggle-seasons-"+a,text:r("trade.seasons"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});let l=$("<ul/>",{id:"seasons-list-"+a,css:{display:"none",paddingLeft:"20px"}});l.append(ta("spring",b));l.append(ta("summer",b));l.append(ta("autumn",
b));l.append(ta("winter",b));f.on("click",function(){h.toggle();l.toggle(!1)});e.on("click",function(){h.toggle(!1);l.toggle()});d.append(f,e,g,c,h,l)}else if("reset"===a){let g=la("reset-build"),h=la("reset-space"),l=Na(!0),p=la("reset-religion"),q=la("reset-time");for(f in k.auto.build.items)g.append(qa(f,"build",k.auto.build.items[f]));for(f in k.auto.space.items)h.append(qa(f,"space",k.auto.space.items[f]));for(f in k.auto.unicorn.items)p.append(qa(f,"unicorn",k.auto.unicorn.items[f]));for(f in k.auto.faith.items)p.append(qa(f,
"faith",k.auto.faith.items[f]));for(f in k.auto.time.items)q.append(qa(f,"time",k.auto.time.items[f]));a=$("<div/>",{id:"toggle-reset-build",text:r("ui.build"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});f=$("<div/>",{id:"toggle-reset-space",text:r("ui.space"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});e=$("<div/>",{id:"toggle-reset-resources",text:r("ui.craft.resources"),
css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});let n=$("<div/>",{id:"toggle-reset-religion",text:r("ui.faith"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}),t=$("<div/>",{id:"toggle-reset-time",text:r("ui.time"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});a.on("click",function(){g.toggle();h.toggle(!1);l.toggle(!1);
p.toggle(!1);q.toggle(!1)});f.on("click",function(){g.toggle(!1);h.toggle();l.toggle(!1);p.toggle(!1);q.toggle(!1)});e.on("click",function(){g.toggle(!1);h.toggle(!1);l.toggle();p.toggle(!1);q.toggle(!1)});n.on("click",function(){g.toggle(!1);h.toggle(!1);l.toggle(!1);p.toggle();q.toggle(!1)});t.on("click",function(){g.toggle(!1);h.toggle(!1);l.toggle(!1);p.toggle(!1);q.toggle()});d.append(a,f,e,n,t,g,h,l,p,q)}else c=$("<div/>",{id:"set-"+a+"-subTrigger",text:r("ui.trigger"),title:b.subTrigger,css:{cursor:"pointer",
display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b),c.on("click",function(){let g;g=window.prompt(r("ui.trigger.set",[b.label]),b.subTrigger);null!==g&&(b.subTrigger=parseFloat(g),D.items[c.attr("id")]=b.subTrigger,M(),c[0].title=b.subTrigger)}),d.append(c);return d},eb=function(a,b){let c,d=Y(a,b);"style"===a&&(c=d.children("input"),c.unbind("change"),c.on("change",function(f){b.enabled=c.prop("checked");D.items[c.attr("id")]=b.enabled;f.isTrusted&&
M();f=document.getElementById("toggleCenter").style;b.enabled?(document.body.setAttribute("data-ks-style",""),game.ui.fullWidth=!0,game.ui.isCenter||(f.display="none")):(document.body.removeAttribute("data-ks-style"),f.display="",game.ui.fullWidth=void 0)}));"useWorkers"===a&&(c=d.children("input"),c.on("click",function(){let f=confirm(r("ui.trigger.useWorkers.alert"));f&&!b.enabled?(L.stop(),b.enabled=!0,D.items[c.attr("id")]=b.enabled,k.auto.engine.enabled&&L.start()):f&&b.enabled&&(L.stop(),b.enabled=
!1,D.items[c.attr("id")]=b.enabled,k.auto.engine.enabled&&L.start())}));if("saves"===a){c=d.children("input");c.on("click",function(){L.stop(!1);if(window.confirm("\u70b9\u51fb\u786e\u8ba4\u4f1a\u5bfc\u51fa\u73c2\u5b66\u5bb6\u7684\u914d\u7f6e.txt\u6587\u4ef6")){let h=$("#download-link");var g=JSON.stringify(window.localStorage["cbc.kitten-scientists"]);g=game.compressLZData(g,!1);g=new Blob([g],{type:"text/plain"});h.attr("href",window.URL.createObjectURL(g));g="\u5c0f\u732b\u73c2\u5b66\u5bb6\u914d\u7f6e"+
(game.stats.getStat("totalResets").val+1)+"\u5468\u76ee";h.attr("download",g+".txt");h.get(0).dispatchEvent(new MouseEvent("click"))}k.auto.engine.enabled&&L.start(!1)});let f=$("<div/>",{id:"loadKS",text:"\u5bfc\u5165\u914d\u7f6e",css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);f.on("click",function(){L.stop(!1);let g=window.prompt("\u7a97\u53e3\u5185\u586b\u5165\u540e\u4f60\u9700\u8981\u5bfc\u5165\u7684\u73c2\u5b66\u5bb6\u914d\u7f6e\uff0c\u786e\u8ba4\u540e\u4f1a\u5bfc\u5165\u914d\u7f6e",
"");k.auto.engine.enabled&&L.start(!1);if(g&&10<=g.length){let h;"{"!==g.charAt(0)&&(h=JSON.parse(LZString.decompressFromBase64(g)));window.localStorage["cbc.kitten-scientists"]=h;Ea()}});let e=$("<div/>",{id:"ressetKS",text:"\u6062\u590d\u9ed8\u8ba4\u914d\u7f6e",css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);e.on("click",function(){if(confirm("\u786e\u5b9a\u8981\u521d\u59cb\u5316\u73c2\u5b66\u5bb6\u914d\u7f6e\u5417\uff0c\u70b9\u51fb\u786e\u8ba4\u540e\u521d\u59cb\u5316\u73c2\u5b66\u5bb6\u914d\u7f6e(\u6700\u597d\u5237\u65b0\u4e0b\u9875\u9762)\n\u4e3a\u4e86\u7167\u987e\u94a2\u94c1\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u914d\u7f6e\u5c0f\u5c4b\u3001\u6728\u5c4b\u3001\u5b85\u90b8\u9ed8\u8ba4\u4e0d\u52fe\uff0c\u8bf7\u6709\u9700\u8981\u7684\u81ea\u884c\u52fe\u4e0a")){L.stop();
let g=sessionStorage.getItem("options");delete localStorage["cbc.kitten-scientists"];g?($("#ks-options").remove(),k.policies=[],k.auto=JSON.parse(g).auto,Fa=$("<div/>",{id:"ks-options",css:{marginBottom:"10px"}}),ba=$("<ul/>"),ba.append(pa("engine")),k.auto.engine.enabled&&L.start(),Ca.forEach(h=>{ba.append(pa(h))}),Qa.prepend(Fa.append(ba)),Ra(),Ea(),S("\u4e3a\u4e86\u7167\u987e\u94a2\u94c1\u6a21\u5f0f\uff0c\u5c0f\u5c4b\u3001\u6728\u5c4b\u3001\u5b85\u90b8\u9ed8\u8ba4\u4e0d\u52fe\uff0c\u8bf7\u6709\u9700\u8981\u7684\u81ea\u884c\u52fe\u4e0a")):
(game.save(),window.location.reload())}});d.append(f);d.append(e)}"donate"===a&&(c=d.children("input"),c.unbind("change"),c.on("change",function(f){b.enabled=c.prop("checked");D.items[c.attr("id")]=b.enabled;f.isTrusted&&M();document.getElementById("ks-donate").style.display=b.enabled?"block":"none"}));"wiki"===a&&(c=d.children("input"),c.on("click",function(){window.open().location="https://petercheney.gitee.io/baike/?file=004-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7/02-%E5%B0%8F%E7%8C%AB%E7%A7%91%E5%AD%A6%E5%AE%B6";
ma(["\u5982\u679c\u8fd8\u6709\u95ee\u9898\u53ef\u4ee5\u5728\u732b\u56fd\u7fa4\u8be2\u95ee\uff0c\u6709BUG\u6216\u610f\u89c1\u53ef\u4ee5\u8054\u7cfbCheney\u3002\u9ed8\u8ba4\u914d\u7f6e\u5373\u63a8\u8350\u914d\u7f6e\uff1a\u6587\u827a\u590d\u5174\u7384\u5b66\u4e0b\u9ed8\u8ba4\u914d\u7f6e\u80fd2\u5c0f\u65f6\u51b2\u51fa\u8f68\u9053\u3002","ks-default",k.activitycolor])}));if(void 0!==b.subTrigger){let f=$("<div/>",{id:"set-"+a+"-subTrigger",text:r("ui.trigger"),title:b.subTrigger,css:{cursor:"pointer",
display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);f.on("click",function(){let e;L.stop(!1);e="crypto"===a?window.prompt(r("ui.trigger.crypto.set",[b.label]),b.subTrigger):"filterGame"===a?window.prompt(r("ui.trigger.filterGame.set"),b.subTrigger):"shipOverride"===a?window.prompt(r("ui.trigger.shipOverride.set",[b.label]),b.subTrigger):window.prompt(r("ui.trigger.set",[b.label]),b.subTrigger);k.auto.engine.enabled&&L.start(!1);null!==e&&("crypto"===
a?b.subTrigger=e:"filterGame"===a?(b.subTrigger=parseFloat(e),Sa()):b.subTrigger=parseFloat(e),D.items[f.attr("id")]=b.subTrigger,M(),f[0].title=b.subTrigger)});d.append(f)}return d},gb=function(a,b){if("leader"===a)return jb(a,b);let c=W(r("$village.job."+a)),d=Y(a,b,c);d.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");let f=$("<label/>",{"for":"toggle-limited-"+a,text:r("ui.limit")}),e=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&e.prop("checked",!0);
e.on("change",function(){e.is(":checked")&&!b.limited?(b.limited=!0,I("distribute.limited",[c])):!e.is(":checked")&&b.limited&&(b.limited=!1,I("distribute.unlimited",[c]));D.items[e.attr("id")]=b.limited;M()});d.append(e,f);let g=$("<div/>",{id:"set-"+a+"-max",text:r("ui.max",[b.max]),title:b.max,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);(function(h){g.on("click",function(){let l;L.stop(!1);l=window.prompt(r("ui.max.set",
[h])+" \uff08\u6309max\u6bd4\u4f8b\u5206\u914d\uff09",b.max.toString());k.auto.engine.enabled&&L.start(!1);null!==l&&(b.max=Math.max(0,parseInt(l)),D.items[g.attr("id")]=b.max,M(),g[0].title=b.max,g[0].innerText=r("ui.max",[b.max]))})})(c);d.append(g);return d},jb=function(a,b){let c;var d=W(r("distribute.makeLeader"));d=Y(a,b,d);d.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");let f=$("<ul/>",{id:"items-list-traits",css:{display:"none",paddingLeft:"20px"}}),e=$("<div/>",{id:"toggle-leaderTrait"+
a,text:r("$village.trait.filter.all"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});for(c in window.com.nuclearunicorn.game.village.Kitten().traits)f.append(kb(c,b));e.on("click",function(){g.toggle(!1);f.toggle()});let g=$("<ul/>",{id:"items-list-jobs",css:{display:"none",paddingLeft:"20px"}});a=$("<div/>",{id:"toggle-leaderJob"+a,text:r("$village.panel.job"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",
textShadow:"3px 3px 4px gray"}});for(c in game.village.jobs)g.append(lb(c,b));a.on("click",function(){f.toggle(!1);g.toggle()});d.append(e,a,f,g);return d},lb=function(a,b){let c=game.village.jobs,d=c[a];a=$("<li/>");let f=$("<label/>",{"for":"toggle-leaderJob-"+d.name,text:d.title,css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}}),e=$("<input/>",{id:"toggle-leaderJob-"+d.name,name:"leaderJob",value:d.name,type:"radio"}).data("option",b);e.prop("value")===b.leaderJob&&e.prop("checked",!0);e.on("change",
function(){I("distribute.leaderJob",[d.title]);b.leaderJob=$("input[name='leaderJob']:checked").val();c.forEach(g=>{delete D.items["toggle-leaderJob-"+g.name]});D.items["toggle-leaderJob-"+b.leaderJob]=!0;M()});a.append(e,f);return a},kb=function(a,b){let c=window.com.nuclearunicorn.game.village.Kitten().traits;const d=c[a];a=$("<li/>");const f=$("<label/>",{"for":"toggle-leaderTrait-"+d.name,text:d.title,css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}}),e=$("<input/>",{id:"toggle-leaderTrait-"+
d.name,name:"leaderTrait",value:d.name,type:"radio"}).data("option",b);e.prop("value")===b.leaderTrait&&e.prop("checked",!0);e.on("change",function(){I("distribute.leaderTrait",[d.title]);b.leaderTrait=$(this).val();c.forEach(g=>{delete D.items["toggle-leaderTrait-"+g.name]});D.items["toggle-leaderTrait-"+b.leaderTrait]=!0;M()});a.append(e,f);return a},Qa=$("#rightColumn"),Fa=$("<div/>",{id:"ks-options",css:{marginBottom:"10px",display:"none"}}),ba=$("<ul/>");ba.append(pa("engine"));k.auto.infinity.allow&&
ba.append(pa("infinity"));Ca.forEach(a=>{ba.append(pa(a))});(function(){let a=$("<li/>",{id:"ks-donate"}).append($("<a/>",{href:"bitcoin:1HDV6VEnXH9m8PJuT4eQD7v8jRnucbneaq?amount=0.00048&label=Kittens Donation",target:"_blank",text:"1HDV6VEnXH9m8PJuT4eQD7v8jRnucbneaq"}));a.css("padding","5px");ba.append(a)})();Qa.prepend(Fa.append(ba));Q=$("<a/>",{css:{display:"inline-block",textShadow:"1px 1px 1px gray",transformOrigin:"bottom",fontStyle:"italic",transform:"scale(0.8)",paddingLeft:"3px"},text:"15.11",
target:"_blank",href:"https://petercheney.gitee.io/scientists/updateLog.html?v="+(new Date).getDate()});$("#ks-engine").append(Q);let F=(a,b,c)=>{b?O.other["auto."+a]=null:O.other["auto."+a]||(c||="miscFilter",S(r("summary.auto."+a),c),E("auto."+a))},ha=a=>{for(let b in a){let c=a[b];E(c.name,c.val,"resConsume")}},O,Aa=function(){O={lastyear:game.calendar.year,lastday:game.calendar.day,craft:{},trade:{},build:{},other:{},resGain:{},resConsume:{},research:{}}};Aa();let E=function(a,b,c){void 0===b&&
(b=1);void 0===c&&(c="other");void 0===O[c]&&(O[c]={});O[c][a]=void 0===O[c][a]?parseFloat(b):O[c][a]+parseFloat(b)};Q=$("<div/>",{id:"activity-box",css:{display:"inline-block",verticalAlign:"top"}});let Ta=$("<a/>",{id:"showActivityHref",text:r("summary.show"),href:"#",css:{verticalAlign:"top"}});Ta.on("click",function(){game.console.messages.length>game.console.maxMessages-250&&game.clearLog();Ba();let a="=".repeat(24);var b=O.resGain;for(f in b){var c=b[f];if(c){var d=game.msg("\u5c0f\u55b5\u5171\u83b7\u5f97\u4e86 "+
game.getDisplayValueExt(c)+" "+$I("resources."+f+".title"),null,null,!0);$(d.span).css("color","#ff589c")}}d&&(game.msg(a,"notice"),d=null);b=O.resConsume;c=game.resPool.resources;for(let g=c.length-1;0<g&&b;g--){var f=c[g].name;let h=b[f];h&&(d=game.msg("\u5c0f\u55b5\u5171\u6d88\u8017\u4e86 "+game.getDisplayValueExt(h)+" "+$I("resources."+f+".title"),null,null,!0),$(d.span).css("color","#DC143C"))}d&&game.msg(a,"notice");d=O.other;for(e in d)if(b=d[e])b="number"===typeof b?game.getDisplayValueExt(b):
b,na("summary."+e,[b]);d=O.research;for(f in d){var e=(e=d[f])?"\u79d1\u5b66\u5bb6":"";na("summary.tech",[e+"\u5c0f\u732b\u7814\u7a76\u4e86 "+W(f)])}for(f in O.upgrade)e=(e=O.upgrade[f])?"\u79d1\u5b66\u5bb6":"",na("summary.upgrade",[e+"\u5c0f\u732b\u53d1\u660e\u4e86 "+W(f)]);["build","faith","craft","craftLeader","trade"].forEach(g=>{let h=O[g];for(let l in h)na("summary."+g,[game.getDisplayValueExt(h[l]),W(l)])});O.lastyear+O.lastday&&(f=game.calendar.year-O.lastyear,e=game.calendar.day-O.lastday,
0>e&&(--f,e+=400),d="",0<f&&(d=d+(f+" ")+(1===f?r("summary.year"):r("summary.years"))),0<=e&&(0<f&&(d+=r("summary.separator")),d+=+(Math.round(+(e+"e+2"))+"e-2")+" ",d+=1===e?r("summary.day"):r("summary.days")),na("summary.head",[d]));f=k.auto.filter;f.enabled&&f.items.craftFilter.enabled&&f.items.buildFilter.enabled&&!game.console.filters.faith.enabled&&!game.console.filters.astronomicalEvent.enabled||(Ga(a),game.msg("\u55b5\u55b5\u63d0\u793a\uff1a\u6e38\u620f(\u73c2\u5b66\u5bb6)\u65e5\u5fd7\u6d88\u8017\u6027\u80fd\u4f1a\u6bd4\u8f83\u591a",
"alert"));Aa()});Q.append(Ta);$("#clearLog").append(Q);const ua=$("<div/>",{id:"important-msg-box",class:"dialog help",css:{display:"none",width:"auto",height:"auto"}});Q=$("<a/>",{text:r("ui.close"),href:"#",css:{position:"absolute",top:"10px",right:"15px"}});Q.on("click",function(){ua.toggle()});let Ua=$("<h1/>",{id:"mb-title",text:"test text"}),Va=$("<h1/>",{id:"mb-content",text:"test text"});ua.append(Q,Ua,Va);$("#gamePageContainer").append(ua);Q=(a,b)=>{Ua.html(a);Va.html(b);ua.toggle()};let L=
new Ja,ia,Ra=()=>{ia=$("#toggle-engine");ia.on("change",function(){let a=k.auto.engine;ia.is(":checked")?(a.enabled=!0,L.start(),Ba(),setTimeout(()=>{a.enabled&&U("\u5982\u9700\u67e5\u770b\u5c0f\u55b5\u505a\u8fc7\u4ec0\u4e48\uff0c\u53ef\u4ee5\u70b9\u51fb\u5c0f\u732b\u603b\u7ed3(\u6e05\u7a7a\u65e5\u5fd7\u65c1\u8fb9)")},2E3)):(a.enabled=!1,L.stop())})};Ra();k.auto.cache.dataTimer.trueYear=game.calendar.trueYear();k.auto.cache.dataTimer.ticksTotal=game.timer.ticksTotal;k.auto.cache.dataTimer.saveId=
game.telemetry.guid;sessionStorage.setItem("options",JSON.stringify(k));Ea();let Sa=()=>{game.console.maxMessages=Math.min(Math.max(300,k.auto.options.items.filterGame.subTrigger),2E3)};Sa();$("#toggle-style").trigger("change");$("#toggle-donate").trigger("change");console&&console.log&&console.log("\u5c0f\u732b\u73c2\u5b66\u5bb6\u7248\u672c15.11 loaded");game._publish("kitten_scientists/ready","\u5c0f\u732b\u73c2\u5b66\u5bb6\u7248\u672c15.11");let Ba=()=>{let a=k.auto.resources,b;for(let d in a){var c=
a[d];c.enabled&&c.stock&&("furs"!==d||350!==c.stock)&&(b=!0,c=game.msg($I("resources."+d+".title")+"\u5e93\u5b58\uff1a"+game.getDisplayValueExt(c.stock),null,null,!0),$(c.span).css("color","#ff589c"))}b&&(S("\u5c0f\u55b5\u7684\u5e93\u5b58\uff1a"),U("\u53ef\u7231\u7684\u732b\u732b\u73c2\u5b66\u5bb6\u63d0\u793a\u6302\u673a\u5c3d\u91cf\u522b\u8bbe\u7f6e\u5e93\u5b58"))};D.reset&&D.reset.reset?(D.reset.karmaTotal+=m.karma.value-Number(D.reset.karmaLastTime),D.reset.paraonTotal+=m.paragon.value-Number(D.reset.paragonLastTime),
D.reset.reset=!1,Q(r("summary.time.reset.title",[D.reset.times]),r("summary.time.reset.content",[D.reset.karmaTotal,D.reset.paragonTotal])),ia.prop("checked",!0),ia.trigger("change"),I("reset.after")):D.reset={reset:!1,times:0,paragonLastTime:0,paragonTotal:0,karmaLastTime:0,karmaTotal:0};M();k.auto.infinity.enabled&&k.auto.infinity.allow&&(k.auto.engine.enabled||ia.click());let Wa=setInterval(function(){if(!k.auto.engine.enabled&&k.auto.options.items.autoScientists.enabled){let a=k.countdown;0===
a?(ia.click(),clearInterval(Wa),I("reset.after")):10<a?(0===a%60&&I("auto.tip"),0===a%10&&H("auto.countdown",[a]),--k.countdown):10>=a&&(I("reset.countdown."+a),--k.countdown)}else clearInterval(Wa)},1E3)},loadTest=function(){if("undefined"===typeof gamePage||"undefined"===typeof i18nLang)setTimeout(function(){loadTest()},1E3);else{let ca=game.workshop.upgrades;for(let fa in ca){let r=ca[fa];game.workshop.metaCache[r.name]=r}game.workshop.metaCache.undefined=null;delete game.workshop.metaCache.undefined;
run();loadTest=run=null}};setTimeout(function(){loadTest()},1E3);
