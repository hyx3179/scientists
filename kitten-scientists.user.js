var kg_version="\u5c0f\u732b\u73c2\u5b66\u5bb6\u7248\u672c1.5.0",address="1HDV6VEnXH9m8PJuT4eQD7v8jRnucbneaq",lang="zh"==localStorage["com.nuclearunicorn.kittengame.language"]?"zh":"en",run=function(){var ba={en:{"option.observe":"Observe Astro Events","option.festival":"Hold Festivals","option.praise":"Auto Praise","option.shipOverride":"Force Ships to 243","option.autofeed":"Feed Leviathans","option.hunt":"Hunt","option.crypto":"Trade Blackcoin","option.embassies":"Build Embassies (Beta)","option.style":"View Full Width",
"option.steamworks":"Turn on Steamworks","filter.build":"Building","filter.craft":"Crafting","filter.upgrade":"Upgrading","filter.research":"Researching","filter.trade":"Trading","filter.hunt":"Hunting","filter.praise":"Praising","filter.faith":"Order of the Sun","filter.festival":"Festivals","filter.star":"Astronomical Events","filter.misc":"Miscellaneous","dispose.necrocorn":"Kittens disposed of inefficient necrocorns","blackcoin.buy":"Kittens sold your Relics and bought {0} Blackcoins","blackcoin.sell":"Kittens sold your Blackcoins and bought {0} Relics",
"act.feed":"Kittens fed the Elders. The elders are pleased","act.observe":"Kitten Scientists have observed a star","act.hunt":"Sent {1} on {0} hunts","act.build":"Kittens have built a new {0}","act.builds":"Kittens have built a new {0} {1} times.","act.craft":"Kittens have crafted {0} {1}","act.trade":"Kittens have traded {0}x with {1}","upgrade.space.mission":"Kittens conducted a mission to {0}","upgrade.space":"Kittens conducted a {0}","upgrade.race":"Kittens met the {0}","upgrade.building.pasture":"Upgraded pastures to solar farms!",
"upgrade.building.aqueduct":"Upgraded aqueducts to hydro plants!","upgrade.building.library":"Upgraded libraries to data centers!","upgrade.building.amphitheatre":"Upgraded amphitheatres to broadcast towers!","upgrade.upgrade":"Kittens have bought the upgrade {0}","upgrade.limited":"Optimize {0}","upgrade.unlimited":"All {0}","upgrade.tech":"Kittens have bought the tech {0}","upgrade.policy":"Kittens have passed {0}","festival.hold":"Kittens begin holding a festival","festival.extend":"Kittens extend the festival",
"build.embassy":"Built {0} embassy for {1}","build.embassies":"Built {0} embassies for {1}","act.praise":"Praised the sun! Accumulated {0} faith to {1} worship","act.sun.discover":"Kittens have discovered {0}","act.sun.discovers":"Kittens have discovered {0} {1} times.","ui.items":"items","ui.disable.all":"disable all","ui.enable.all":"enable all","ui.craft.resources":"resources","ui.trigger":"trigger","ui.trigger.set":"Enter a new trigger value for {0}. Should be in the range of 0 to 1.","ui.limit":"Limited",
"ui.trigger.shipOverride.set":"Enter a new trigger value for {0}. Corresponds to the amount of ship needed before the exchange is made.","ui.trigger.missions.set":"Enter a new trigger value for missions. Should be in the range of 0 to 13. Corresponds to each planet sort","ui.trigger.crypto.set":"Enter a new trigger value for {0}. Corresponds to the amount of Relics needed before the exchange is made.","ui.engine":"Enable Scientists","ui.build":"Bonfire","ui.space":"Space","ui.craft":"Crafting","ui.upgrade":"Unlocking",
"ui.trade":"Trading","ui.faith":"Religion","ui.time":"Time","ui.options":"Options","ui.filter":"Filters","ui.distribute":"Kitten Resources","ui.max":"Max: {0}","ui.upgrade.upgrades":"Upgrades","ui.upgrade.techs":"Techs","ui.upgrade.races":"Races","ui.upgrade.missions":"Missions","ui.upgrade.buildings":"Buildings","ui.upgrade.policies":"Policies","ui.upgrade.policies.load":"Load","ui.upgrade.policies.show":"Show","ui.faith.addtion":"addition","option.faith.best.unicorn":"Build Best Unicorn Building First",
"option.faith.best.unicorn.desc":"Include auto Sacrifice Unicorns if tears are not enough to build the best unicorn building","option.faith.transcend":"Auto Transcend","act.transcend":"Spend {0} epiphany, Transcend to T-level: {1}","summary.transcend":"Transcend {0} times","filter.transcend":"Transcend","option.faith.adore":"Auto Adore the Galaxy","act.adore":"Adore the galaxy! Accumulated {0} worship to {1} epiphany","summary.adore":"Accumulated {0} epiphany by adore the galaxy","filter.adore":"Adoring",
"adore.trigger.set":"Enter a new trigger value for AutoAdore. Should be in the range of 0 to 1.\nKS will AutoAdore if the Solor Revolutuin Bonus brought by praising the sun once after adore can reach the trigger of maximum.\n\nNote: The solar revolution bonus will diminish after reaching 75% of the maximum.","resources.add":"add resources","resources.clear.unused":"clear unused","resources.stock":"Stock: {0}","resources.consume":"Comsume: {0}","resources.del":"del","resources.stock.set":"Stock for {0}",
"resources.consume.set":"Consume rate for {0}","resources.del.confirm":"Delete resource controls for {0}?","status.ks.enable":"Enabling the kitten scientists!","status.ks.disable":"Disabling the kitten scientists!","status.sub.enable":"Enabled {0}","status.auto.enable":"Enable Auto {0}","status.sub.disable":"Disabled {0}","status.auto.disable":"Disable Auto {0}","trade.limited":"Trading with {0}: limited to only occur when profitable based off relative production time","trade.unlimited":"Trading with {0}: unlimited",
"trade.seasons":"seasons","trade.season.enable":"Enabled trading with {0} in the {1}","trade.season.disable":"Disabled trading with {0} in the {1}","filter.enable":"Enable {0} Filter","filter.disable":"Disabled {0} Filter","craft.limited":"Crafting {0}: limited to be proportional to cost ratio","craft.unlimited":"Crafting {0}: unlimited","distribute.limited":"Distribute to {0}: stop when reach max","distribute.unlimited":"Distribute to {0}: unlimited","distribute.leaderJob":"Leader Job: {0} ","distribute.leaderTrait":"Choose {0} Leader",
"distribute.makeLeader":"Make Leader","act.distribute":"Distribute a kitten to {0}","act.distributeLeader":"Make a {0} kitten leader","ui.max.set":"Maximum for {0}","summary.distribute":"Help {0} kittens to find job","filter.distribute":"Distribute","option.promote":"Promote Leader","act.promote":"Kittens' leader has been promoted to rank {0}","filter.promote":"Promote leader","summary.promote":"Promoted leader {0} times","ui.timeCtrl":"Time Control","option.accelerate":"Tempus Fugit","act.accelerate":"Accelerate time!",
"filter.accelerate":"Tempus Fugit","summary.accelerate":"Accelerate time {0} times","option.time.skip":"Time Skip","act.time.skip":"Kittens combuste Time crystal, {0} years skiped!","ui.cycles":"cycles","ui.maximum":"Maximum","time.skip.cycle.enable":"Enable time skip in cycle {0} and allow skip over this cycle","time.skip.cycle.disable":"Disable time skip in cycle {0} and disallow skip over this cycle","time.skip.season.enable":"Enable time skip in the {0}","time.skip.season.disable":"Disable time skip in the {0}",
"time.skip.trigger.set":"Enter a new trigger value for Time Skip (Combust time crystal). Should be a positive integer.","summary.time.skip":"Skip {0} years","filter.time.skip":"Time Skip","option.time.reset":"Reset Timeline (Danger!)","status.reset.check.enable":"Enable check {0} before Reset Timeline","status.reset.check.disable":"Disable check {0} before Reset Timeline","ui.min":"Min: {0}","reset.check.trigger.set":"Enter a new trigger value for {0}.\n-1 meaning must build this building until exceeding resource limit.",
"reset.check":"Trigger for {0} : {1}, you have {2}","reset.checked":"All conditions are met, the timeline will restart in next few seconds!","reset.tip":'You can cancel this reset by disable "Kitten Scientists" or "Time Control" or "Reset Timeline"',"reset.countdown.10":"10 - Harvesting catnip","reset.countdown.9":"&nbsp;9 - Sacrificing Unicorns","reset.countdown.8":"&nbsp;8 - Releasing lizards","reset.countdown.7":"&nbsp;7 - Disassembling railguns","reset.countdown.6":"&nbsp;6 - Starting time engines",
"reset.countdown.5":"&nbsp;5 - Melting blackcoins","reset.countdown.4":"&nbsp;4 - Turning off satellite","reset.countdown.3":"&nbsp;3 - Opening temporal rifts","reset.countdown.2":"&nbsp;2 - Boosting the chronoforge","reset.countdown.1":"&nbsp;1 - Time engine start","reset.countdown.0":"&nbsp;0 - Temporal rifts opened!","reset.last.message":"See you next poincar\u00e9 recurrence","reset.after":"Nice to meet you, the cute Kittens Scientists will serve you","reset.cancel.message":"Timeline Reset canceled.",
"reset.cancel.activity":"Meoston, We Have a Problem.","summary.time.reset.title":"Summary of the last {0} timelines","summary.time.reset.content":"Gain {0} Karma.<br>Gain {1} Paragon.","ui.close":"close","option.fix.cry":"Fix Cryochamber","act.fix.cry":"Kittens fix {0} Cryochambers","summary.fix.cry":"Fix {0} Cryochambers","summary.festival":"Held {0} festivals","summary.stars":"Observed {0} stars","summary.praise":"Accumulated {0} worship by praising the sun","summary.hunt":"Sent adorable kitten hunters on {0} hunts",
"summary.embassy":"Built {0} embassies","summary.feed":"Fed the elders {0} necrocorns","summary.tech":"Researched: {0}","summary.upgrade":"Upgraded: {0}","summary.building":"Built: +{0} {1}","summary.sun":"Discovered: +{0} {1}","summary.craft":"Crafted: +{0} {1}","summary.trade":"Traded: {0}x {1}","summary.year":"year","summary.years":"years","summary.separator":" and ","summary.day":"day","summary.days":"days","summary.head":"Summary of the last {0}","summary.show":"Show activity"},zh:{"option.observe":"\u89c2\u6d4b\u5929\u6587\u73b0\u8c61",
"option.festival":"\u4e3e\u529e\u8282\u65e5","option.praise":"\u8d5e\u7f8e\u592a\u9633","option.shipOverride":"\u65e0\u89c6\u8d38\u6613\u8239\u9650\u5236","option.autofeed":"\u732e\u796d\u6b7b\u7075\u517d","option.hunt":"\u6d3e\u51fa\u730e\u4eba","option.crypto":"\u9ed1\u5e01\u4ea4\u6613","option.embassies":"\u5efa\u9020\u5927\u4f7f\u9986","option.style":"\u5360\u6ee1\u5c4f\u5e55","option.useWorkers":"\u73c2\u5b66\u5bb6webWorker","filter.build":"\u5efa\u7b51","filter.craft":"\u5de5\u827a","filter.upgrade":"\u5347\u7ea7",
"filter.research":"\u7814\u7a76","filter.trade":"\u8d38\u6613","filter.hunt":"\u72e9\u730e","filter.praise":"\u8d5e\u7f8e\u592a\u9633","filter.faith":"\u592a\u9633\u6559\u56e2","filter.festival":"\u4e3e\u529e\u8282\u65e5","filter.star":"\u5929\u6587\u73b0\u8c61","filter.misc":"\u6742\u9879","dispose.necrocorn":"\u5c0f\u732b\u5e2e\u4f60\u5904\u7406\u6389\u4e86\u5f71\u54cd\u6548\u7387\u7684\u591a\u4f59\u6b7b\u7075\u517d","act.feed":"\u5c0f\u732b\u5411\u4e0a\u53e4\u795e\u732e\u4e0a\u796d\u54c1\u3002\u4e0a\u53e4\u795e\u5f88\u9ad8\u5174",
"blackcoin.buy":"\u5c0f\u732b\u82b1\u6389 {1} \u9057\u7269\uff0c\u52a0\u4ed3\u4e86 {0} \u9ed1\u5e01","blackcoin.sell":"\u5c0f\u732b\u629b\u552e {1} \u9ed1\u5e01\uff0c\u5957\u73b0\u4e86 {0} \u9057\u7269","act.observe":"\u5c0f\u732b\u73c2\u5b66\u5bb6\u89c2\u6d4b\u5230\u4e00\u6b21\u5929\u6587\u73b0\u8c61","act.hunt":"{0} \u6ce2{1}\u53bb\u6253\u730e","act.hunt.unicorn":"\u5c0f\u732b\u6025\u7740\u7ed9\u72ec\u89d2\u517d\u914d\u79cd","act.build":"\u5c0f\u732b\u5efa\u9020\u4e86\u4e00\u4e2a {0}","act.builds":"\u5c0f\u732b\u5efa\u9020\u4e86 {1} \u4e2a\u65b0\u7684 {0}",
"act.build.lower":"\u672a\u7814\u7a76\u8f68\u9053\u6d4b\u5730\u5b66\uff0c\u964d\u4f4e\u7267\u573a\u3001\u56fe\u4e66\u9986\u3001\u7814\u7a76\u9662\u3001\u7194\u7089\u3001\u7cae\u4ed3\u3001\u6e2f\u53e3\u7684\u4f18\u5148\u5ea6","act.craft":" {0} {1}","act.trade":" {1} \u4ea4\u6613 {0} \u6b21","upgrade.space.mission":"\u5c0f\u732b\u6267\u884c\u4e86 {0} \u7684\u4efb\u52a1","upgrade.space":"\u5c0f\u732b\u6267\u884c\u4e86 {0}","upgrade.race":"\u5c0f\u732b\u9047\u5230\u4e86 {0}","upgrade.upgrade":"{1}\u53d1\u660e\u4e86 {0}",
"upgrade.limited":"\u4f18\u5316 {0}","upgrade.unlimited":"\u5168\u90e8 {0}","upgrade.tech":"{1}\u7814\u7a76\u4e86 {0}","upgrade.policy":"\u5c0f\u732b\u901a\u8fc7\u4e86 {0} \u6cd5\u6848","festival.hold":"\u5c0f\u732b\u5f00\u59cb\u4e3e\u529e\u8282\u65e5","festival.extend":"\u5c0f\u732b\u5ef6\u957f\u4e86\u8282\u65e5","build.embassy":"\u5728 {1} \u8bbe\u7acb\u4e86 {0} \u4e2a\u5927\u4f7f\u9986","build.embassies":"\u5728 {1} \u8bbe\u7acb\u4e86 {0} \u4e2a\u5927\u4f7f\u9986","act.praise":"\u8d5e\u7f8e\u592a\u9633! \u8f6c\u5316 {0} \u4fe1\u4ef0\u4e3a {1} \u8654\u8bda",
"act.praise.msg":"\u56e0\u8654\u8bda\u592a\u4f4e\uff0c\u5c0f\u732b\u6bcf\u5929\u90fd\u4f1a\u8d5e\u7f8e\u592a\u9633\uff0c\u76f4\u5230\u592a\u9633\u9769\u547d\u52a0\u6210\u5927\u4e8e {0}","act.sun.discover":"\u5c0f\u732b\u5728\u5b97\u6559\u7977\u544a\u4e86 {0} ","act.sun.discovers":"\u5c0f\u732b\u5728\u5b97\u6559\u7977\u544a\u4e86 {0} {1} \u6b21","act.sun.discovers.leader":"\u54f2\u5b66\u5bb6\u5c0f\u732b\u5728\u5b97\u6559\u7977\u544a\u4e86 {0} {1} \u6b21","ui.infinity":"\u65e0\u9650\u6d41","ui.infinity.buildChronosphere":"\u4fee\u5efa\u4f20\u9001\u4eea",
"ui.infinity.cryoFix":"\u51b7\u51bb\u4ed3\u4fee\u590d","ui.infinity.autoReset":"\u81ea\u52a8\u91cd\u7f6e","ui.infinity.autohunt":"\u65e0\u9650\u6253\u730e","ui.infinity.autoTransform":"\u65e0\u9650\u9057\u7269","ui.infinity.autoCT":"\u65e0\u9650\u5965\u79d8","ui.infinity.skiptime":"\u71c3\u70e7\u65f6\u95f4\u6c34\u6676","ui.infinity.chronosphere":"\u4f20\u9001\u4eea\uff1a{0} \u4e0d\u8db3\u4ee5\u518d\u4fee\u5efa {1} \u4e2a\u4f20\u9001\u4eea","ui.trigger.buildChronosphere.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u4fee\u5efa\u4f20\u9001\u4eea \u89e6\u53d1\u503c\uff0c\u5927\u4e8e\u7b49\u4e8e 0 \u7684\u6574\u6570\u3002\n\u9ed8\u8ba4\u503c 67 \uff0c\u81ea\u52a8\u91cd\u7f6e\u4f1a\u5f3a\u5236\u68c0\u67e5\u6570\u91cf\u3002\n\u76ee\u524d\u65e0\u81ea\u52a8\u8c03\u6574\uff0c\u65e0\u9650\u6d41\u524d\u671f\u4f7f\u7528\u9700\u6ce8\u610f\u8c03\u6574\u3002\n\u53ef\u4ee5\u7a33\u5b9a\u5efa\u9020 666 \u4ee5\u4e0a\u4f20\u9001\u4eea\u65f6\u5efa\u8bae\u914d\u5408\u51b7\u51bb\u4ed3\uff0c\n\u4f7f\u7528 \u51b7\u51bb\u4ed3\u4fee\u590d \u529f\u80fd\uff0c\u53ef\u540c\u6b65\u83b7\u5f97\u5927\u91cf\u4e1a\u529b\u3002",
"ui.trigger.cryoFix.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u51b7\u51bb\u4ed3\u4fee\u590d \u89e6\u53d1\u503c\uff0c\u5927\u4e8e\u7b49\u4e8e 0 \u7684\u6574\u6570\u3002\n\u5efa\u8bae\u5c0f\u4e8e\u7b49\u4e8e\u5df2\u62e5\u6709\u7684\u51b7\u51bb\u4ed3\u6570\u91cf\uff0c\n\u4ec5\u5728\u6d88\u8017\u4e1a\u529b \uff1c1 \u4e14\u672a\u5f00\u542f \u795e\u5723\u706d\u7edd \u65f6\u4f1a\u81ea\u52a8\u5efa\u9020\u65b0\u7684\u51b7\u51bb\u4ed3\u3002","ui.trigger.autohunt.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u65e0\u9650\u6253\u730e \u89e6\u53d1\u503c\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u7eaf\u5c0f\u6570\u3002\n\u8bbe\u7f6e\u4e3a 0 \u65f6\u6253\u730e\u6b21\u6570\u4e3a\u4e0d\u6d88\u8017\u55b5\u529b\u7684\u6700\u5927\u6570\u91cf\u3002\n\u4ec5\u5728\u6bdb\u76ae\u3001\u8c61\u7259\u3001\u72ec\u89d2\u517d\u4e2d\u6709 0 \u65f6\u89e6\u53d1\u3002",
"ui.trigger.autoTransform.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u65e0\u9650\u9057\u7269 \u89e6\u53d1\u503c\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u7eaf\u5c0f\u6570\u3002\n\u8bbe\u7f6e\u4e3a 0 \u65f6\u7cbe\u70bc\u6b21\u6570\u4e3a\u4e0d\u6d88\u8017 \u65f6\u95f4\u6c34\u6676 \u7684\u6700\u5927\u6570\u91cf\u3002\n\u9057\u7269\u5c0f\u4e8e \u221e \u65f6\u89e6\u53d1\u3002","ui.trigger.skiptime.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u71c3\u70e7\u65f6\u95f4\u6c34\u6676 \u89e6\u53d1\u503c\uff0c \u5728 [0,2^62] \u5185\u7684\u6574\u6570\u3002\n\u5176\u503c\u4e3a\u9700\u8981\u5230\u8fbe\u7684\u6e38\u620f\u65e5\u5386\u5e74\uff0c\u9ed8\u8ba4\u4e3a 40K\u3002\n\u6e38\u620f\u89c4\u5219\u5185 \u80fd\u5230\u8fbe\u7684\u6700\u5927\u65e5\u5386\u5e74\u4e3a\n2^62 = \u7b2c4,611,686,018,427,388,000\u5e74\uff0c\n\u6700\u5927\u771f\u5b9e\u5e74\u4e3a 2^53 = \u7b2c9,007,199,254,740,992\u5e74\n\u672c\u529f\u80fd\u9700\u8981 \u65f6\u95f4\u6c34\u6676 \u8d85\u8fc7 1e100 \u624d\u5141\u8bb8\u4f7f\u7528",
"ui.trigger.autoCT.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u65e0\u9650\u5965\u79d8 \u89e6\u53d1\u503c\uff0c\n\u652f\u63013\u4e2a\u53c2\u6570\uff1a-\u7b26\u53f7\u9694\u5f00\u6570\u5b57\u53c2\u6570\u3002\n\u7b2c\u4e00\u4e2a\u6570\u5b57\uff1a0-9\uff0c\u5206\u522b\u5bf9\u5e94 10 \u4e2a\u5965\u79d8\u795e\u5b66\n\u7b2c\u4e8c\u4e2a\u6570\u5b57\uff1a\u6bcf\u8f6e\u5347\u7ea7\u6b21\u6570\uff08\u6700\u5927\u4e3a 1000 \uff09\n\u7b2c\u4e09\u4e2a\u6570\u5b57\uff1a\u9700\u8981\u8fbe\u5230\u7684\u7b49\u7ea7\uff08\u6700\u5927 2^53\uff09\n\u9ed8\u8ba4\u4e3a\u7a7a\uff0c\u5fc5\u987b\u81ea\u884c\u8bbe\u7f6e\n\u53ea\u6709\u62e5\u6709 \u221e \u7684\u65f6\u95f4\u6c34\u6676\u624d\u80fd\u4f7f\u7528\n\u4f1a\u81ea\u52a8\u6e05\u9664\u7cbe\u70bc\u65f6\u95f4\u6c34\u6676\u4ea7\u751f\u7684\u5927\u91cf\u65e5\u5fd7",
"ui.items":"\u9879\u76ee","ui.disable.all":"\u5168\u90e8\u7981\u7528","ui.enable.all":"\u5168\u90e8\u542f\u7528","ui.craft.resources":"\u8d44\u6e90","ui.trigger":"\u89e6\u53d1\u6761\u4ef6","ui.trigger.set":"\u8f93\u5165\u65b0\u7684 {0} \u89e6\u53d1\u503c\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u7eaf\u5c0f\u6570\u3002","ui.trigger.resource":"\u89e6\u53d1\u8d44\u6e90\u4e3a","ui.none":"\u65e0","ui.limit":"\u9650\u5236","ui.upgradesLimit":"\u4f18\u9009","ui.trigger.shipOverride.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u5f3a\u5236\u8d38\u6613\u8239 \u89e6\u53d1\u503c\uff0c\n\u8d38\u6613\u8239\u6570\u91cf\u4f4e\u4e8e\u89e6\u53d1\u6761\u4ef6\u65f6\u4f1a\u65e0\u89c6\u5de5\u827a\u7684\u8d38\u6613\u8239\u9650\u5236\u542f\u7528\u3002",
"ui.trigger.missions.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u63a2\u7d22\u661f\u7403 \u89e6\u53d1\u503c,\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 13 \u7684\u6574\u6570\u3002\n\u5206\u522b\u5bf9\u5e9413\u9897\u661f\u7403\u3002","ui.trigger.crypto.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 {0} \u89e6\u53d1\u503c\uff0c\n\u652f\u63013\u4e2a\u53c2\u6570\uff1a-\u7b26\u53f7\u9694\u5f00\u6570\u5b57\u53c2\u6570\n\u7b2c\u4e00\u4e2a\u6570\u5b57\uff1a\u5f53\u9057\u7269\u6570\u91cf\u5927\u4e8e\u89e6\u53d1\u503c\u624d\u4f1a\u8fdb\u884c\u9ed1\u5e01\u4ea4\u6613\n\u7b2c\u4e8c\u4e2a\u6570\u5b57\uff1a\u4e70\u5165\u7684\u6700\u9ad8\u4ef7\uff08\u8d85\u8fc7\u8fd9\u4ef7\u683c\u5c31\u4e0d\u4f1a\u4e70\u4e86\uff09\n\u7b2c\u4e09\u4e2a\u6570\u5b57\uff1a\u5356\u51fa\u6700\u4f4e\u7684\u4ef7\u683c\u3002\uff08\u4f4e\u4e8e\u8fd9\u4ef7\u683c\u5c31\u4e0d\u4f1a\u5356\u51fa\uff09\n\u9ed8\u8ba410000-881-1060",
"ui.engine":"\u542f\u7528\u5c0f\u732b\u73c2\u5b66\u5bb6","ui.build":"\u8425\u706b","ui.space":"\u592a\u7a7a","ui.craft":"\u5de5\u827a","ui.upgrade":"\u5347\u7ea7","ui.trade":"\u8d38\u6613","ui.faith":"\u5b97\u6559","ui.time":"\u65f6\u95f4","ui.options":"\u9009\u9879","ui.filter":"\u65e5\u5fd7\u8fc7\u6ee4","ui.distribute":"\u732b\u529b\u8d44\u6e90","ui.max":"Max: {0}","msg.catnip":"\u5982\u679c\u5bd2\u51ac\u732b\u8584\u8377\u4ea7\u91cf\u4f4e\u4e8e0\uff0c\u5c0f\u732b\u73c2\u5b66\u5bb6\u4f1a\u505c\u6b62\u6d88\u8017\u732b\u8584\u8377",
"ui.upgrade.upgrades":"\u5de5\u574a\u5347\u7ea7","ui.upgrade.techs":"\u79d1\u5b66\u79d1\u6280","ui.upgrade.races":"\u63a2\u9669\u8005\u51fa\u53d1!","ui.upgrade.missions":"\u63a2\u7d22\u661f\u7403","ui.upgrade.buildings":"\u5347\u7ea7\u5efa\u7b51","ui.upgrade.policies":"\u653f\u7b56","ui.upgrade.policies.load":"\u8bfb\u53d6","ui.upgrade.policies.show":"\u5217\u8868","ui.faith.addtion":"\u9644\u52a0\u9009\u9879","option.faith.best.unicorn":"\u81ea\u52a8\u6700\u6548\u7387\u72ec\u89d2\u517d\u5efa\u7b51",
"option.faith.best.unicorn.desc":"\u81ea\u52a8\u732e\u796d\u72ec\u89d2\u517d\uff0c\u5e76\u4f1a\u5efa\u9020\u6700\u4f73\u72ec\u89d2\u517d\u5efa\u7b51","option.faith.transcend":"\u81ea\u52a8\u6700\u4f73\u6b21\u5143\u8d85\u8d8a","transcend.catnip":"\u6ce8\u610f\u6b21\u5143\u8d85\u8d8a\u518d\u8d5e\u7f8e\u7fa4\u661f\u540e\u732b\u8584\u8377\u4ea7\u91cf\u4e0d\u591f\uff0c\u6545\u53d6\u6d88\u6b21\u5143\u8d85\u8d8a\u4e86(\u81ea\u5df1\u8865\u4e0b\u519c\u6c11)","act.transcend":"\u6d88\u8017 {0} \u987f\u609f\uff0c\u8fbe\u5230\u6b21\u5143\u8d85\u8d8a {1}",
"summary.transcend":"\u6b21\u5143\u8d85\u8d8a\u4e86 {0} \u6b21","filter.transcend":"\u6b21\u5143\u8d85\u8d8a","option.faith.adore":"\u8d5e\u7f8e\u7fa4\u661f","adore.catnip":"\u6ce8\u610f\u8d5e\u7f8e\u7fa4\u661f\u540e\u732b\u8584\u8377\u4ea7\u91cf\u4e0d\u591f\uff0c\u6545\u53d6\u6d88\u8d5e\u7f8e\u7fa4\u661f\u4e86","act.adore":"\u8d5e\u7f8e\u7fa4\u661f! \u8f6c\u5316 {0} \u8654\u8bda\u4e3a {1} \u987f\u609f","act.adore.last":"\u4e0b\u6b21\u5c0f\u732b\u8d5e\u7f8e\u7fa4\u661f\uff0c\u4f1a\u7b49\u5230\u8654\u8bda\u5927\u4e8e {0} ",
"summary.adore":"\u901a\u8fc7\u8d5e\u7f8e\u7fa4\u661f\u79ef\u7d2f\u4e86 {0} \u987f\u609f","summary.adore.last":"\u4e0b\u6b21\u8d5e\u7f8e\u7fa4\u661f\u4f1a\u7b49\u5230\u8654\u8bda\u5927\u4e8e{0} ","filter.adore":"\u8d5e\u7f8e\u7fa4\u661f","adore.trigger.set":"\u4e3a\u8d5e\u7f8e\u7fa4\u661f\u8bbe\u5b9a\u4e00\u4e2a\u65b0\u89e6\u53d1\u503c\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u5c0f\u6570\u3002\uff080.001\u4e3a\u81ea\u52a8\u6a21\u5f0f\uff09\n\n\u540c\u65f6\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u73c2\u5b66\u5bb6\u5c06\u81ea\u52a8\u8d5e\u7f8e\u7fa4\u661f\u3002\n1. \u8d5e\u7f8e\u7fa4\u661f\u518d\u8d5e\u7f8e\u592a\u9633\u540e\uff0c\u9700\u592a\u9633\u9769\u547d\u52a0\u6210 \u2265 \u89e6\u53d1\u503c * 1000%\n2. \u5f53\u524d\u4fe1\u4ef0 / \u4fe1\u4ef0\u4e0a\u9650 \u2265 0.98(\u8d5e\u7f8e\u592a\u9633\u89e6\u53d1\u6761\u4ef6\u8bbe\u7f6e0.98\u914d\u5408\u4f7f\u7528)\n3.\u63a2\u7d22\u6708\u7403\u5df2\u5b8c\u6210\n4. \u6b21\u5143\u8d85\u8d8a\u7b49\u7ea7\u4f4e\u4e8e 11\uff0c\u9700\u8d5e\u7f8e\u7fa4\u661f\u540e\u7684\u732b\u8584\u8377\u4ea7\u91cf\uff1e0\u3002\n\u63a8\u8350\u542f\u7528\u8be5\u529f\u80fd\u591a\u653e\u51e0\u4e2a\u519c\u6c11\uff0c\u55b5\u55b5\u4fdd\u62a4\u534f\u4f1a\u4e0d\u5141\u8bb8\u997f\u6b7b\u55b5\u55b5\u55b5\n5. \u6b21\u5143\u8d85\u8d8a\u7b49\u7ea7\u4f4e\u4e8e 12\uff0c\u9700\u5f53\u524d\u8654\u8bda\uff1e\u4e0a\u6b21\u8d5e\u7f8e\u7fa4\u661f\u65f6\u5019\u7684\u8654\u8bda",
"resources.add":"\u6dfb\u52a0\u8d44\u6e90","resources.clear.unused":"\u6e05\u9664\u672a\u4f7f\u7528","resources.stock":"\u5e93\u5b58: {0}","resources.consume":"\u6d88\u8017\u7387: {0}","resources.del":"\u5220\u9664","resources.stock.set":"\u8bbe\u7f6e {0} \u7684\u5e93\u5b58","resources.consume.set":"\u8bbe\u7f6e {0} \u7684\u6d88\u8017\u7387","resources.del.confirm":"\u786e\u5b9a\u8981\u53d6\u6d88 {0} \u7684\u5e93\u5b58\u63a7\u5236?","status.ks.enable":"\u795e\u8bf4\uff0c\u8981\u6709\u732b\u732b\u73c2\u5b66\u5bb6!",
"status.ks.disable":"\u592a\u656c\u4e1a\u4e86\uff0c\u8be5\u6b47\u4e86","status.sub.enable":"\u542f\u7528 {0}","status.auto.enable":"\u542f\u7528\u81ea\u52a8\u5316 {0}","status.sub.disable":"\u7981\u7528 {0}","status.auto.disable":"\u7981\u7528\u81ea\u52a8\u5316 {0}","trade.limited":"\u8d38\u6613\u83b7\u5f97\u6570\u91cf\u5927\u4e8e\u4ea7\u91cf\u65f6\u624d\u4e0e {0} \u8d38\u6613\uff0c\u6b21\u6570\u81ea\u52a8\u9650\u5236","trade.limitedTitle":"\u6839\u636e\u4ea7\u91cf\u548c\u8d38\u6613\u83b7\u5f97\u6570\u91cf",
"trade.unlimited":"{1}\u4e0e {0} \u7684 \u8d38\u6613","trade.seasons":"\u5b63\u8282","trade.season.enable":"\u542f\u7528\u5728 {1} \u4e0e {0} \u7684\u8d38\u6613","trade.season.disable":"\u505c\u6b62\u5728 {1} \u4e0e {0} \u7684\u8d38\u6613","trade.catnip":"\u56e0\u732b\u8584\u8377\u50a8\u91cf\u8fc7\u4f4e\uff0c\u4e0e\u9ca8\u9c7c\u8d38\u6613","filter.enable":"\u8fc7\u6ee4 {0}","filter.disable":"\u53d6\u6d88\u8fc7\u6ee4 {0}","craft.limited":"\u9650\u5236{0}\uff08\u7406\u89e3\u4e3a\u8be5\u8d44\u6e90\u89e6\u53d1\u6761\u4ef6\u3001\u6d88\u8017\u7387\u90fd\u4e3aAI\u81ea\u52a8\u8bbe\u7f6e\u3002",
"craft.limited.parchment":"\u5c0f\u732b\u8d34\u5fc3\u5730\u5e2e\u4f60\u5173\u95ed\u4e86{0}\u7684\u9650\u5236","craft.limitedTitle":"\u6839\u636e\u539f\u6750\u6599\u548c\u76ee\u6807\u6750\u6599\u7684\u6570\u91cf","craft.unlimited":"\u89e6\u53d1\u8d44\u6e90\uff1a{1}{0}","craft.winterCatnip":"\u56e0\u5bd2\u51ac\u732b\u8584\u8377\u4ea7\u91cf\u4f4e\u4e8e0\uff0c\u6545\u53d6\u6d88\u4f7f\u7528\u732b\u8584\u8377","distribute.limited":"\u5206\u914d {0} \u53d7\u9650\u4e8e\u6700\u5927\u503c","distribute.leaderJob":"\u9886\u8896\u5de5\u4f5c\u4e3a {0} ",
"distribute.leaderTrait":"\u9886\u8896\u7684\u7279\u8d28\u4e3a {0} ","distribute.unlimited":"\u5206\u914d {0} \u4e0d\u53d7\u9650","distribute.makeLeader":"\u5206\u914d\u9886\u8896","act.distribute":"\u5206\u914d\u4e00\u53ea\u732b\u732b\u6210\u4e3a {0}","act.distribute.catnip":"\u62c5\u5fc3\u4f60\u7684\u732b\u732b\u6ca1\u6709\u732b\u8584\u8377\u5438\u5e76\u5f3a\u5236\u5206\u914d\u5230\u519c\u6c11","act.distributeLeader":"\u5206\u914d\u4e00\u53ea {0} \u732b\u732b\u9886\u8896","ui.max.set":"\u8bbe\u7f6e {0} \u7684\u6700\u5927\u503c",
"summary.distribute":"\u5e2e\u52a9 {0} \u53ea\u732b\u732b\u627e\u5230\u5de5\u4f5c","filter.distribute":"\u732b\u53e3\u5206\u914d","set.leader":"\u4f1a\u81ea\u52a8\u5207\u6362 {0}","option.promote":"\u63d0\u62d4\u9886\u8896","act.promote":"\u9886\u8896\u88ab\u63d0\u62d4\u5230 {0} \u7ea7","filter.promote":"\u63d0\u62d4\u9886\u8896","summary.promote":"\u63d0\u62d4\u9886\u8896 {0} \u6b21","ui.trigger.useWorkers.alert":"\u6bd4\u5982\u5929\u6587\u4e8b\u4ef6\u6ca1\u89c2\u6d4b\u5168\u662f\u56e0\u4e3a\u540e\u53f0\u6162\u901f\u8fd0\u884c\n\u52fe\u9009\u5c06\u4f1a\u5728\u540e\u53f0\u6ee1\u901f\u8fd0\u884c\uff0c\u6ce8\u610f\u4f1a\u5bfc\u81f4\u4f7f\u7528\u5185\u5b58\u589e\u591a\u3002\n\u7535\u8111\u4e0d\u597d\u3001\u5185\u5b58\u2264 8G\u7684\u5efa\u8bae\u7981\u7528\n\u9700\u6ee1\u8db3\u6d4f\u89c8\u5668\u652f\u6301\u4e14\u6e38\u620f\u9009\u9879\u7684web worker\u542f\u7528\u3002\n\u786e\u8ba4\u540e\u4f1a\u81ea\u52a8\u91cd\u65b0\u52fe\u9009\u542f\u7528\u73c2\u5b66\u5bb6",
"ui.timeCtrl":"\u65f6\u95f4\u64cd\u7eb5","option.accelerate":"\u5149\u9634\u4f3c\u7bad","act.accelerate":"\u56fa\u6709\u65f6\u5236\u5fa1\uff0c\u4e8c\u500d\u901f!","act.accelerate.acl":"\u6293\u7a33\u4e86\uff0c\u8981\u52a0\u901f\u4e86!","act.accelerate.slow":"\u4e0d\u884c\u4e86\uff0c\u8981\u51cf\u901f\u4e86","filter.accelerate":"\u5149\u9634\u4f3c\u7bad","summary.accelerate":"\u5c0f\u732b\u52a0\u901f\u65f6\u95f4 {0} \u6b21","option.time.skip":"\u65f6\u95f4\u8df3\u8f6c","act.time.skip":"\u71c3\u70e7\u65f6\u95f4\u6c34\u6676, \u8df3\u8fc7\u63a5\u4e0b\u6765\u7684 {0} \u5e74!",
"ui.cycles":"\u5468\u671f","ui.maximum":"\u4e0a\u9650","time.skip.cycle.enable":"\u542f\u7528\u5728 {0} \u8df3\u8f6c\u65f6\u95f4\u5e76\u5141\u8bb8\u8df3\u8fc7\u8be5\u5468\u671f","time.skip.cycle.disable":"\u505c\u6b62\u5728 {0} \u8df3\u8f6c\u65f6\u95f4\u5e76\u7981\u6b62\u8df3\u8fc7\u8be5\u5468\u671f","time.skip.season.enable":"\u542f\u7528\u5728 {0} \u8df3\u8f6c\u65f6\u95f4","time.skip.season.disable":"\u505c\u6b62\u5728 {0} \u8df3\u8f6c\u65f6\u95f4","time.skip.trigger.set":"\u62e5\u6709\u65f6\u95f4\u6c34\u6676\u6570\u91cf\u5927\u4e8e\u8be5\u89e6\u53d1\u503c\u624d\u4f1a\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff0c\u53d6\u503c\u8303\u56f4\u4e3a\u6b63\u6574\u6570\u3002\n\u4e0a\u9650\u4e3a\u6bcf\u6b21\u71c3\u70e7\u6c34\u6676\u6700\u5927\u5e74\u6570\uff0c\u6839\u636e\u65f6\u8ba1\u7089\u6570\u91cf\uff0c\u4e00\u5f00\u59cb\u63a8\u83501\n\u5468\u671f\u9ed8\u8ba4\u5168\u52fe\u5c31\u884c\uff0c\u73c2\u5b66\u5bb6\u4f1a\u81ea\u52a8\u5224\u65ad\u662f\u5426\u505c\u5728\u7ea2\u6708",
"summary.time.skip":"\u8df3\u8fc7 {0} \u5e74","filter.time.skip":"\u65f6\u95f4\u8df3\u8f6c","option.time.reset":"\u91cd\u542f\u65f6\u95f4\u7ebf (\u5f03\u7528)","status.reset.check.enable":"\u5728\u91cd\u542f\u65f6\u95f4\u7ebf\u524d\u68c0\u67e5 {0}","status.reset.check.disable":"\u5728\u91cd\u542f\u65f6\u95f4\u7ebf\u524d\u4e0d\u68c0\u67e5 {0}","ui.min":"Min: {0}","reset.check.trigger.set":"\u4e3a {0} \u8bbe\u7f6e\u65b0\u7684\u89e6\u53d1\u503c.\n-1 \u8868\u793a\u5fc5\u987b\u5c06\u6b64\u5efa\u7b51\u5efa\u9020\u81f3\u8d85\u8fc7\u8d44\u6e90\u4e0a\u9650\u4e3a\u6b62",
"reset.check":"{0} \u7684\u89e6\u53d1\u503c: {1}, \u73b0\u5728\u5171\u6709 {2}","reset.checked":"\u6240\u6709\u6761\u4ef6\u90fd\u5df2\u6ee1\u8db3\uff0c\u65f6\u95f4\u7ebf\u5c06\u5728\u51e0\u79d2\u540e\u91cd\u542f!","reset.tip":'\u4f60\u53ef\u4ee5\u901a\u8fc7\u53d6\u6d88 "\u542f\u7528\u5c0f\u732b\u73c2\u5b66\u5bb6" \u6216 "\u65f6\u95f4\u64cd\u63a7" \u6216 "\u91cd\u542f\u65f6\u95f4\u7ebf" \u4ee5\u53d6\u6d88\u6b64\u6b21\u91cd\u542f',"reset.countdown.10":"10 - \u6b63\u5728\u6536\u83b7\u732b\u8584\u8377",
"reset.countdown.9":"&nbsp;9 - \u6b63\u5728\u732e\u796d\u72ec\u89d2\u517d","reset.countdown.8":"&nbsp;8 - \u6b63\u5728\u653e\u751f\u8725\u8734","reset.countdown.7":"&nbsp;7 - \u6b63\u5728\u62c6\u89e3\u7535\u78c1\u70ae","reset.countdown.6":"&nbsp;6 - \u6b63\u5728\u542f\u52a8\u65f6\u95f4\u5f15\u64ce","reset.countdown.5":"&nbsp;5 - \u6b63\u5728\u878d\u5316\u9ed1\u5e01","reset.countdown.4":"&nbsp;4 - \u6b63\u5728\u5173\u95ed\u536b\u661f","reset.countdown.3":"&nbsp;3 - \u6b63\u5728\u6253\u5f00\u65f6\u7a7a\u88c2\u9699",
"reset.countdown.2":"&nbsp;2 - \u6b63\u5728\u542f\u52a8\u65f6\u95f4\u953b\u9020","reset.countdown.1":"&nbsp;1 - \u65f6\u95f4\u5f15\u64ce\u5df2\u542f\u52a8!","reset.countdown.0":"&nbsp;0 - \u65f6\u7a7a\u88c2\u7f1d\u5df2\u6253\u5f00!","reset.last.message":"\u6211\u4eec\u4e0b\u4e2a\u5e9e\u52a0\u83b1\u56de\u5f52\u518d\u89c1","reset.after":"\u521d\u6b21\u89c1\u9762\uff0c\u53ef\u7231\u7684\u732b\u732b\u79d1\u5b66\u5bb6\u4e3a\u60a8\u670d\u52a1","reset.cancel.message":"\u91cd\u542f\u65f6\u95f4\u7ebf\u8ba1\u5212\u53d6\u6d88.",
"reset.cancel.activity":"\u55b5\u65af\u987f\uff0c\u6211\u4eec\u6709\u9ebb\u70e6\u4e86.","summary.time.reset.title":"\u8fc7\u53bb {0} \u4e2a\u65f6\u95f4\u7ebf\u7684\u603b\u7ed3","summary.time.reset.content":"\u83b7\u5f97 {0} \u4e1a.<br>\u83b7\u5f97 {1} \u9886\u5bfc\u529b.","ui.close":"\u5173\u95ed","auto.countdown":"{0} \u79d2\u540e\u5c06\u4f1a\u81ea\u52a8\u542f\u7528\u73c2\u5b66\u5bb6","auto.tip":'\u4f60\u53ef\u4ee5\u901a\u8fc7\u53d6\u6d88 "\u9996\u6b21\u81ea\u542f\u73c2\u5b66\u5bb6" \u4ee5\u53d6\u6d88\u6b64\u6b21\u81ea\u52a8\u5f00\u542f',
"option.fix.cry":"\u4fee\u590d\u51b7\u51bb\u4ed3","act.fix.cry":"\u5c0f\u732b\u4fee\u590d\u4e86 {0} \u4e2a\u51b7\u51bb\u4ed3","summary.fix.cry":"\u4fee\u590d\u4e86 {0} \u4e2a\u51b7\u51bb\u4ed3","summary.auto.steamworks":"\u6709\u78c1\u7535\u673a\u540e\u624d\u4f1a\u5efa\u9020\u84b8\u6c7d\u5de5\u623f","summary.auto.temple":"\u7977\u544a\u4e86\u592a\u9633\u9769\u547d\u624d\u4f1a\u5efa\u9020\u795e\u6bbf","summary.auto.tradepost":"\u7977\u544a\u592a\u9633\u9769\u547d\u524d\u6700\u591a\u5efa\u902012\u4e2a\u4ea4\u6613\u6240",
"summary.auto.mansion":"\u6d4b\u5730\u5b66\u89e3\u9501\u540e\u5efa\u9020\u5b85\u90b8","summary.auto.broadcastTower":"\u8f68\u9053\u6d4b\u5730\u5b66\u89e3\u9501\u540e\u5efa\u9020\u5e7f\u64ad\u5854","summary.upgrade.building.pasture":"\u5356\u51fa\u7267\u573a \u5e76\u5347\u7ea7\u4e3a \u592a\u9633\u80fd\u53d1\u7535\u7ad9 !","summary.upgrade.building.aqueduct":"\u5356\u51fa\u6c34\u6e20 \u5e76\u5347\u7ea7\u4e3a \u6c34\u7535\u7ad9 !","summary.upgrade.building.library":"\u5356\u51fa\u56fe\u4e66\u9986 \u5e76\u5347\u7ea7\u4e3a \u6570\u636e\u4e2d\u5fc3!",
"summary.upgrade.building.amphitheatre":"\u5356\u51fa\u5267\u573a \u5e76\u5347\u7ea7\u4e3a \u5e7f\u64ad\u5854!","summary.resource":"\u5c0f\u732b\u81ea\u52a8\u8c03\u6574\u8d44\u6e90: {0} \u7684\u6d88\u8017\u7387","summary.moon":"\u5c0f\u732b\u505c\u5728\u7ea2\u6708\u5468\u671f\u6563\u70ed {0} \u6b21","summary.time.skip.moon":"\u7531\u4e8e\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\u652f\u51fa\u5927\u4e8e\u6536\u5165\uff0c\u5c0f\u732b\u51b3\u5b9a\u6512\u96be\u5f97\u7d20\uff0c\u505c\u7559\u5728\u7ea2\u6708 {0} \u6b21!",
"summary.blackcoin.buy":"\u5c0f\u732b\u51fa\u552e\u9057\u7269\u5e76\u4e70\u5165 {0} \u6b21\u9ed1\u5e01","summary.blackcoin.sell":"\u5c0f\u732b\u51fa\u552e\u9ed1\u5e01\u5e76\u4e70\u5165\u4e86 {0} \u6b21\u9057\u7269","summary.catnip":"\u5450\uff0c\u4f60\u7684\u732b\u732b\u6ca1\u6709\u732b\u8584\u8377\u5438\u5e76\u5f3a\u5236\u5206\u914d {0} \u4e2a\u519c\u6c11","summary.pumpjack":"\u5c0f\u732b\u62c5\u5fc3\u51ac\u5b63\u7535\u4e0d\u591f\u5e76\u5173\u95ed\u4e86 {0} \u6b21\u6cb9\u4e95\u81ea\u52a8\u5316",
"summary.biolab":"\u5c0f\u732b\u62c5\u5fc3\u51ac\u5b63\u7535\u4e0d\u591f\u5e76\u5173\u95ed\u4e86 {0} \u4e2a\u751f\u7269\u5b9e\u9a8c\u5ba4(\u5173\u4e86\u540e\u79d1\u5b66\u4e0a\u9650\u548c\u79d1\u5b66\u52a0\u6210\u8fd8\u4f1a\u52a0\u6210)","summary.biolab.test":" {0} \u4e2a\u751f\u7269\u5b9e\u9a8c\u5ba4(\u975e\u5e38\u6ca1\u7528\u7684\u5de5\u574a\u5347\u7ea7)","summary.temporalAccelerator":"\u5c0f\u732b\u62c5\u5fc3\u5361\u987f\u6253\u5f00\u4e86\u65f6\u7a7a\u52a0\u901f\u5668\u7684\u81ea\u52a8\u5316","summary.reactor":"\u5c0f\u732b\u5411\u53cd\u5e94\u5806\u6295\u5165\u4e86\u94c0\u5f00\u59cb\u53d1\u5149\u5450",
"summary.steamworks":"\u5c0f\u732b\u5411\u84b8\u6c7d\u5de5\u623f\u52a0\u4e86\u7164\u5f00\u59cb\u6392\u84b8\u6c7d\u5450","summary.breweryOn":"\u5c0f\u732b\u5f00\u542f\u4e86\u917f\u9152\u5382\u5e86\u795d\u8282\u65e5","summary.breweryOff":"\u5c0f\u732b\u5173\u95ed\u4e86\u917f\u9152\u5382\u8282\u7701\u8d44\u6e90","summary.brewery":"\u5c0f\u732b\u6839\u636e\u8282\u65e5\u8c03\u6574\u4e86 {0} \u6b21\u917f\u9152\u5382","summary.chronocontrolOn":"\u5c0f\u732b\u5f00\u542f\u4e86\u65f6\u95f4\u64cd\u7eb5\u5ef6\u957f\u65f6\u95f4\u6096\u8bba\u7684\u6301\u7eed\u5929\u6570",
"summary.chronocontrolOff":"\u5c0f\u732b\u5173\u95ed\u4e86\u65f6\u95f4\u64cd\u7eb5\u8282\u7701\u7535\u529b","summary.chronocontrol":"\u5c0f\u732b\u6839\u636e\u65f6\u95f4\u6096\u8bba\u8c03\u6574\u4e86 {0} \u6b21\u65f6\u95f4\u64cd\u7eb5","summary.festival":"\u4e3e\u529e\u4e86 {0} \u6b21\u8282\u65e5","summary.stars":"\u89c2\u6d4b\u4e86 {0} \u6b21\u5929\u6587\u4e8b\u4ef6","summary.praise":"\u901a\u8fc7\u8d5e\u7f8e\u592a\u9633\u79ef\u7d2f\u4e86 {0} \u8654\u8bda","summary.hunt":"\u6d3e\u51fa\u4e86 {0} \u6279\u53ef\u7231\u7684\u5c0f\u732b",
"summary.hunt.manager":"\u7ba1\u7406\u8005\u9886\u8896\u6d3e\u51fa\u4e86 {0} \u6279\u53ef\u7231\u7684\u5c0f\u732b","summary.embassy":"\u8bbe\u7acb\u4e86 {0} \u4e2a\u5927\u4f7f\u9986","summary.feed":"\u5411\u4e0a\u53e4\u795e\u732e\u796d {0} \u53ea\u6b7b\u7075\u517d","summary.tech":"{0}","summary.upgrade":"{0}","summary.building":"\u5efa\u9020\u4e86 {0} \u4e2a {1}","summary.sun":"{1} {0} \u6b21","summary.craft":"\u5236\u4f5c\u4e86{0} \u4e2a {1}","summary.craftLeader":"\u5de5\u5320\u5236\u4f5c\u4e86 {0} \u4e2a {1}",
"summary.trade":"{1} \u8d38\u6613\u4e86 {0} \u6b21","summary.year":"\u5e74","summary.years":"\u5e74","summary.separator":" ","summary.day":"\u5929","summary.days":"\u5929","summary.head":"\u8fc7\u53bb {0} \u7684\u603b\u7ed3","summary.show":"\u603b\u7ed3"}};ba[lang]||(console.error(lang+" not found"),ba[lang]=ba.en);var p=function(a,b){if("$"==a[0])return $I(a.slice(1));var c=ba[lang][a];if("undefined"===typeof c){c=ba.en[a];if(!c)return console.error('key "'+a+'" not found'),"$"+a;console.error('Key "'+
a+'" not found in '+lang)}if(b)for(a=0;a<b.length;a++)c=c.replace("{"+a+"}",b[a]);return c};const h={debug:!1,interval:2E3,msgcolor:"#aa50fe",summarycolor:"#009933",activitycolor:"#E65C00",stockwarncolor:"#DD1E00",copyTrait:!1,catnipMsg:!0,countdown:120,consume:.6,auto:{infinity:{enabled:!1,allow:!1,items:{buildChronosphere:{enabled:!1,subTrigger:67,doneMark:!1},cryoFix:{enabled:!1,subTrigger:0,doneMark:!1},autohunt:{enabled:!1,subTrigger:0},autoTransform:{enabled:!1,subTrigger:0},autoCT:{enabled:!1,
subTrigger:""},skiptime:{enabled:!1,subTrigger:4E4,doneMark:!1},autoReset:{enabled:!1}}},engine:{enabled:!1},unicorn:{items:{unicornPasture:{require:!1,enabled:!0,variant:"zp",label:p("$buildings.unicornPasture.label"),checkForReset:!0,triggerForReset:-1},unicornTomb:{require:!1,enabled:!1,variant:"z",label:p("$religion.zu.unicornTomb.label"),checkForReset:!0,triggerForReset:-1},ivoryTower:{require:!1,enabled:!1,variant:"z",label:p("$religion.zu.ivoryTower.label"),checkForReset:!0,triggerForReset:-1},
ivoryCitadel:{require:!1,enabled:!1,variant:"z",label:p("$religion.zu.ivoryCitadel.label"),checkForReset:!0,triggerForReset:-1},skyPalace:{require:!1,enabled:!1,variant:"z",label:p("$religion.zu.skyPalace.label"),checkForReset:!0,triggerForReset:-1},unicornUtopia:{require:"gold",enabled:!1,variant:"z",label:p("$religion.zu.unicornUtopia.label"),checkForReset:!0,triggerForReset:-1},sunspire:{require:"gold",enabled:!1,variant:"z",label:p("$religion.zu.sunspire.label"),checkForReset:!0,triggerForReset:-1}}},
faith:{enabled:!1,trigger:0,transcendCatnip:0,adoreCatnip:0,addition:{bestUnicornBuilding:{enabled:!0,misc:!0,label:p("option.faith.best.unicorn")},autoPraise:{enabled:!0,misc:!0,label:p("option.praise"),subTrigger:.98,msg:0,time:0},adore:{enabled:!0,misc:!0,label:p("option.faith.adore"),subTrigger:.001,lastFaith:!1},transcend:{enabled:!0,misc:!0,label:p("option.faith.transcend")}},items:{marker:{require:"unobtainium",enabled:!1,max:-1,variant:"z",checkForReset:!0,triggerForReset:-1},unicornGraveyard:{require:!1,
enabled:!1,max:-1,variant:"z",checkForReset:!0,triggerForReset:-1},unicornNecropolis:{require:!1,enabled:!1,max:-1,variant:"z",checkForReset:!0,triggerForReset:-1},blackPyramid:{require:"unobtainium",enabled:!0,max:-1,variant:"z",checkForReset:!0,triggerForReset:-1},solarchant:{require:"faith",enabled:!0,max:-1,variant:"s",checkForReset:!0,triggerForReset:-1},scholasticism:{require:"faith",enabled:!0,max:2,variant:"s",checkForReset:!0,triggerForReset:-1},goldenSpire:{require:"faith",enabled:!0,max:-1,
variant:"s",checkForReset:!0,triggerForReset:-1},sunAltar:{require:"faith",enabled:!0,max:-1,variant:"s",checkForReset:!0,triggerForReset:-1},stainedGlass:{require:"faith",enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},solarRevolution:{require:"faith",enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},basilica:{require:"faith",enabled:!0,max:5,variant:"s",checkForReset:!0,triggerForReset:-1},templars:{require:"faith",enabled:!0,max:5,variant:"s",checkForReset:!0,
triggerForReset:-1},apocripha:{require:"faith",enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},transcendence:{require:"faith",enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},blackObelisk:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blackNexus:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blackCore:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},singularity:{require:!1,
enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blackLibrary:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blackRadiance:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blazar:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},darkNova:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},holyGenocide:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1}}},
build:{lower:!1,enabled:!1,trigger:0,items:{hut:{require:"wood",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},logHouse:{require:"minerals",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},mansion:{require:"titanium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1,auto:!1},workshop:{require:"minerals",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},factory:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},field:{require:"catnip",enabled:!0,max:-1,
checkForReset:!0,triggerForReset:-1},pasture:{require:"catnip",enabled:!0,max:150,stage:0,checkForReset:!0,triggerForReset:-1},solarFarm:{require:"titanium",enabled:!0,max:-1,stage:1,name:"pasture",checkForReset:!0,triggerForReset:-1},mine:{require:"wood",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},lumberMill:{require:"minerals",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},aqueduct:{require:"minerals",enabled:!0,max:250,stage:0,checkForReset:!0,triggerForReset:-1},hydroPlant:{require:"titanium",
enabled:!0,max:-1,stage:1,name:"aqueduct",checkForReset:!0,triggerForReset:-1},oilWell:{require:"coal",enabled:!0,max:200,checkForReset:!0,triggerForReset:-1},quarry:{require:"coal",enabled:!0,max:300,checkForReset:!0,triggerForReset:-1},smelter:{require:"minerals",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},biolab:{require:"science",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},calciner:{require:"titanium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},reactor:{require:"titanium",
enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},accelerator:{require:"titanium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},steamworks:{require:!1,enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1,auto:!1},magneto:{require:!1,enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},library:{require:"wood",enabled:!0,max:-1,stage:0,checkForReset:!0,triggerForReset:-1},dataCenter:{require:!1,enabled:!0,max:150,stage:1,name:"library",checkForReset:!0,triggerForReset:-1},academy:{require:"wood",
enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},observatory:{require:"iron",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},amphitheatre:{require:"minerals",enabled:!0,max:60,stage:0,checkForReset:!0,triggerForReset:-1},broadcastTower:{require:"titanium",enabled:!0,max:-1,stage:1,name:"amphitheatre",checkForReset:!0,triggerForReset:-1,auto:!1},tradepost:{require:"gold",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1,auto:!1},chapel:{require:"minerals",enabled:!0,max:-1,checkForReset:!0,
triggerForReset:-1},temple:{require:"gold",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1,auto:!1,autoF:!1},mint:{require:"gold",enabled:!0,max:100,checkForReset:!0,triggerForReset:-1},ziggurat:{require:!1,enabled:!0,max:110,checkForReset:!0,triggerForReset:-1},chronosphere:{require:"unobtainium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},aiCore:{require:!1,enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},brewery:{require:!1,enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1,
auto:!1},barn:{require:"wood",enabled:!0,max:15,checkForReset:!0,triggerForReset:-1},harbor:{require:!1,enabled:!1,max:200,checkForReset:!0,triggerForReset:-1},warehouse:{require:!1,enabled:!0,max:200,checkForReset:!0,triggerForReset:-1},zebraOutpost:{require:"bloodstone",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},zebraWorkshop:{require:"bloodstone",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},zebraForge:{require:"bloodstone",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1}}},
space:{enabled:!1,trigger:0,items:{spaceElevator:{require:"unobtainium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},sattelite:{require:"titanium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},spaceStation:{require:"oil",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},moonOutpost:{require:"uranium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},moonBase:{require:"unobtainium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},planetCracker:{require:"science",
enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},hydrofracturer:{require:"science",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},spiceRefinery:{require:"science",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},researchVessel:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},orbitalArray:{require:"eludium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},sunlifter:{require:"eludium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},containmentChamber:{require:"science",
enabled:!1,max:5,checkForReset:!0,triggerForReset:-1},heatsink:{require:"thorium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},sunforge:{require:!1,enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},cryostation:{require:"eludium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},spaceBeacon:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},terraformingStation:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},hydroponics:{require:"kerosene",
enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},hrHarvester:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},entangler:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},tectonic:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},moltenCore:{require:"uranium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1}}},time:{enabled:!1,trigger:0,items:{temporalBattery:{require:!1,enabled:!1,max:0,variant:"chrono",checkForReset:!0,
triggerForReset:-1},blastFurnace:{require:!1,enabled:!1,max:-1,variant:"chrono",checkForReset:!0,triggerForReset:-1},timeBoiler:{require:!1,enabled:!1,max:-1,variant:"chrono",checkForReset:!0,triggerForReset:-1},temporalAccelerator:{require:!1,enabled:!1,max:1,variant:"chrono",checkForReset:!0,triggerForReset:-1},temporalImpedance:{require:!1,enabled:!1,max:-1,variant:"chrono",checkForReset:!0,triggerForReset:-1},ressourceRetrieval:{require:!1,enabled:!1,max:-1,variant:"chrono",checkForReset:!0,triggerForReset:-1},
temporalPress:{require:!1,enabled:!1,max:0,variant:"chrono",checkForReset:!0,triggerForReset:-1},cryochambers:{require:!1,enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},voidHoover:{require:"antimatter",enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},voidRift:{require:!1,enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},chronocontrol:{require:"temporalFlux",enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},voidResonator:{require:!1,
enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1}}},timeCtrl:{enabled:!1,items:{accelerateTime:{enabled:!0,subTrigger:1,misc:!0,label:p("option.accelerate")},timeSkip:{enabled:!0,subTrigger:500,misc:!0,label:p("option.time.skip"),maximum:1,0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,spring:!0,summer:!1,autumn:!1,winter:!1,wait:!1,adore:!1,craft:!1,moonMsg:-1},reset:{enabled:!1,subTrigger:99999,misc:!0,label:p("option.time.reset")}}},craft:{enabled:!1,trigger:.95,items:{wood:{require:"catnip",
max:0,limited:!0,limRat:.5,enabled:!0},beam:{require:"wood",max:0,limited:!0,limRat:.5,enabled:!0},slab:{require:"minerals",max:0,limited:!0,limRat:.5,enabled:!0},steel:{require:"coal",max:0,limited:!0,limRat:.5,enabled:!0},plate:{require:"iron",max:0,limited:!0,limRat:.5,enabled:!0},alloy:{require:"titanium",max:0,limited:!0,limRat:.5,enabled:!0},concrate:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},gear:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},scaffold:{require:!1,max:0,limited:!0,
limRat:.5,enabled:!0},ship:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},tanker:{require:!1,max:0,limited:!0,limRat:.5,enabled:!1},parchment:{require:!1,max:0,limited:!1,limRat:.5,enabled:!0},manuscript:{require:"culture",max:0,limited:!0,limRat:.5,enabled:!0},compedium:{require:"science",max:0,limited:!0,limRat:.5,enabled:!0},blueprint:{require:"science",max:0,limited:!0,limRat:.5,enabled:!0},kerosene:{require:"oil",max:0,limited:!0,limRat:.5,enabled:!0},megalith:{require:!1,max:0,limited:!0,
limRat:.5,enabled:!1},eludium:{require:"unobtainium",max:0,limited:!1,limRat:.5,enabled:!0},thorium:{require:"uranium",max:0,limited:!0,limRat:.5,enabled:!0}}},trade:{enabled:!1,trigger:.98,items:{dragons:{enabled:!1,require:"titanium",allowcapped:!1,limited:!0,summer:!0,autumn:!0,winter:!0,spring:!0},zebras:{enabled:!0,require:!1,allowcapped:!1,limited:!0,summer:!0,autumn:!0,winter:!0,spring:!0},lizards:{enabled:!1,require:"minerals",allowcapped:!1,limited:!0,summer:!0,autumn:!1,winter:!1,spring:!1},
sharks:{enabled:!1,require:"iron",allowcapped:!1,limited:!0,summer:!1,autumn:!1,winter:!0,spring:!1},griffins:{enabled:!1,require:"wood",allowcapped:!1,limited:!0,summer:!1,autumn:!0,winter:!1,spring:!1},nagas:{enabled:!1,require:!1,allowcapped:!1,limited:!0,summer:!1,autumn:!1,winter:!1,spring:!0},spiders:{enabled:!1,require:!1,allowcapped:!1,limited:!0,summer:!1,autumn:!0,winter:!1,spring:!1},leviathans:{enabled:!1,require:"unobtainium",allowcapped:!0,limited:!0,summer:!0,autumn:!0,winter:!0,spring:!0}}},
upgrade:{enabled:!1,items:{upgrades:{enabled:!0,limited:!0},techs:{enabled:!0},policies:{enabled:!1},races:{enabled:!0},missions:{enabled:!0,subTrigger:4},buildings:{enabled:!0}}},options:{enabled:!0,items:{observe:{enabled:!0,misc:!0,label:p("option.observe")},festival:{enabled:!0,misc:!0,label:p("option.festival")},shipOverride:{enabled:!0,subTrigger:170,misc:!0,label:p("option.shipOverride")},autofeed:{enabled:!0,misc:!0,label:p("option.autofeed")},hunt:{enabled:!0,subTrigger:.98,require:"manpower",
misc:!0,label:p("option.hunt")},promote:{enabled:!0,misc:!0,label:p("option.promote")},crypto:{enabled:!1,subTrigger:1E4,misc:!0,label:p("option.crypto")},fixCry:{enabled:!1,misc:!0,label:p("option.fix.cry")},buildEmbassies:{enabled:!0,subTrigger:.94,require:"culture",misc:!0,label:p("option.embassies")},style:{enabled:!0,misc:!0,label:p("option.style")},saves:{enabled:!1,misc:!0,label:"\u5bfc\u51fa\u914d\u7f6e\u6587\u4ef6"},donate:{enabled:!0,misc:!0,label:"\u663e\u793a\u6350\u8d60\u539f\u4f5c\u8005\u56fe\u6807"},
useWorkers:{enabled:!1,misc:!0,label:p("option.useWorkers")},wiki:{enabled:!1,misc:!0,label:"\u73c2\u5b66\u5bb6\u4f7f\u7528\u8bf4\u660e\u4e66"},autoScientists:{enabled:!1,misc:!0,label:"\u9996\u6b21\u81ea\u542f\u73c2\u5b66\u5bb6"}}},distribute:{religion:!1,enabled:!1,items:{woodcutter:{enabled:!0,max:27,limited:!0},farmer:{enabled:!0,max:1,limited:!0},scholar:{enabled:!0,max:8,limited:!0},hunter:{enabled:!0,max:24,limited:!0},miner:{enabled:!0,max:25,limited:!0},priest:{enabled:!0,max:3,limited:!1},
geologist:{enabled:!0,max:38,limited:!0},engineer:{enabled:!1,max:1,limited:!1},leader:{enabled:!0,leaderJob:"farmer",leaderTrait:"manager"}}},filter:{enabled:!1,items:{buildFilter:{enabled:!1,filter:!0,label:p("filter.build"),variant:"ks-activity type_ks-build"},craftFilter:{enabled:!1,filter:!0,label:p("filter.craft"),variant:"ks-activity type_ks-craft"},upgradeFilter:{enabled:!1,filter:!0,label:p("filter.upgrade"),variant:"ks-activity type_ks-upgrade"},researchFilter:{enabled:!1,filter:!0,label:p("filter.research"),
variant:"ks-activity type_ks-research"},tradeFilter:{enabled:!1,filter:!0,label:p("filter.trade"),variant:"ks-activity type_ks-trade"},huntFilter:{enabled:!1,filter:!0,label:p("filter.hunt"),variant:"ks-activity type_ks-hunt"},praiseFilter:{enabled:!1,filter:!0,label:p("filter.praise"),variant:"ks-activity type_ks-praise"},adoreFilter:{enabled:!1,filter:!0,label:p("filter.adore"),variant:"ks-activity type_ks-adore"},transcendFilter:{enabled:!1,filter:!0,label:p("filter.transcend"),variant:"ks-activity type_ks-transcend"},
faithFilter:{enabled:!1,filter:!0,label:p("filter.faith"),variant:"ks-activity type_ks-faith"},accelerateFilter:{enabled:!1,filter:!0,label:p("filter.accelerate"),variant:"ks-activity type_ks-accelerate"},timeSkipFilter:{enabled:!1,filter:!0,label:p("filter.time.skip"),variant:"ks-activity type_ks-timeSkip"},festivalFilter:{enabled:!1,filter:!0,label:p("filter.festival"),variant:"ks-activity type_ks-festival"},starFilter:{enabled:!1,filter:!0,label:p("filter.star"),variant:"ks-activity type_ks-star"},
distributeFilter:{enabled:!1,filter:!0,label:p("filter.distribute"),variant:"ks-activity type_ks-distribute"},promoteFilter:{enabled:!1,filter:!0,label:p("filter.promote"),variant:"ks-activity type_ks-promote"},miscFilter:{enabled:!1,filter:!0,label:p("filter.misc"),variant:"ks-activity"}}},resources:{furs:{enabled:!0,stock:350,checkForReset:!1,stockForReset:Infinity},timeCrystal:{enabled:!1,stock:0,checkForReset:!0,stockForReset:5E5}},policies:[],cache:{cache:[],cacheSum:{},trait:{},upgrade:{}}}};
if(1E8<game.resPool.get("timeCrystal").value&&7E5<game.resPool.get("burnedParagon").value&&8E9<game.resPool.get("unobtainium").value||1E100<game.resPool.get("timeCrystal").value)h.auto.infinity.allow=!0;h.auto.infinity.allow||(h.auto.infinity.enabled=!1);game.console.maxMessages=1E3;var ea=function(a){999<=game.console.messages.length&&game.clearLog();if(h.auto.filter.enabled)for(var b in h.auto.filter.items){var c=h.auto.filter.items[b];if(c.enabled&&c.variant===a[1])return}b=a.pop();a[1]=a[1]||
"ks-default";c=game.msg.apply(game,a);$(c.span).css("color",b);h.debug&&console&&console.log(a)},H=function(){var a=Array.prototype.slice.call(arguments);a.push("ks-default");a.push(h.msgcolor);ea(a)},qa=function(){var a=Array.prototype.slice.call(arguments),b=1<a.length?" type_"+a.pop():"";a.push("ks-activity"+b);a.push(h.activitycolor);ea(a)},Q=function(){var a=Array.prototype.slice.call(arguments);a.push("ks-summary");a.push(h.summarycolor);ea(a)},R=function(){var a=Array.prototype.slice.call(arguments);
a.unshift("Warning!");console&&console.log(a)},x=function(a,b,c){H(p(a,b),c)},w=function(a,b,c){qa(p(a,b),c)},ta=function(){this.upgradeManager=new ra;this.buildManager=new ja;this.spaceManager=new ka;this.craftManager=new S;this.bulkManager=new X;this.tradeManager=new sa;this.religionManager=new la;this.timeManager=new ma;this.villageManager=new O("Village");this.cacheManager=new na};ta.prototype={upgradeManager:void 0,buildManager:void 0,spaceManager:void 0,craftManager:void 0,bulkManager:void 0,
tradeManager:void 0,religionManager:void 0,timeManager:void 0,villageManager:void 0,cacheManager:void 0,loop:void 0,huntID:void 0,renderID:void 0,start:function(a=!0){h.interval=100*Math.ceil(100/game.getTicksPerSecondUI());if(game.isWebWorkerSupported()&&game.useWorkers&&h.auto.options.items.useWorkers.enabled){var b=new Blob(["onmessage = function(e) { setInterval(function(){postMessage('miaowu')}, '"+h.interval+"' ); }"]);b=window.URL.createObjectURL(b);this.worker=new Worker(b);this.worker.addEventListener("message",
this.iterate.bind(this));this.worker.postMessage("miaowu");a&&H("\u540e\u53f0\u73c2\u5b66\u5bb6\u4e0a\u949f\u4e86~ \uff1e\u25bd\uff1c")}else this.loop||(this.loop=setInterval(this.iterate.bind(this),h.interval),a&&x("status.ks.enable"))},stop:function(a=!0){game.isWebWorkerSupported()&&this.worker&&(a&&H("\u540e\u53f0\u73c2\u5b66\u5bb6\u722a\u5df4\u4e86"),this.worker.terminate(),this.worker=void 0);this.loop&&(clearInterval(this.loop),this.loop=void 0,a&&x("status.ks.disable"))},iterate:async function(){var a=
h.auto.options,b=0;clearTimeout(this.renderID);a.enabled&&a.items.observe.enabled&&this.observeStars();h.auto.upgrade.enabled&&(b+=~~this.upgrade());a.enabled&&a.items.festival.enabled&&this.holdFestival();h.auto.build.enabled&&(b+=~~this.build());h.auto.space.enabled&&(b+=~~this.space());h.auto.timeCtrl.enabled&&(b+=~~this.timeCtrl());b&&h.auto.cache.upgrade&&this.gameUpgrade();h.auto.craft.enabled&&this.craft();a.enabled&&a.items.hunt.enabled&&(this.huntID=setTimeout(()=>this.hunt(),1E3));a.enabled&&
a.items.autofeed.enabled&&this.autofeed();h.auto.trade.enabled&&this.trade();h.auto.faith.enabled&&(b+=~~this.worship());h.auto.time.enabled&&(b+=~~this.chrono());a.enabled&&a.items.crypto.enabled&&this.crypto();a.enabled&&a.items.promote.enabled&&this.promote();a.enabled&&(b+=~~this.miscOptions());h.copyTrait&&this.setTrait();h.auto.distribute.enabled&&(b+=~~this.distribute());0<b&&game.resPool.update();1<b&&(this.renderID=setTimeout(()=>game.ui.render(),333));h.auto.timeCtrl.enabled&&h.auto.timeCtrl.items.reset.enabled&&
await this.reset();a=h.auto.infinity;b=a.items;a.enabled&&b.skiptime.enabled&&!b.skiptime.doneMark&&this.skiptime();a.enabled&&b.autoCT.enabled&&this.autoCT();a.enabled&&b.autoTransform.enabled&&this.autoTransform();a.enabled&&b.autohunt.enabled&&this.autohunt();a.enabled&&b.buildChronosphere.enabled&&!b.buildChronosphere.doneMark&&this.buildChronosphere();a.enabled&&b.cryoFix.enabled&&!b.cryoFix.doneMark&&this.cryoFix();a.enabled&&b.autoReset.enabled&&await this.infinityReset()},autoCT:async function(){if(Infinity!==
game.resPool.get("timeCrystal").value)h.auto.infinity.items.autoCT.enabled&&$("#toggle-autoCT").click(),H("\u65e0\u9650\u5965\u79d8\uff1a\u65f6\u95f4\u6c34\u6676\u592a\u5c11");else if(subTrigger=h.auto.infinity.items.autoCT.subTrigger.split("-"),3!==subTrigger.length)h.auto.infinity.items.autoCT.enabled&&$("#toggle-autoCT").click(),H("\u65e0\u9650\u5965\u79d8\uff1a\u89e6\u53d1\u503c\u8bbe\u7f6e\u9519\u8bef");else{var a=game.religionTab.ctPanel.children[0].children[parseInt(subTrigger[0])];if(a&&a.model.visible)if(a.model.metadata.val>=
parseInt(subTrigger[2]))h.auto.infinity.items.autoCT.enabled&&$("#toggle-autoCT").click(),H("\u65e0\u9650\u5965\u79d8\uff1a"+a.model.metadata.label+" \u4ee5\u8fbe\u5230 "+a.model.metadata.val);else{if(a.model.metadata.upgrades){var b=a.model.metadata.upgrades;delete a.model.metadata.upgrades}for(var c=game.religionTab.refineTCBtn,d=Math.floor(Number.MAX_VALUE/25),f=Math.min(parseInt(subTrigger[1]),parseInt(subTrigger[2])-a.model.metadata.val),e=0,g=0;e<f&&1E4>g;g++)Infinity==game.resPool.get("relic").value&&
(e+=a.controller.build(a.model,1)),c.controller._transform(c.model,d);$("#clearLogHref").click();b&&(a.model.metadata.upgrades=b);z(a.model.metadata.label,e,"faith")}else h.auto.infinity.items.autoCT.enabled&&$("#toggle-autoCT").click(),H("\u65e0\u9650\u5965\u79d8\uff1a"+subTrigger[0]+" \u5bf9\u5e94\u7684\u5965\u79d8\u795e\u5b66\u672a\u89e3\u9501\u3002")}},skiptime:async function(){if(1E100>game.resPool.get("timeCrystal").value)h.auto.infinity.items.skiptime.enabled&&$("#toggle-skiptime").click(),
H("\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff1a\u65f6\u95f4\u6c34\u6676\u592a\u5c11");else if(game.workshop.get("chronoforge").researched){var a=game.calendar.year;if(a>=Math.pow(2,62))h.auto.infinity.items.skiptime.doneMark=!0,H("\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff1a\u6e38\u620f\u65e5\u5386\u5e74\u4ee5\u8fbe\u5230\u6700\u5927\u503c");else{var b=game.timeTab.cfPanel.children[0].children[0];if(game.time.heat<=game.getEffect("heatMax"))b.controller.doShatterAmt(b.model,500);else{var c=Math.min(h.auto.infinity.items.skiptime.subTrigger,
Math.pow(2,62));c-=a;0<c?(b.controller.doShatterAmt(b.model,c),z("time.skip",c)):(h.auto.infinity.items.skiptime.doneMark=!0,H("\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff1a\u6e38\u620f\u65e5\u5386\u5e74\u4ee5\u8fbe\u5230\u8bbe\u5b9a\u503c"))}}}},autohunt:async function(){if(!(0<game.resPool.get("furs").value&&0<game.resPool.get("ivory").value&&0<game.resPool.get("unicorns").value)){var a=h.auto.infinity.items.autohunt.subTrigger;if(a=Infinity==game.resPool.get("manpower").value?Math.floor(Number.MAX_VALUE/
100):0<a?Math.floor(game.resPool.get("manpower").value*a/100):Math.floor(game.resPool.get("manpower").value/1E20))game.resPool.addResEvent("manpower",100*-a),game.village.gainHuntRes(a)}},autoTransform:async function(){if(Infinity!=game.resPool.get("relic").value){var a=game.resPool.get("timeCrystal").value;if(1E100>a)h.auto.infinity.items.autoTransform.enabled&&$("#toggle-autoTransform").click(),H("\u65e0\u9650\u9057\u7269\uff1a\u65f6\u95f4\u6c34\u6676\u592a\u5c11");else{var b=game.religionTab.refineTCBtn;
if(void 0!=b){var c=h.auto.infinity.items.autoTransform.subTrigger;b.controller._transform(b.model,Infinity==a?Math.floor(Number.MAX_VALUE/25):0<c?Math.floor(a*c/25):Math.floor(a/1E20))}}}},cryoFix:async function(){if(game.workshop.get("chronoforge").researched&&game.workshop.get("turnSmoothly").researched){var a=game.timeTab.vsPanel.children[0].children,b=game.time.getVSU("cryochambers"),c=game.time.getVSU("usedCryochambers").on,d=a[1].model,f=gamePage.challenges.getChallenge("postApocalypse").on;
if(!b.val&&h.auto.infinity.items.cryoFix.subTrigger>c)if(1==game.religion.getHGScalingBonus()){var e=Math.min(h.auto.infinity.items.cryoFix.subTrigger-c,Math.floor(Math.log(1/d.prices[0].val)/Math.log(b.priceRatio)));if(game.bld.get("chronosphere").on+f<e&&void 0==this.buildChronosphere(e-f))return;for(var g=0;g<e;g++)a[1].controller.buyItem(d,{},function(){})}else H("\u51b7\u51bb\u4ed3\uff1a\u5df2\u5f00\u542f\u795e\u5723\u706d\u7edd\uff0c\u4e0d\u65b0\u5efa\u51b7\u51bb\u4ed3");c=b.val+c;f=c-f;if(void 0!=
this.buildChronosphere(f)){g=game.timeTab.cfPanel.children[0].children[0];d=game.resPool.get("temporalFlux").maxValue-game.resPool.get("temporalFlux").value;0<d&&(f=Math.ceil(d/f),game.time.heat<=game.getEffect("heatMax")&&(f=Math.min(f,500)),g.controller.doShatterAmt(g.model,f),z("time.skip",f));f=Math.floor(game.resPool.get("temporalFlux").value/3E3);for(g=0;g<Math.min(f,a[2].model.on);g++)a[0].controller.buyItem(a[0].model,{},function(){});z("fix.cry",g);b.on==c&&game.resPool.get("temporalFlux").maxValue==
game.resPool.get("temporalFlux").value&&(game.village.sim.kittens.length<c?H("\u7f3a\u5c11\u732b\u732b"):h.auto.infinity.items.cryoFix.doneMark=!0)}}else H("\u68c0\u67e5 \u65f6\u95f4\u953b\u9020 \u548c \u65f6\u95f4\u6ce2\u52a8 \u662f\u5426\u89e3\u9501")},buildChronosphere:function(a){a=void 0==a?h.auto.infinity.items.buildChronosphere.subTrigger:a;h.auto.build.items.chronosphere.max=a;if(game.bld.get("chronosphere").on<a){var b=a-game.bld.get("chronosphere").on,c=this.readyChronosphereRes(b);switch(c){case "Infinity":h.auto.build.items.chronosphere.max=
-1;return;case "done":break;case "manager":return;case "nagas":H("\u5229\u7ef4\u5766\u63d0\u524d\u5230\u6765\u5bfc\u81f4\u8d38\u6613\u6807\u7b7e\u65e0\u6cd5\u89e3\u9501\uff0c\u8bf7\u624b\u52a8\u5237\u65b0\u754c\u9762");return;case "manpower":H("\u4f20\u9001\u4eea\uff1a\u55b5\u529b\u4e0d\u8db3\u4ee5\u5728\u6253\u730e\u540e\u548c\u5a1c\u8fe6\u4ea4\u6613\u83b7\u5f97\u8db3\u591f\u7684\u84dd\u56fe");return;default:x("ui.infinity.chronosphere",[game.resPool.get(c).title,b]);return}}if(void 0==a)h.auto.infinity.items.buildChronosphere.doneMark=
!0;else return"done"},readyChronosphereRes:function(a){a=game.bld.getPrices("chronosphere",a);var b=0,c;for(c in a)b+=Infinity==game.resPool.get(a[c].name).value?1:0;if(b==a.length)return"Infinity";if("manager"!==game.village.leader.trait.name)return $("#toggle-leaderTrait-manager").click(),"manager";b=game.diplomacy.get("nagas");if(!b.unlocked)return"nagas";for(c in a)if("blueprint"===a[c].name){var d=10*(a[c].val-game.resPool.get("blueprint").value);if(0<d){if(Infinity!=game.resPool.get("ivory").value){var f=
Infinity==b.buys[0].val*d?1E307:b.buys[0].val*d-game.resPool.get("ivory").value,e=game.getEffect("hunterRatio")+game.village.getEffectLeader("manager",0);f/=e;if(0<f)if(0<game.resPool.get("manpower").value-100*f-d*game.diplomacy.getManpowerCost())game.resPool.addResEvent("manpower",100*-f),game.village.gainHuntRes(f);else return"manpower"}game.diplomacy.tradeAll(b)}}else if(!(game.resPool.get(a[c].name).value/10>a[c].val))return a[c].name;return"done"},infinityReset:async function(){var a=h.auto.infinity.items,
b=0,c=0,d;for(d in a)if(void 0!=a[d].doneMark&&a[d].enabled)if(b++,a[d].doneMark)c++;else return;c==b&&(game.workshop.get("fluxCondensator").researched?game.time.getVSU("usedCryochambers").on?H("\u6709 \u7528\u8fc7\u7684\u51b7\u51bb\u4ed3 \u4e0d\u5141\u8bb8\u91cd\u7f6e"):game.bld.get("chronosphere").on<h.auto.infinity.items.buildChronosphere.subTrigger?H("\u4f20\u9001\u4eea\u6570\u91cf < \u4fee\u5efa\u4f20\u9001\u4eea\u89e6\u53d1\u503c \u4e0d\u5141\u8bb8\u91cd\u7f6e"):game.resetAutomatic():H("\u901a\u91cf\u51b7\u51dd\u5668 \u672a\u89e3\u9501\u4e0d\u5141\u8bb8\u91cd\u7f6e"))},
reset:async function(){if(!game.challenges.anyChallengeActive()){var a=[],b=[],c=function(r){if(0!=b.length)for(var t in r)if(r[t].model.metadata){var q=b.indexOf(r[t].model.metadata.name);if(-1!=q&&(b.splice(q,1),game.resPool.hasRes(r[t].model.prices)))return!0}return!1},d=h.auto.build.items;for(k in d)if(d[k].checkForReset){var f=game.bld.get(k);a.push({name:f.label,trigger:d[k].triggerForReset,val:f.val});if(0<d[k].triggerForReset){if(d[k].triggerForReset>f.val)return}else b.push(k)}d=h.auto.unicorn.items.unicornPasture;
if(d.checkForReset)if(f=game.bld.get("unicornPasture"),a.push({name:f.label,trigger:d.triggerForReset,val:f.val}),0<d.triggerForReset){if(d.triggerForReset>f.val)return}else b.push("unicornPasture");if(!c(this.buildManager.manager.tab.buttons)&&!b.length){d=h.auto.space.items;for(k in d)if(d[k].checkForReset)if(f=game.space.getBuilding(k),a.push({name:f.label,trigger:d[k].triggerForReset,val:f.val}),0<d[k].triggerForReset){if(d[k].triggerForReset>f.val)return}else b.push(k);if(0!=b.length){d=this.spaceManager.manager.tab.planetPanels;
for(var e in d)for(var g in d[e].children){f=d[e].children[g].model;var k=f.metadata.name;var l=b.indexOf(k);if(-1!=l&&(b.splice(l,1),game.resPool.hasRes(f.prices)))return}}if(!b.length){d=h.auto.faith.items;for(k in d)if(d[k].checkForReset)if(f=this.religionManager.getBuild(k,d[k].variant),a.push({name:f.label,trigger:d[k].triggerForReset,val:f.val}),0<d[k].triggerForReset){if(d[k].triggerForReset>f.val)return}else b.push(k);d=h.auto.unicorn.items;for(k in d)if(d[k].checkForReset&&"z"==d[k].variant)if(f=
this.religionManager.getBuild(k,"z"),a.push({name:f.label,trigger:d[k].triggerForReset,val:f.val}),0<d[k].triggerForReset){if(d[k].triggerForReset>f.val)return}else b.push(k);if(!(c(this.religionManager.manager.tab.zgUpgradeButtons)||c(this.religionManager.manager.tab.rUpgradeButtons)||c(this.religionManager.manager.tab.children[0].children[0].children)||b.length)){d=h.auto.time.items;for(k in d)if(d[k].checkForReset)if(f=this.timeManager.getBuild(k,d[k].variant),a.push({name:f.label,trigger:d[k].triggerForReset,
val:f.val}),0<d[k].triggerForReset){if(d[k].triggerForReset>f.val)return}else b.push(k);if(!(c(this.timeManager.manager.tab.children[2].children[0].children)||c(this.timeManager.manager.tab.children[3].children[0].children)||b.length)){d=h.auto.resources;for(k in d)if(d[k].checkForReset&&(c=game.resPool.get(k),a.push({name:c.title,trigger:d[k].stockForReset,val:c.value}),d[k].stockForReset>c.value))return;this.stop(!1);var m=function(r=1500){return new Promise(t=>{if(!(h.auto.engine.enabled&&h.auto.timeCtrl.enabled&&
h.auto.timeCtrl.items.reset.enabled))throw"canceled by player";setTimeout(t,r)})};try{for(e in a){await m(500);var n=a[e];x("reset.check",[n.name,game.getDisplayValueExt(n.trigger),game.getDisplayValueExt(n.val)])}await m(0).then(()=>{x("reset.checked");return m()}).then(()=>{w("reset.tip");return m()}).then(()=>{x("reset.countdown.10");return m(2E3)}).then(()=>{x("reset.countdown.9");return m()}).then(()=>{x("reset.countdown.8");return m()}).then(()=>{x("reset.countdown.7");return m()}).then(()=>
{x("reset.countdown.6");return m()}).then(()=>{x("reset.countdown.5");return m()}).then(()=>{x("reset.countdown.4");return m()}).then(()=>{x("reset.countdown.3");return m()}).then(()=>{x("reset.countdown.2");return m()}).then(()=>{x("reset.countdown.1");return m()}).then(()=>{x("reset.countdown.0");return m()}).then(()=>{w("reset.last.message");return m()})}catch(r){x("reset.cancel.message");w("reset.cancel.activity");return}(void 0).reset.karmaLastTime=game.resPool.get("karma").value;(void 0).reset.paragonLastTime=
game.resPool.get("paragon").value;A();for(e=0;e<game.challenges.challenges.length;e++)game.challenges.challenges[e].pending=!1;game.resetAutomatic()}}}}}},timeCtrl:function(){var a=h.auto.timeCtrl.items,b=0;if(a.accelerateTime.enabled&&game.science.get("calendar").researched){var c=game.resPool.get("temporalFlux");c.value>=Math.max(c.maxValue*a.accelerateTime.subTrigger,1)&&!game.time.isAccelerated&&(game.time.isAccelerated=!0,w("act.accelerate",[],"ks-accelerate"),z("accelerate",1));h.interval!=
100*Math.ceil(100/game.getTicksPerSecondUI())&&(D.stop(!1),h.auto.engine.enabled&&(2E3==h.interval?w("act.accelerate.acl"):w("act.accelerate.slow"),D.start(!1)))}a:if(a.timeSkip.enabled&&game.workshop.get("chronoforge").researched){var d=this.craftManager.getValueAvailable("timeCrystal",!0),f=a.timeSkip.maximum,e=Math.max(a.timeSkip.subTrigger,f);c=game.calendar.cycle;var g=game.calendar.year,k=game.calendar.day,l=game.getEffect("heatMax"),m=game.time.heat;if(!(d<e||0>k||!a.timeSkip[c]||m>=l)){k=
game.prestige.getPerk("numeromancy").researched&&game.prestige.getPerk("numerology").researched;if(5===c&&a.timeSkip[c]&&k&&game.nummon){d=game.nummon.getTradeTC();e=game.calendar.cycleEffectsFestival({unobtainium:1}).unobtainium;var n=game.calendar.cycleEffectsBasics({unobtainiumPerTickSpace:1},"moonOutpost").unobtainiumPerTickSpace,r=(56.5+12*game.getEffect("festivalRatio"))/50;let t=game.calendar.cycleYear;if(1>d*r/(e*n)){t!=a.timeSkip.moonMsg&&(a.timeSkip.moonMsg=t,w("summary.time.skip.moon",
[1]),z("time.skip.moon",1));break a}}d=game.timeTab.cfPanel.children[0].children[0];if(!d.model.enabled)return d.controller.updateEnabled(d.model);e=a.timeSkip.wait;if(!a.timeSkip[game.calendar.seasons[game.calendar.season].name]||!1!==e&&5==c)if(1==e&&5==c){a.timeSkip.wait=game.calendar.year;break a}else if(!1===e||e===g||1===e)break a;else e!==g&&(a.timeSkip.wait=!1);g=game.challenges.getChallenge("1000Years").researched?5:10;e=4*f*g;e=game.time.heat>game.getEffect("heatMax")-Math.min(e,20*game.time.getCFU("blastFurnace").on+
20);a.timeSkip[5]&&k&&!1===a.timeSkip.wait&&e&&(a.timeSkip.wait=1,w("summary.moon",[1]),z("moon",1));k=game.calendar.yearsPerCycle;n=k-game.calendar.cycleYear;e=game.calendar.cyclesPerEra;l=Math.min(Math.floor((l-m)/g),f);f=0;if(l<n)f=l;else{f+=n;l-=n;for(m=1;l>k&&a.timeSkip[(c+m)%e];)f+=k,l-=k,m+=1;a.timeSkip[(c+m)%e]&&0<l&&(f+=l)}if(0<f){f=Math.min(f,Math.max(500,25*game.getEffect("temporalPressCap")));4<game.time.getCFU("ressourceRetrieval").val&&(a.timeSkip.adore=!0,this.skipCtrlRes());a=game.calendar.year;
d.controller.doShatterAmt(d.model,f);f=game.calendar.year-a;if(!f)return;b=-100;w("act.time.skip",[f],"ks-timeSkip");z("time.skip",f)}}}return b},promote:function(){let a=game.village.leader;if(game.science.get("civil").researched&&a){var b=h.auto.distribute,c=b.items.leader;b.enabled&&c.enabled&&a.job!=c.leaderJob||(b=a.rank,c=this.craftManager.getValueAvailable("gold",!0),game.village.sim.goldToPromote(b,b+1,c)[0]&&1==game.village.sim.promote(a,b+1)&&(w("act.promote",[b+1],"ks-promote"),game.tabs[1].censusPanel.census.renderGovernment(game.tabs[1].censusPanel.census),
game.tabs[1].censusPanel.census.update(),z("promote",1)))}},distribute:function(){var a=h.auto.distribute.items,b=a.leader,c=0;if(b.enabled&&game.science.get("civil").researched&&!game.challenges.isActive("anarchy")&&!h.copyTrait){var d=b.leaderJob,f=b.leaderTrait;b=!1;h.auto.upgrade.items.policies.enabled&&(b=void 0===h.policies?!1:h.policies.some(l=>"theocracy"===l));if(b||game.science.getPolicy("theocracy").researched)d="priest";b=game.village.getJob(d);if(null==game.village.leader||game.village.leader.job!=
d||game.village.leader.trait.name!=f){var e=game.village.sim.kittens.filter(l=>l.trait.name==f);0!=e.length&&b.unlocked&&b.value<game.village.getJobLimit(d)&&(e=e.sort(function(l,m){return 0!=m.rank-l.rank?m.rank-l.rank:m.exp-l.exp})[0],b.value>=a[d].max&&a[d].limited&&b.value&&game.village.sim.removeJob(d,1),game.village.unassignJob(e),e.job=d,game.village.getJob(d).value++,game.villageTab.censusPanel.census.makeLeader(e),c+=1,w("act.distributeLeader",[p("$village.trait."+f)],"ks-distribute"),z("distribute",
1))}}e=h.auto.distribute.items.miner;a=game.science.get("agriculture").researched;d=.85>=this.craftManager.getPotentialCatnip(!1)||0==game.village.jobs[1].value;b=game.village.getFreeKittens();var g=game.village.jobs[4];if(b)e.enabled&&g.unlocked&&!g.value&&game.village.sim.kittens.length&&game.village.sim.removeJob("woodcutter");else return c;e=game.resPool.get("catnip").value<=game.resPool.get("catnip").maxValue;b=0>game.resPool.get("catnip").value-1800*game.village.happiness*game.resPool.get("kittens").value||
1<b;g=h.auto.distribute;if(g.religion||d&&a&&b&&e)return g.religion=!1,game.village.assignJob(game.village.getJob("farmer"),1),w("act.distribute.catnip",[],"ks-distribute"),w("act.distribute",[p("$village.job.farmer")],"ks-distribute"),z("catnip",1),2;a="";d=Infinity;g=0;for(b=game.village.jobs.length-1;0<=b;b--)if(game.village.jobs[b].unlocked&&(e=game.village.jobs[b].name,h.auto.distribute.items[e].enabled)){var k=game.village.getJobLimit(e);g=game.village.jobs[b].value;g>=k||(k=-1===h.auto.distribute.items[e].max?
Number.MAX_VALUE:h.auto.distribute.items[e].max,k="hunter"==e&&.5>game.getEffect("manpowerJobRatio")?0:k,k="hunter"==e&&.75>=game.getEffect("manpowerJobRatio")?Math.floor(.5*k):k,h.auto.distribute.items[e].limited&&!(g<k))||(g/=k,g<d&&(d=g,a=e))}a&&(game.village.assignJob(game.village.getJob(a),1),c+=2,w("act.distribute",[p("$village.job."+a)],"ks-distribute"),z("distribute",1));return c},autofeed:function(){var a=game.diplomacy.get("leviathans"),b=game.resPool.get("necrocorn");a.unlocked&&0<b.value&&
(1<=b.value?a.energy<game.diplomacy.getMarkerCap()&&(game.diplomacy.feedElders(),w("act.feed"),z("feed",1)):1>.25*(1+game.getEffect("corruptionBoostRatio"))&&(z("feed",b.value),game.diplomacy.feedElders(),w("dispose.necrocorn")))},crypto:function(){var a=game.calendar.cryptoPrice,b=game.resPool.get("relic").value,c=game.resPool.get("blackcoin").value;if(!(!game.science.get("blackchain").researched&&0< !c||!game.diplomacy.get("leviathans").unlocked)){var d=null!=h.auto.options.items.crypto.subTrigger?
h.auto.options.items.crypto.subTrigger.toString().split("-"):"10000-860-1060",f=parseFloat(d[0]),e=parseFloat(d[1]),g=parseFloat(d[2]);if(3!=d.length||!f||!e||!g)return f||=1E4,h.auto.options.items.crypto.subTrigger=f+"-881-1060",A();a<e&&b>f?(game.diplomacy.buyBcoin(),a=game.resPool.get("blackcoin").value,c=game.getDisplayValueExt(a-c),w("blackcoin.buy",[c,game.getDisplayValueExt(b)]),z("blackcoin.buy",1)):a>g&&0<game.resPool.get("blackcoin").value&&(game.diplomacy.sellBcoin(),a=game.resPool.get("relic").value,
b=game.getDisplayValueExt(a-b),w("blackcoin.sell",[b,game.getDisplayValueExt(c)]),z("blackcoin.sell",1))}},worship:function(){var a=h.auto.faith.items,b=this.buildManager,c=this.craftManager,d=h.auto.faith.addition,f=0;if(d.bestUnicornBuilding.enabled){for(var e="unicornTomb ivoryTower ivoryCitadel skyPalace unicornUtopia sunspire".split(" "),g=0;g<e.length;g++)delete a[e[g]];e=this.getBestUnicornBuilding();var k=game.bld.get("ziggurat").on,l=game.resPool.resourceMap.tears.value,m=game.resPool.resourceMap.unicorns.value;
!l&&2500<=m&&k&&(game.resPool.resourceMap.tears.value+=k,game.resPool.resourceMap.unicorns.value-=2500);if(e)if(e.opts)e.model.enabled||e.controller.updateEnabled(e.model),b.build(e.opts.building,void 0,1);else{b=dojo.clone(e.prices);for(g=0;g<b.length;g++)if(b[g].val*=Math.pow(1.15,e.on),"tears"==b[g].name)var n=b[g].val;l-=c.getStock("tears");if(n>l&&(m=Math.floor((m-c.getStock("unicorns"))/2500),n=Math.ceil((n-l)/k),n<=m)){if(!game.religionTab.sacrificeBtn||!game.religionTab.sacrificeBtn.model)return game.religionTab.render();
game.religionTab.sacrificeBtn.controller._transform(game.religionTab.sacrificeBtn.model,n)}!oa.getBuildButton(e.name,"z")&&k?this.religionManager.manager.render():game.resPool.hasRes(b)&&(oa.build(e.name,"z",1),f=1)}}else a=Object.assign(a,h.auto.unicorn.items),h.auto.unicorn.items.unicornPasture.enabled&&this.build({unicornPasture:{require:!1,enabled:!0}}),delete a.unicornPasture;this._worship(a)&&(f=1);a=c.getResource("faith");c=a.value/a.maxValue;var r=game.religion.getRU("transcendence"),t=r.on,
q=t?game.religion.transcendenceTier:0;b=game.religion.faith;g=game.religion.faithRatio;e=10+game.getEffect("solarRevolutionLimit");l=e*(.001==d.adore.subTrigger?Math.min(5E-4*Math.pow(Math.E,.65*q),.375):d.adore.subTrigger);m=b/1E6*(q+1)*(q+1)*1.01;k=.01+a.value*(1+.1*game.getUnlimitedDR(g+m,.1));var v=game.getLimitedDR(game.getUnlimitedDR(k,1E3)/100,e);e=!1;k=d.autoPraise.enabled;var u=d.adore.enabled,B=h.auto.timeCtrl.items.timeSkip.adore&&k&&u;n=d.autoPraise.subTrigger;var J=game.religion.getRU("apocripha").on;
if(Math.min(.999,Math.max(.98,n))<=c||B){var K=game.space.meta[0].meta[1].on;if(d.transcend.enabled&&t){var L;g=game.religion._getTranscendTotalPrice(q+1)-game.religion._getTranscendTotalPrice(q);for(L=10<q?1:11>q&&K&&2!=game.calendar.season&&1E5<b&&J&&0<this.catnipForReligion(g)?4:0;L;){g=game.religion.faithRatio;q=game.religion.transcendenceTier;var G=Math.pow((q+2)/(q+1),2),U=game.religion._getTranscendTotalPrice(q+1)-game.religion._getTranscendTotalPrice(q),V=U,W=game.religion.getTU("blackObelisk").val;
G*=(5*(q+1)*W+1E3)/(5*q*W+1E3);W=2.02*b*q+3.03*b>1E6*U&&g>U;if(g>(1-G+Math.sqrt(80*(G*G-1)*V+(G-1)*(G-1)))*G/(40*(G+1)*(G+1)*(G-1))+V+V/(G*G-1)&&b>Math.min(1E6*(q-3),0)+1E6||W){game.religion.faithRatio-=U;game.religion.tcratio+=U;game.religion.transcendenceTier+=1;q=game.challenges.getChallenge("atheism");q.calculateEffects(q,game);W=game.religion.getTU("blackObelisk");W.calculateEffects(W,game);game.msg($I("religion.transcend.msg.success",[game.religion.transcendenceTier]));q=game.religion.transcendenceTier;
8>q&&(e=!0);for(g=0;g<game.religion.transcendenceUpgrades.length;g++)V=game.religion.transcendenceUpgrades[g],!V.unlocked&&q>=V.tier&&"mausoleum"!=V.name&&(V.unlocked=!0,f=1);L--;w("act.transcend",[game.getDisplayValueExt(U),q],"ks-transcend");z("transcend",1)}else L=0}}g=game.resPool.isStorageLimited(r.prices);L=h.auto.faith.items.transcendence;!L.enabled&&game.religion.fiath>r.faith&&u&&g&&(L.enabled=!0,ea(["\u5c0f\u732b\u8d34\u5fc3\u5f97\u65e0\u89c6\u8d85\u8d8a\u6309\u94ae\u7981\u7528","ks-default",
h.activitycolor]));r=d.adore.lastFaith;t=!game.religion.faithRatio||t;if(u&&J&&v>=l&&1E5<=b&&(!r||b>.75*r||11<q)&&K&&t&&0<this.catnipForReligion()||e)12>q&&(d.adore.lastFaith=b,l=game.getDisplayValueExt(.75*b),w("act.adore.last",[l],"ks-adore"),E.other||(E.other={}),E.other["adore.last"]=.75*b),game.religion._resetFaithInternal(1.01),B&&(h.auto.timeCtrl.items.timeSkip.adore=!1,e=!0),w("act.adore",[game.getDisplayValueExt(b),game.getDisplayValueExt(m)],"ks-adore"),z("adore",m)}b=.525*Math.log(game.religion.faithRatio)+
3.45;m=.0375*game.getEffect("solarRevolutionLimit")*game.religion.transcendenceTier;b=Math.min(.005*Math.pow(Math.E,.66*b),m+.75);(m=game.religion.getRU("solarRevolution").on)&&.98==n&&game.religion.getSolarRevolutionRatio()<b&&(n=0);m=1>c||!game.prestige.getPerk("voidOrder").researched||m;if(k&&c>=n&&.001<a.value&&m||e).98==d.autoPraise.subTrigger&&!e&&.98>c&&Date.now()>d.autoPraise.time+3E4&&(d.autoPraise.time=Date.now(),d=game.getDisplayValueExt(100*b)+"%",w("act.praise.msg",[d],"ks-praise")),
d=game.religion.getFaithBonus?game.religion.getFaithBonus():game.religion.getApocryphaBonus(),d=a.value*(1+d),z("praise",d),w("act.praise",[game.getDisplayValueExt(a.value),game.getDisplayValueExt(d)],"ks-praise"),game.religion.praise(),f+=1;return f},_worship:function(a){a=a||h.auto.faith.items;var b=this.religionManager,c=this.bulkManager;this.setTrait("wise");var d=game.religion.getRU("solarRevolution");game.getLimitedDR(.09+.01*(1+game.prestige.getBurnedParagonRatio()),1);var f=game.resPool.resourceMap.faith,
e=game.religion.faith>d.faith&&750<f.maxValue&&500<game.resPool.resourceMap.gold.maxValue;f=!d.on&&e&&game.religion.getRU("solarchant").on?1.1:h.auto.faith.trigger;!d.on&&e&&h.auto.faith.items.solarRevolution.enabled&&b.build("solarRevolution","s",1);d={};for(var g in a){e=a[g];var k=b.getBuild(g,e.variant);d[g]=k;var l=b.getBuildButton(g,e.variant);if(l&&l.model.metadata)if(l){l=b.getBuildButton(g,e.variant).model;var m="c"===e.variant?game.science.get("cryptotheology").researched:!0;k="s"===e.variant?
game.religion.faith>=k.faith:l.visible;!k||l.enabled||l.metadata.noStackable&&(!0!==l.metadata.noStackable||0!=l.metadata.on)||b.getBuildButton(g,e.variant).controller.updateEnabled(l);d[g].rHidden="s"===e.variant?!k:!(k&&l.enabled&&m)}else d[g].rHidden=!0;else(game.bld.getBuildingExt("ziggurat").on||"z"!=e.variant)&&game.religionTab.render()}a=c.bulk(a,d,f);c=0;for(var n in a)0<a[n].count&&("marker"!==a[n].id||game.religion.getZU("blackPyramid").getEffectiveValue(game))&&(c=game.religion.getRU("solarRevolution").on?
a[n].count:1,b.build(a[n].id,a[n].variant,c),c=1);return c},chrono:function(){var a=0;if(!game.timeTab.visible)return a;var b=h.auto.time.items,c=this.timeManager,d=this.bulkManager,f=h.auto.time.trigger,e={},g;for(g in b){var k=b[g],l=c.getBuild(g,k.variant);e[g]=l;(l=c.getBuildButton(g,k.variant))&&l.model.metadata?l.model.enabled?(l=l.model,k="chrono"===k.variant?c.manager.tab.cfPanel:c.manager.tab.vsPanel,e[g].tHidden=!l.visible||!l.enabled||!k.visible):l.controller.updateEnabled(l.model):"cryochambers"!=
g&&game.timeTab.render()}b=d.bulk(b,e,f);for(var m in b)0<b[m].count&&(c.build(b[m].id,b[m].variant,b[m].count),a=1);return a},upgrade:function(){var a=h.auto.upgrade.items,b=this.upgradeManager,c=this.craftManager,d=this.bulkManager,f=this.buildManager,e=0;this.setTrait("scientist");if(a.upgrades.enabled&&game.bld.getBuildingExt("workshop").meta.on){game.workshopTab.visible||(e=2);var g=game.workshop.upgrades,k=[];if(a.upgrades.limited){k="factoryOptimization factoryRobotics spaceEngineers aiEngineers chronoEngineers steelPlants amFission biofuel gmo invisibleBlackHand".split(" ");
game.bld.getBuildingExt("pasture").meta.on&&0!==game.bld.getBuildingExt("pasture").meta.stage||(k=k.concat(["photovoltaic","thinFilm","qdot"]));game.bld.getBuildingExt("aqueduct").meta.on&&0!==game.bld.getBuildingExt("aqueduct").meta.stage||(k=k.concat(["hydroPlantTurbines"]));var l=["factoryAutomation","advancedAutomation","pneumaticPress"];5>game.bld.get("steamworks").on?k=k.concat(["printingPress"],l):game.opts.enableRedshift||(k=k.concat(l));!game.religion.getRU("solarRevolution").on&&750<=game.resPool.resourceMap.faith.value&&
1E3<game.religion.faith&&(k=k.concat(["caravanserai"]));0>=game.resPool.energyWinterProd-game.resPool.energyCons-Math.max(game.bld.getBuildingExt("oilWell").meta.on,40)&&(k=k.concat(["pumpjack","carbonSequestration"]));game.workshop.get("geodesy").researched||(k=k.concat(["seti","pumpjack"]));game.workshop.meta[0].meta[125].researched||(k=k.concat(["eludiumReflectors","amBases","coldFusion","amReactors"]))}a:for(var m of g)if(!m.researched&&m.unlocked&&-1==k.indexOf(m.name)){g=dojo.clone(m.prices);
g=game.village.getEffectLeader("scientist",g);for(var n of g)if(c.getValueAvailable(n.name,!0)<n.val)continue a;e=1;b.build(m,"workshop")}}if(a.techs.enabled&&game.libraryTab.visible){g=game.science.techs;a:for(var r of g)if(!r.researched&&r.unlocked){g=dojo.clone(r.prices);g=game.village.getEffectLeader("scientist",g);for(n of g)if(c.getValueAvailable(n.name,!0)<n.val)continue a;e=1;b.build(r,"science")}}a.policies.enabled&&game.libraryTab.visible&&function(){var t=game.science.policies,q=0,v=t.length,
u=[],B;for(B in h.policies){var J=h.policies[B];for(K in t){var K=parseInt(K);var L=t[(K+q)%v];if(L.name==J){q=K+q+1;if(!L.researched){if(L.blocked)return;L.unlocked&&(void 0==L.requiredLeaderJob||null!=game.village.leader&&game.village.leader.job==L.requiredLeaderJob)&&u.push(L)}break}}}for(B of u)for(var G of B.prices)c.getValueAvailable(G.name,!0)<2.5*G.val||b.build(B,"policy")}();if(a.missions.enabled&&game.spaceTab.visible)a:for(r=Math.min(game.space.meta[0].meta.length,a.missions.subTrigger),
k=game.space.meta[0].meta,m=0;m<r;m++)if(k[m].unlocked&&1>k[m].val)if(l=game.spaceTab.GCPanel.children[m],!l||!l.model.metadata)game.spaceTab.render();else if((k[3].val||2!=m)&&!l.model.metadata.val&&!l.model.metadata.on){g=l.model.prices;for(n of g)if(c.getValueAvailable(n.name,!0)<n.val)continue a;l.model.enabled?(l.controller.build(l.model,1),7===m||12===m?w("upgrade.space.mission",[k[m].label],"ks-upgrade"):w("upgrade.space",[k[m].label],"ks-upgrade")):l.controller.updateEnabled(l.model)}if(a.races.enabled&&
game.diplomacy.hasUnlockedRaces()){if(!game.diplomacyTab.visible)return game.diplomacyTab.visible=!0,game.ui.render();n=game.diplomacy.get("leviathans").unlocked?8:7;game.diplomacyTab.racePanels.length<n&&(n=c.getValueAvailable("manpower",!0),!game.diplomacy.get("lizards").unlocked&&1E3<=n&&(game.resPool.get("manpower").value-=1E3,w("upgrade.race",[game.diplomacy.unlockRandomRace().title],"ks-upgrade"),n-=1E3,e=1),!game.diplomacy.get("sharks").unlocked&&1E3<=n&&(game.resPool.get("manpower").value-=
1E3,w("upgrade.race",[game.diplomacy.unlockRandomRace().title],"ks-upgrade"),n-=1E3,e=1),!game.diplomacy.get("griffins").unlocked&&1E3<=n&&(game.resPool.get("manpower").value-=1E3,w("upgrade.race",[game.diplomacy.unlockRandomRace().title],"ks-upgrade"),n-=1E3,e=1),!game.diplomacy.get("nagas").unlocked&&1500<=game.resPool.get("culture").value&&1E3<=n&&(game.resPool.get("manpower").value-=1E3,w("upgrade.race",[game.diplomacy.unlockRandomRace().title],"ks-upgrade"),n-=1E3,e=1),!game.diplomacy.get("zebras").unlocked&&
1<=game.resPool.get("ship").value&&1E3<=n&&(game.resPool.get("manpower").value-=1E3,w("upgrade.race",[game.diplomacy.unlockRandomRace().title],"ks-upgrade"),n-=1E3,e=1),!game.diplomacy.get("spiders").unlocked&&100<=game.resPool.get("ship").value&&125E3<game.resPool.get("science").maxValue&&1E3<=n&&(game.resPool.get("manpower").value-=1E3,w("upgrade.race",[game.diplomacy.unlockRandomRace().title],"ks-upgrade"),n-=1E3,e=1),!game.diplomacy.get("dragons").unlocked&&game.science.get("nuclearFission").researched&&
1E3<=n&&(game.resPool.get("manpower").value-=1E3,w("upgrade.race",[game.diplomacy.unlockRandomRace().title],"ks-upgrade"),n-=1E3,e=1))}if(a.buildings.enabled){n=0===game.bld.getBuildingExt("pasture").meta.stage?game.bld.getBuildingExt("pasture").meta.val:0;k=0===game.bld.getBuildingExt("aqueduct").meta.stage?game.bld.getBuildingExt("aqueduct").meta.val:0;r=game.resPool.energyWinterProd;a=(t,q)=>{let v=q.stages[1].prices;if(d.singleBuildPossible(q,v,1))return f.sellBuild(t),game.resPool.payPrices(v),
q.stage=1,q.on=1,q.val=1,w("summary.upgrade.building."+t,[],"ks-upgrade"),z("upgrade.building."+t),2};g=game.bld.getBuildingExt("pasture").meta;if(0===g.stage&&h.auto.build.items.solarFarm.enabled&&g.stages[1].stageUnlocked&&(m=r&&r-45<game.resPool.energyCons,l=1==game.bld.getBuildingExt("amphitheatre").meta.stage,m=m&&l&&25<game.getResourcePerTick("titanium",!0),45<c.getPotentialCatnip(!0,0,k)&&m))return a("pasture",g);k=game.bld.getBuildingExt("aqueduct").meta;if(0===k.stage&&h.auto.build.items.hydroPlant.enabled&&
1===g.stage&&k.stages[1].stageUnlocked&&(m=r&&r-1<game.resPool.energyCons,90<c.getPotentialCatnip(!0,n,0)&&m))return a("aqueduct",k);n=game.bld.getBuildingExt("library").meta;if(0===n.stage&&h.auto.build.items.dataCenter.enabled&&n.stages[1].stageUnlocked&&(g=game.workshop.get("cryocomputing").researched?1:2,game.challenges.isActive("energy")&&(g*=2*(1+game.getEffect("energyConsumptionIncrease"))),r=3,game.workshop.get("uplink").researched&&(r*=1+game.bld.get("biolab").val*game.getEffect("uplinkDCRatio")),
game.workshop.get("machineLearning").researched&&(r*=1+game.bld.get("aiCore").on*game.getEffect("dataCenterAIRatio")),k=game.bld.getEffect("scienceMax"),game.resPool.get("compedium").value>k&&game.resPool.energyProd>=game.resPool.energyCons+g*n.val/r))return a("library",n);n=game.bld.getBuildingExt("amphitheatre").meta;if(0===n.stage&&n.stages[1].stageUnlocked&&.2<game.getResourcePerTick("titanium",!0))return a("amphitheatre",n)}return e},build:function(a){var b=this.buildManager,c=this.bulkManager,
d=h.auto.build.trigger,f=0,e=game.challenges.isActive("blackSky"),g=game.prestige.getPerk("renaissance").researched,k=game.challenges.isActive("atheism"),l=game.workshop.get("geodesy").researched;let m=game.workshop.get("orbitalGeodesy").researched;var n=game.religion.getRU("solarRevolution");let r={},t;if("object"!=typeof a){t={};var q=h.auto.build.items;q=Object.assign({workshop:q.workshop,amphitheatre:q.amphitheatre,reactor:q.reactor,magneto:q.magneto,steamworks:q.steamworks},q);var v="academy pasture barn harbor oilWell warehouse broadcastTower biolab accelerator".split(" ");
for(u in q)-1==v.indexOf(u)?t[u]=q[u]:r[u]=q[u];t=JSON.parse(JSON.stringify(t));r=JSON.parse(JSON.stringify(r));var u=r.biolab;!m&&u&&(u.enabled=!1);game.challenges.isActive("pacifism")||((v=t.mint,u=game.resPool.get("manpower").maxValue,q=game.bld.getBuildingExt("mint").meta.val,2E4>=u)?v.enabled=!1:q?m||l&&game.workshop.get("miningDrill").researched||(v.enabled=!1):v.max=2);u=(G,U)=>{U?delete E.other["auto."+G]:E.other["auto."+G]||(w("summary.auto."+G,[],"ks-build"),z("auto."+G))};q=t.steamworks;
game.challenges.isActive("pacifism")||game.bld.get("magneto").val?u("steamworks",!0):game.bld.get("steamworks").unlocked&&q.enabled&&(u("steamworks"),q.enabled=!1);q=t.brewery;game.calendar.festivalDays||(q.max=0);v=game.science.get("theology").researched;let J=t.temple,K=t.tradepost;q=game.religion.faith>n.faith;let L=game.resPool.resourceMap.faith;!v&&game.science.get("philosophy").researched&&g&&(J.max=Math.floor(7.5/(1+game.prestige.getParagonStorageRatio())),K.max=12,u("tradepost"));n.on||k?
v&&(u("temple",!0),u("tradepost",!0)):(q&&h.auto.faith.items.solarRevolution.enabled&&750<L.maxValue&&game.science.get("philosophy").researched&&(u("temple"),J.enabled=!1),K.max=15);g=t.mansion;k=t.broadcastTower;n=game.science.get("archeology").researched;q=game.resPool.resourceMap.ship.value;q=m||600<q;l||m?q&&!g.max?g.max=45:u("mansion",!0):!e&&n&&g.max&&(u("mansion"),g.max=0);q?u("broadcastTower",!0):k&&game.science.get("electronics").researched&&(u("broadcastTower"),k.max=3)}l={};a=t||a;for(var B in a)l[B]=
b.getBuild(a[B].name||B).meta;a=c.bulk(a,l,d,"bonfire");c=game.bld.getBuildingExt("calciner").meta;e&&h.auto.build.items.calciner.enabled&&c.unlocked&&!c.val&&b.build("calciner",void 0,1);if(a)for(e=0;e<a.length;e++)c=a[e].count,d=a[e].id,c=b.count(d,c),0<c&&(b.build(a[e].name||d,a[e].stage,c),f+=1);"{}"!=JSON.stringify(r)&&(f+=this.build(r));return f},space:function(){var a=h.auto.space.items,b=this.spaceManager,c=this.bulkManager,d=h.auto.space.trigger,f={};for(g in a)f[g]=b.getBuild(g);c=c.bulk(a,
f,d,"space");d=0;game.challenges.isActive("blackSky")&&a.sattelite.enabled&&b.getBuildButton("sattelite")&&0==game.space.getBuilding("sattelite").val&&b.build("sattelite",1);for(var e in c)if(0<c[e].count){if("containmentChamber"==c[e].id){a=game.resPool.resourceMap.antimatter;f=game.getEffect("antimatterProduction");var g=game.resPool.energyProd<game.resPool.energyCons;if(500*f+a.value<a.maxValue||g)continue}b.build(c[e].id,c[e].count);d=1}return d},craft:function(){var a=h.auto.craft.items,b=this.craftManager,
c=h.auto.craft.trigger,d="ship beam wood slab plate steel alloy concrate gear scaffold tanker parchment manuscript compedium blueprint kerosene megalith eludium thorium".split(" ");this.setTrait("engineer");for(var f of d){d=a[f];var e=d.require?b.getResource(d.require):!1,g=0;if(d.enabled&&(game.bld.getBuildingExt("workshop").meta.on||"wood"===f)&&b.singleCraftPossible(f)){if("megalith"==f){let k=game.resPool.resourceMap;if((50<k.value||game.bld.metaCache.ziggurat.meta.on||2500>k.unicorns.value)&&
!game.workshop.get("orbitalGeodesy").researched)continue}!e||c<=e.value/e.maxValue?g=b.getLowestCraftAmount(f,d.limited,d.limRat,!0):d.limited&&(g=b.getLowestCraftAmount(f,d.limited,d.limRat,!1));1<=g&&b.craft(f,g)}}},holdFestival:function(){if(game.science.get("drama").researched&&400>game.calendar.festivalDays&&!(!game.prestige.getPerk("carnivals").researched&&0<game.calendar.festivalDays||5>game.village.getKittens()&&0==game.resPool.get("zebras").value)){var a=this.craftManager,b=1500<4E3*a.getTickVal(a.getResource("manpower"),
!0),c=5E3<4E3*a.getTickVal(a.getResource("culture"),!0);a=2500<4E3*a.getTickVal(a.getResource("parchment"),!0);if(b&&c&&(5E3<=game.resPool.get("parchment").value||a)&&(!game.science.getPolicy("carnivale").researched||game.resPool.get("furs").value&&game.resPool.get("ivory").value&&game.resPool.get("spice").value)){if(!game.villageTab.festivalBtn&&!game.villageTab.festivalBtn.model)return game.villageTab.render();b=game.villageTab.festivalBtn.model.prices;game.resPool.hasRes(b)&&(game.resPool.payPrices(b),
game.village.holdFestival(1),z("festival",1),400<game.calendar.festivalDays?w("festival.extend",[],"ks-festival"):w("festival.hold",[],"ks-festival"))}}},observeStars:function(){null!=game.calendar.observeBtn&&(game.calendar.observeHandler(),w("act.observe",[],"ks-star"),z("stars",1))},hunt:function(){clearTimeout(this.huntID);var a=this.craftManager.getResource("manpower");if(!(100>a.value||game.challenges.isActive("pacifism"))){var b=game.resPool.resourceMap.unicorns.value,c=game.achievements.get("unicornConspiracy").unlocked||
b,d=!game.bld.getBuildingExt("unicornPasture").meta.val&&c&&700<a.value&&3>b;b=this.craftManager.getAverageHunt();c=Math.floor(a.value/100);var f=!game.science.get("architecture").researched&&game.science.get("writing").researched,e=153125/Math.pow(game.getCraftRatio(),2),g=game.resPool.resourceMap.parchment.value<100*Math.ceil(25/game.getCraftRatio());e=Math.ceil(e/b.furs)+2;f=f&&c>e&&g;if(h.auto.options.items.hunt.subTrigger<=a.value/a.maxValue||f||d){100>a.perTickCached&&200<=a.value&&--c;f&&(c=
e);d&&(c=7,w("act.hunt.unicorn"));a=game.ironWill?game.resPool.resourceMap.zebras.title:$I("effectsMgr.statics.maxKittens.title");game.resPool.addResEvent("manpower",100*-c);this.setTrait("manager");game.village.gainHuntRes(c);this.setTrait();h.auto.cache.trait.manager?(w("act.hunt",["\u7ba1\u7406\u8005\u6d3e\u51fa"+c,a],"ks-hunt"),$I("village.trait.manager"),z("hunt.manager",c)):(z("hunt",c),w("act.hunt",[c,a],"ks-hunt"));a={};for(var k in b)d=this.craftManager.getResource(k),a[k]=0<d.maxValue?Math.min(b[k]*
c,Math.max(d.maxValue-d.value,0)):b[k]*c;this.cacheManager.pushToCache({materials:a,timeStamp:game.timer.ticksTotal})}}},trade:function(){var a=this.craftManager,b=this.tradeManager,c=this.cacheManager,d=a.getResource("gold"),f=[],e=h.auto.trade.trigger;if(b.singleTradePossible(void 0)){var g=game.calendar.getCurSeason().name;this.setTrait("merchant");for(var k in h.auto.trade.items){var l=h.auto.trade.items[k];if(l.enabled&&l[g]){var m=b.getRace(k);if(m.unlocked)if(m=b.getTradeButton(m.name),!m)b.manager.render();
else if(b.singleTradePossible(k))if(m.model.enabled){m=l.require?a.getResource(l.require):!1;var n=b.getProfitability(k),r=game.religion.getRU("solarRevolution"),t=game.resPool.resourceMap.faith.value,q=game.challenges.isActive("atheism");r=r.on||q||100>t||game.religion.faith<r.faith;t=game.religion.getRU("transcendence").on||!h.auto.faith.items.transcendence.enabled;q=game.religion.getRU("apocripha").on||!h.auto.faith.items.apocripha.enabled;t=t&&q||!game.space.meta[0].meta[1].on||!game.workshop.meta[0].meta[58].researched;
if(l.limited&&n&&r&&t){f.push(k);var v=l.limited&&n}else(!m||e<=m.value/m.maxValue)&&e<=d.value/d.maxValue&&f.push(k)}else m.controller.updateEnabled(m.model)}}if(0!==f.length&&(v=v?.4:1,g=b.getLowestTradeAmount(void 0,!0,!1)*v,!(1>g))){l=game.resPool.get("catnip").value+40*game.getResourcePerTick("catnip",!0);0>l&&h.auto.trade.items.sharks.enabled&&(m=game.diplomacy.get("sharks"),m=b.getAverageTrade(m).catnip,b.trade(k,Math.ceil(l/-m)),w("trade.catnip"));v=[];for(n=0;n<f.length;n++)k=f[n],l=h.auto.trade.items[k],
m=l.require?a.getResource(l.require):!1,l=b.getLowestTradeAmount(k,l.limited,(!m||e<=m.value/m.maxValue)&&e<=d.value/d.maxValue),1>l?(f.splice(n,1),n--):v[n]=l;if(0!==f.length){for(d={};0<f.length&&1<=g;)if(g<f.length)e=Math.floor(Math.random()*f.length),d[f[e]]||(d[f[e]]=0),d[f[e]]+=1,--g,f.splice(e,1),v.splice(e,1);else{e=Math.floor(g/f.length);for(n=l=0;n<f.length;n++)v[n]<e&&(e=v[n],l=n);d[f[l]]||(d[f[l]]=0);d[f[l]]+=e;g-=e;f.splice(l,1);v.splice(l,1)}if(0!==d.length){f={};for(k in d){m=b.getRace(k);
e=b.getMaterials(k);for(var u in e)f[u]||(f[u]=0),f[u]-=e[u]*d[k];e=b.getAverageTrade(m);for(var B in e)l=a.getResource(B),f[B]||(f[B]=0),f[B]+=0<l.maxValue?Math.min(e[B]*d[k],Math.max(l.maxValue-l.value,0)):e[B]*d[k]}c.pushToCache({materials:f,timeStamp:game.timer.ticksTotal});for(k in d)0<d[k]&&b.trade(k,d[k])}}}}},miscOptions:function(){var a=this.craftManager,b=this.buildManager,c=h.auto.options.items,d=0;if(c.buildEmbassies.enabled&&game.diplomacy.races[0].embassyPrices){var f=a.getResource("culture");
if(c.buildEmbassies.subTrigger<=f.value/f.maxValue){var e=game.diplomacyTab.racePanels;f=a.getValueAvailable("culture",!0);for(var g={},k=[],l=e.length-(game.diplomacy.get("leviathans").unlocked?1:0),m=0;m<l;m++)if(e[m].embassyButton){var n=e[m].race.name,r=game.diplomacy.get(n),t=1-game.getEffect("embassyCostReduction");g[n]={val:0,basePrice:r.embassyPrices[0].val*t,currentEm:r.embassyLevel,priceSum:0,race:r};k.push(n)}else game.diplomacyTab.render();if(0!==k.length){for(;0<k.length;)for(m=0;m<k.length;m++)n=
k[m],e=g[n],l=e.basePrice*Math.pow(1.15,e.currentEm+e.val+game.getEffect("embassyFakeBought")),l<=f?(f-=l,e.priceSum+=l,e.val+=1,d=1):(k.splice(m,1),m--);for(n in g)e=g[n],0!==e.val&&(f=a.getValueAvailable("culture",!0),e.priceSum>f&&R("Something has gone horribly wrong."+[e.priceSum,f]),game.resPool.resources[13].value-=e.priceSum,e.race.embassyLevel+=e.val,z("embassy",e.val),d+=1,1!==e.val?w("build.embassies",[e.val,e.race.title],"ks-trade"):w("build.embassy",[e.val,e.race.title],"ks-trade"))}}}if(c.fixCry.enabled&&
0<game.time.getVSU("usedCryochambers").val){a=0;for(c=game.timeTab.vsPanel.children[0].children[0];c.controller.buyItem(c.model,{},function(){});)a+=1;0<a&&(w("act.fix.cry",[a],"ks-fixCry"),z("fix.cry",a))}if(130<game.village.maxKittens||0<game.stats.getStat("totalResets").val){a=(q,v)=>{w("summary."+q,[v]);z(q,v)};c=game.bld.getBuildingExt("steamworks").meta;n=game.bld.getBuildingExt("magneto").meta;c.val&&c.on!==c.val&&7<n.on&&(c=b.getBuildButton("steamworks"),c.controller.onAll(c.model),a("steamworks"));
c=game.bld.getBuildingExt("reactor").meta;n=game.getResourcePerTick("uranium",!0);c.val&&c.on!==c.val&&0<n&&(c=b.getBuildButton("reactor"),c.controller.onAll(c.model),a("reactor"));c=game.time.getCFU("temporalAccelerator");c.on&&0===game.time.testShatter&&(c.isAutomationEnabled=!0,game.upgrade({chronoforge:["temporalAccelerator"]}),game.time.testShatter=1,a("temporalAccelerator"));if(game.resPool.energyWinterProd&&game.resPool.energyWinterProd<game.resPool.energyCons){if(game.bld.getBuildingExt("biolab").meta.on&&
game.workshop.get("biofuel").researched)return b="\u51ac\u5b63\u4ea7\u51fa\u7535:"+game.getDisplayValueExt(game.resPool.energyWinterProd)+"\uff0c\u51ac\u5b63\u6d88\u8017\u7535:"+game.getDisplayValueExt(game.resPool.energyCons)+"\uff0c\u5c0f\u732b\u62c5\u5fc3\u7535\u4e0d\u591f\u5e76\u5173\u95ed\u4e86",a=game.bld.getBuildingExt("biolab").meta.on,w("summary.biolab.test",[b+a]),game.bld.getBuildingExt("biolab").meta.on=0,z("biolab",a),d;c=game.bld.getBuildingExt("oilWell").meta;c.isAutomationEnabled&&
game.workshop.get("pumpjack").researched&&(c.isAutomationEnabled=!1,game.upgrade({buildings:["oilWell"]}),a("pumpjack",1))}b=[{name:"brewery",metadata:game.bld.get("brewery"),Button:b.getBuildButton("brewery"),conditionOn:game.calendar.festivalDays,conditionOff:game.bld.get("brewery").on}];gamePage.opts.enableRedshift||b.push({name:"chronocontrol",metadata:game.time.getVSU("chronocontrol"),Button:this.timeManager.getBuildButton("chronocontrol"),conditionOn:1>game.calendar.futureSeasonTemporalParadox&&
98<game.calendar.day,conditionOff:game.time.getVSU("chronocontrol").on&&0<game.calendar.day});for(c=0;c<b.length;c++)a=b[c],0<a.metadata.val&&(a.conditionOn?a.metadata.val-a.metadata.on&&(a.Button.controller.onAll(a.Button.model),w("summary."+a.name+"On"),z(a.name)):a.conditionOff&&(a.Button.controller.offAll(a.Button.model),w("summary."+a.name+"Off"),z(a.name)))}return d},gameUpgrade:function(){game.upgrade(h.auto.cache.upgrade);h.auto.cache.upgrade=null},setTrait:function(a){if(a){if(game.science.get("civil").researched&&
game.village.leader&&!game.challenges.isActive("anarchy")){let b=h.auto.cache;!b.trait[a]&&game.village.traits.some(c=>c.name===a)&&(b.trait[a]=!0,qa(p("set.leader",[$I("village.trait."+a)+"\u7684\u9886\u8896\uff0c\u5176\u6548\u679c\u4e3a\uff1a"+$I("village.bonus.desc."+a)])));if(!h.copyTrait){let c=game.village.leader.trait.name;h.copyTrait=c;b.trait[c]=!0}game.village.leader.trait.name=a}}else h.copyTrait&&(game.village.leader.trait.name=h.copyTrait,h.copyTrait=void 0)},skipCtrlRes:function(){let a=
h.auto.timeCtrl.items.timeSkip;if(!a.craft){for(var b="catnip wood minerals coal iron oil uranium science".split(" "),c="",d=0;d<b.length;d++){var f=game.resPool.resourceMap[b[d]];let e=h.auto.resources[f.name];e||(e={enabled:!0,stock:0},$("#toggle-list-resources").append(Y(f.name,f.title,!1)));e.consume=1;c+=f.title+"\uff0c"}a.craft=!0;w("summary.resource",[c]);z("resource")}},catnipForReligion:function(a){a=a||0;var b=1,c=game.religion.getRU("transcendence").on?game.religion.transcendenceTier:0;
a&&(c+=1);var d=game.religion.faithRatio+game.religion.faith/1E6*(c+1)*(c+1)*1.01-a;d=.01+game.resPool.get("faith").value*(1+.1*game.getUnlimitedDR(d,.1));d=game.getLimitedDR(game.getUnlimitedDR(d,1E3)/100,10+game.getEffect("solarRevolutionLimit"));10>c&&(b=game.village.getResConsumption().catnip*(1+game.getEffect("catnipDemandRatio")),0<game.village.sim.kittens.length&&1<game.village.happiness&&(b+=b*Math.max(game.village.happiness*(1+game.getEffect("hapinnessConsumptionRatio"))-1,0)*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))),
c=1+game.religion.getSolarRevolutionRatio()*(1+game.bld.pollutionEffects.solarRevolutionPollution),b=(game.resPool.get("catnip").perTickCached-b)*(1+d)/c+b+game.globalEffectsCached.catnipPerTickCon);0>b&&(c=h.auto.faith,h.auto.distribute.religion||(h.auto.distribute.religion=!0),a&&98>c.transcendCatnip&&(w("transcend.catnip"),c.transcendCatnip+=1),!a&&98>h.auto.faith.adoreCatnip&&(w("adore.catnip"),c.adoreCatnip+=1));return b},getBestUnicornBuilding:function(){var a=ua.getBuildButton("unicornPasture");
if("undefined"!==typeof a){if(!a.model.metadata)return game.bldTab.render();var b="unicornTomb ivoryTower ivoryCitadel skyPalace unicornUtopia sunspire".split(" "),c=game.getEffect("unicornsPerTickBase")*game.getTicksPerSecondUI(),d=game.getEffect("unicornsGlobalRatio")+1,f=game.getEffect("unicornsRatioReligion")+1,e=game.prestige.getParagonProductionRatio()+1,g=game.religion.getSolarRevolutionRatio()+1,k=1;void 0!=game.calendar.cycles[game.calendar.cycle].festivalEffects.unicorns&&game.prestige.getPerk("numeromancy").researched&&
game.calendar.festivalDays&&(k=game.calendar.cycles[game.calendar.cycle].festivalEffects.unicorns);var l=Math.max(game.bld.getBuildingExt("ziggurat").meta.on,1),m=c*d*f*e*g*k,n=500*(1+.1*game.getEffect("unicornsRatioReligion")),r=1;game.prestige.getPerk("unicornmancy").researched&&(r*=1.1);n*=game.getEffect("riftChance")*r/2E4;var t=Infinity,q="",v=game.bld.getBuildingExt("unicornPasture").meta.effects.unicornsPerTickBase*game.getTicksPerSecondUI();v=v*d*f*e*g*k;var u=game.bld.meta[0].meta[31];v=
u.prices[0].val*Math.pow(u.priceRatio+game.getEffect("priceRatio"),u.on)/v;v<t&&(t=v,q=a);for(a=0;6>a;a++)if(v=game.religion.meta[0].meta[a],-1!=b.indexOf(v.name)&&(0==a||game.religion.meta[0].meta[a-1].on)){u=0;u+=[5,25,50,500,5E3,25E3][a]*Math.pow(1.15,v.on)*2500/l;var B=game.getEffect("unicornsRatioReligion")+1,J=game.getEffect("riftChance");B+=[.05,.1,.25,.5,2.5,5][a];v.effects.riftChance&&(J+=v.effects.riftChance);J=J*r/2E4*500*(.1*(B-1)+1);J-=n;var K=c*d*B*e*g*k;K-=m;K+=J;K=u/K;if(K<t)if(0<
J||B>f&&0<u)t=K,q=v;else return game.religionTab.render()}return q}}};var O=function(a){this.setTab(a)};O.prototype={tab:void 0,render:function(){this.tab&&game.ui.activeTabId!==this.tab.tabId&&this.tab.render();return this},setTab:function(a){for(var b in game.tabs)if(game.tabs[b].tabId===a){this.tab=game.tabs[b];break}this.tab?this.render():R("unable to find tab "+a)}};var la=function(){this.manager=new O("Religion");this.crafts=new S;this.bulkManager=new X};la.prototype={manager:void 0,crafts:void 0,
bulkManager:void 0,build:function(a,b,c){var d=this.getBuild(a,b);a=this.getBuildButton(a,b);if(!a||!a.model.metadata)return game.religionTab.render();if(!a.model.enabled&&(a.model.prices=a.controller.getPrices(a.model),a.controller.updateEnabled(a.model),!a.model.enabled))return;d=d.label;c=this.bulkManager.construct(a.model,a,c);if(0!==c)if("s"===b){if(h.auto.cache.trait.wise)return z("\u54f2\u5b66\u5bb6\u5c0f\u732b\u7977\u544a\u4e86 "+d,c,"faith"),w("act.sun.discovers.leader",[d,c],"ks-faith");
1===c?w("act.sun.discover",[d],"ks-faith"):w("act.sun.discovers",[d,c],"ks-faith");z("\u5c0f\u732b\u7977\u544a\u4e86 "+d,c,"faith")}else z(d,c,"build"),1===c?w("act.build",[d],"ks-build"):w("act.builds",[d,c],"ks-build")},getBuild:function(a,b){switch(b){case "z":return game.religion.getZU(a);case "s":return game.religion.getRU(a);case "c":return game.religion.getTU(a)}},getBuildButton:function(a,b){switch(b){case "z":var c=this.manager.tab.zgUpgradeButtons;break;case "s":c=this.manager.tab.rUpgradeButtons;
break;case "c":c=this.manager.tab.children[0].children[0].children}a=this.getBuild(a,b);for(b=0;b<c.length;b++)if(c[b]&&-1!==c[b].model.name.indexOf(a.label))return c[b]}};var ma=function(){this.manager=new O("Time");this.crafts=new S;this.bulkManager=new X};ma.prototype={manager:void 0,crafts:void 0,bulkManager:void 0,build:function(a,b,c){var d=this.getBuild(a,b);a=this.getBuildButton(a,b);if(!a||!a.model.metadata)return game.timeTab.render();if(!a.model.enabled)return a.controller.updateEnabled(a.model);
b=c;d=d.label;c=this.bulkManager.construct(a.model,a,c);c!==b&&R(d+" Amount ordered: "+b+" Amount Constructed: "+c);z(d,c,"build");1===c?w("act.build",[d],"ks-build"):w("act.builds",[d,c],"ks-build")},getBuild:function(a,b){return"chrono"===b?game.time.getCFU(a):game.time.getVSU(a)},getBuildButton:function(a,b){var c="chrono"===b?this.manager.tab.children[2].children[0].children:this.manager.tab.children[3].children[0].children;a=this.getBuild(a,b);for(var d in c)if(-1!==c[d].model.name.indexOf(a.label))return c[d]}};
var ra=function(){this.workManager=new O("Workshop");this.sciManager=new O("Science");this.spaManager=new O("Space");this.crafts=new S};ra.prototype={manager:void 0,crafts:void 0,build:function(a,b){var c=this.getBuildButton(a,b);if(c&&c.model.metadata){if(!c.model.enabled&&(c.model.prices=c.controller.getPrices(c.model),c.controller.updateEnabled(c.model),!c.model.enabled))return;if(game.village.leader&&c.model.metadata.requiredLeaderJob&&game.village.leader.job!=c.model.metadata.requiredLeaderJob)b=
game.village.getJob(c.model.metadata.requiredLeaderJob).title,game.msg($I("msg.policy.wrongLeaderJobForResearch",[c.model.metadata.label,b]),"important");else if("transkittenism"==c.model.metadata.name&&15<=game.bld.getBuildingExt("aiCore").meta.effects.aiLevel)game.msg($I("msg.policy.aiNotMerges"),"alert","ai");else{if(0==c.model.metadata.blocked)for(var d=0;d<c.model.metadata.blocks.length;d++)if(game.science.getPolicy(c.model.metadata.blocks[d]).researched){c.model.metadata.blocked=!0;return}c.model.prices=
c.controller.getPrices(c.model);c.controller.payPrice(c.model,{},function(){});c.controller.onPurchase(c.model,{},function(){});game.stats.getStat("totalClicks").val+=1;c=a.label;d=(a=h.auto.cache.trait.scientist)?"\u79d1\u5b66\u5bb6\u5c0f\u732b":"\u5c0f\u732b";a=a?1:0;"workshop"===b?(z(c,a,"upgrade"),w("upgrade.upgrade",[c,d],"ks-upgrade")):"science"===b?(z(c,a,"research"),w("upgrade.tech",[c,d],"ks-research")):"policy"===b&&w("upgrade.policy",[c])}}else"workshop"===b?game.workshopTab.render():game.libraryTab.render()},
getBuildButton:function(a,b){if("workshop"===b)var c=this.workManager.tab.buttons;else"science"===b?c=this.sciManager.tab.buttons:"policy"===b&&(c=this.sciManager.tab.policyPanel.children);for(var d of c)if(d.model.name===a.label)return d}};var ja=function(){this.manager=new O("Bonfire");this.crafts=new S;this.bulkManager=new X};ja.prototype={manager:void 0,crafts:void 0,bulkManager:void 0,build:function(a,b,c){var d=this.getBuild(a);a=this.getBuildButton(a,b);if(d.meta.unlocked){if(!a||!a.model.metadata)return game.bldTab.render();
if(!a.model.enabled)return a.controller.updateEnabled(a.model);b=d.meta.label?d.meta.label:d.meta.stages[b].label;c=this.bulkManager.construct(a.model,a,c);0!==c&&(z(b,c,"build"),1===c?w("act.build",[b],"ks-build"):w("act.builds",[b,c],"ks-build"))}},count:function(a,b){if(b){var c=game.workshop.get("orbitalGeodesy").researched,d=game.challenges.isActive("atheism"),f=game.religion.getRU("solarRevolution"),e=game.workshop.get("spaceManufacturing").researched,g=game.prestige.getPerk("vitruvianFeline").researched;
switch(a){case "lumberMill":if(game.resPool.resourceMap.gold.value)break;case "aqueduct":case "library":if(!game.science.get("writing").researched)break;case "smelter":if(game.workshopTab.visible)break;case "academy":case "pasture":case "barn":case "harbor":case "oilWell":case "warehouse":if(g&&(e=game.resPool.resourceMap.wood.value<.94*game.resPool.resourceMap.wood.maxValue,game.resPool.resourceMap.minerals.value<.94*game.resPool.resourceMap.minerals.maxValue&&e&&!c&&game.bld.get(a).val)){var k=
!0;h.auto.build.lower||(h.auto.build.lower=!0,w("act.build.lower",[],"ks-build"))}break;case "accelerator":case "broadcastTower":case "biolab":e||(k=!0)}k?b=Math.floor(.5*b):f.on||d||(b=Math.ceil(.5*b));return b}},getBuild:function(a){return game.bld.getBuildingExt(a)},getBuildButton:function(a,b){var c=this.manager.tab.children;a=this.getBuild(a);b="undefined"!==typeof b?a.meta.stages[b].label:a.meta.label;for(var d in c)if(-1!==c[d].model.name.indexOf(b))return c[d]},getSumPrices:function(a,b){var c=
(a.priceRatio?a.priceRatio:a.stages[a.stage].priceRatio)+game.getEffect("priceRatio");return(b.val-b.val*Math.pow(c,a.val-1))/(1-c)},sellBuild:function(a){a=this.getBuild(a).meta;for(var b=a.stages[a.stage].prices,c=0;c<b.length;c++){var d=b[c];if(game.resPool.get(d.name).isRefundable()&&!d.isTemporary&&a.val){var f=this.getSumPrices(a,d);game.resPool.addResEvent(d.name,.5*f)}}a.on=0;a.val=0}};var ka=function(){this.manager=new O("Space");this.crafts=new S;this.bulkManager=new X};ka.prototype={manager:void 0,
crafts:void 0,bulkManager:void 0,build:function(a,b){var c=this.getBuild(a),d=this.getBuildButton(a);if(c.unlocked&&h.auto.space.items[a].enabled){if(!d||!d.model.metadata)return game.spaceTab.render();if(!d.model.enabled)return d.controller.updateEnabled(d.model);a=b;c=c.label;b=this.bulkManager.construct(d.model,d,b);b!==a&&R(c+" Amount ordered: "+a+" Amount Constructed: "+b);z(c,b,"build");1===b?w("act.build",[c],"ks-build"):w("act.builds",[c,b],"ks-build")}},getBuild:function(a){return game.space.getBuilding(a)},
getBuildButton:function(a){var b=this.manager.tab.planetPanels,c;for(c in b)for(var d in b[c].children)if(b[c].children[d].id===a)return b[c].children[d]}};var S=function(){this.cacheManager=new na};S.prototype={craft:function(a,b){b=Math.floor(b);if(a&&!(1>b)&&this.canCraft(a,b)){var c=this.getCraft(a),d=game.getResCraftRatio(c.name);game.workshop.craft(c.name,b,!0,!1);a=game.resPool.get(a).title;b=(b*(1+d)).toFixed(2);d=h.auto.cache.trait.engineer?"\u5de5\u5320\u5c0f\u732b\u5236\u4f5c\u4e86 ":"\u5c0f\u732b\u5236\u4f5c\u4e86 ";
h.auto.cache.trait.engineer?z(a,b,"craftLeader"):z(a,b,"craft");w("act.craft",[d+game.getDisplayValueExt(b),a],"ks-craft")}},canCraft:function(a,b){var c=this.getCraft(a);a=!1;if(c.unlocked){a=!0;c=game.workshop.getCraftPrice(c);for(var d in c){var f=c[d];this.getValueAvailable(f.name,!0)<f.val*b&&(a=!1)}}return a},getCraft:function(a){return game.workshop.getCraft(a)},setOption:function(){game.bld.get("warehouse")},setAuto:function(a,b){},singleCraftPossible:function(a){a=this.getMaterials(a);for(var b in a)if(this.getValueAvailable(b,
!0)<a[b])return!1;return!0},getLowestCraftAmount:function(a,b,c,d){var f=Number.MAX_VALUE,e=Number.MAX_VALUE,g=this.getMaterials(a);let k=this.getValueAvailable(a,!0);var l,m=this.getCraft(a);m=game.getResCraftRatio(m.name)+1;var n=h.auto.craft.trigger,r=h.auto.options.enabled&&h.auto.options.items.shipOverride.enabled,t=h.auto.options.items.shipOverride.subTrigger;let q=game.resPool.resourceMap;var v=q.ship.value;r="ship"===a&&r&&v<t;if(!g)return 0;"plate"===a&&b&&h.auto.craft.items.steel.enabled&&
(t=game.getResCraftRatio("steel"),0<game.getResourcePerTick("coal",!0)&&this.getValueAvailable("plate")/this.getValueAvailable("steel")>m/125/((t+1)/100)&&(e=(this.getResource("coal").maxValue*n-this.getValue("coal"))/game.getResourcePerTick("coal",!0)*Math.max(game.getResourcePerTick("iron",!0),0),e=(this.getValueAvailable("iron")-Math.max(this.getResource("coal").maxValue*n-e,0))/125),!v&&4<m&&25<=q.starchart.value&&(e=Number.MAX_VALUE,r=!0));v=game.science;n=v.meta[0];if("manuscript"===a&&b)for(l=
16;19>l;l++){var u=n.meta[l];if(!u.researched){let B=750<q.faith.maxValue?0:25;t=game.science.getPolicy("tradition").researched?20:25;u=Math.ceil((u.prices[1].val-B-k)/m);q.parchment.value>u*t&&1<=Math.abs(u)&&q.culture.value>16*t*u&&(r=!0);break}}if("compedium"===a&&b&&v.get("navigation").researched)for(l=19;27>l;l++)if(v=n.meta[l],!v.researched){v.prices[1].name==a&&(v=50*Math.ceil((v.prices[1].val-k)/m),q.manuscript.value>v&&1<=v&&(r=!0));break}if("blueprint"===a&&b&&n.meta[26].researched&&game.prestige.getPerk("vitruvianFeline").researched)for(l=
30;44>l;l++)if(v=n.meta[l],!v.researched){v.prices[1].name==a&&(n=25*Math.ceil((v.prices[1].val-k)/m),q.compedium.value>n&&1<=n&&(r=!0));break}c=this.getLimRat(a,b,c);for(l in g)n=g[l],n=(v=!b||r||0<q[l].maxValue&&d)?this.getValueAvailable(l,v)/n:c*((this.getValueAvailable(l,!0)+n/m*k)/n)-k/m,f=Math.min(n,f,e);"steel"===a&&b&&h.auto.craft.items.plate.enabled&&(d=game.bld.getBuildingExt("calciner").meta,!d.isAutomationEnabled&&d.val&&(f=Math.max(.003*(1+game.getEffect("calcinerRatio"))*.1*game.bld.getAutoProductionRatio()*
(1+game.getEffect("ironPolicyRatio"))*game.calendar.cycleEffectsFestival({iron:1}).iron*d.val*(1+game.getEffect("ironPolicyRatio")),f)),d=game.getResCraftRatio("plate"),this.getValueAvailable("plate")/this.getValueAvailable("steel")<(d+1)/125/(m/100)&&(f=0));0<q[a].maxValue&&f>q[a].maxValue-q[a].value&&(f=q[a].maxValue-q[a].value);b&&!r&&"wood"!=a&&(f*=Math.max(Math.min(Math.log(m-1),1),.2));return f},getMaterials:function(a){var b={};if(a=this.getCraft(a)){a=game.workshop.getCraftPrice(a);for(var c in a){var d=
a[c];b[d.name]=d.val}return b}},getTickVal:function(a,b){var c=game.getResourcePerTick(a.name,!0);if("timeCrystal"===a.name){var d=game.getEffect("alicornChance"),f=game.getResourcePerTick("alicorn"),e=.04*(1+game.getEffect("tcRefineRatio"));d*=1+game.getLimitedDR(game.getEffect("alicornPerTickRatio"),1.2);d=.2*Math.min(d,1)*(1+game.timeAccelerationRatio());c+=(d+f)*e}if(a.craftable){f=Number.MAX_VALUE;e=this.getMaterials(a.name);for(var g in e){d=(1+game.getResCraftRatio(a.name))/e[g];var k=this.getTickVal(this.getResource(g));
f=Math.min(k*d,f)}c+=f!==Number.MAX_VALUE?f:0}g="spice"===a.name||"blueprint"===a.name;if(0>=c&&g)return"ignore";b||(c+=this.cacheManager.getResValue(a.name));return c},getAverageHunt:function(){var a={},b=game.getEffect("hunterRatio")+game.village.getEffectLeader("manager",0);a.furs=40+32.5*b;a.ivory=50*Math.min(.225+.01*b,.5)+40*b*Math.min(.225+.01*b,.5);a.unicorns=.05;10<=this.getValue("zebras")&&(a.bloodstone=0===this.getValue("bloodstone")?.05:5E-4);game.ironWill&&game.workshop.get("goldOre").researched&&
(a.gold=.625+.625*b);return a},getResource:function(a){var b=game.resPool.get(a);if(b)return b;R("unable to find resource "+a);return null},getValue:function(a){return this.getResource(a).value},getStock:function(a){return(a=(a=h.auto.resources[a])&&a.enabled?a.stock:0)?a:0},getValueAvailable:function(a,b,c){var d=this.getValue(a),f=this.getStock(a);c=c||0===c?c:h.auto.craft.trigger;if("catnip"===a){var e=this.getPotentialCatnip(!1),g=0!==game.calendar.season||this.getResource(a).maxValue*c<d||0>
game.getResourcePerTick("catnip",!0);0>e&&g&&(f-=4E3*e,h.catnipMsg&&(w("craft.winterCatnip"),h.catnipMsg=!1))}d=Math.max(d-f,0);!b&&0<this.getResource(a).maxValue&&(b=(b=h.auto.resources[a])&&b.enabled&&void 0!=b.consume?b.consume:h.consume,d-=Math.min(this.getResource(a).maxValue*c,d)*(1-b),"unobtainium"===a&&1E3>d+f&&this.getResource(a).value==this.getResource(a).maxValue&&1E3<=this.getResource(a).value&&(d=this.getResource(a).value));return d},getLimRat:function(a,b,c){var d=game.resPool.resourceMap,
f=d[a];d=d.ship.value;if("ship"===a&&b){let e=5*game.bld.get("reactor").on+225;f=f.maxValue;c=d>.75*e?.4:c;c=d>2*e?.01+Math.log(e)/Math.log(d)*.39:c;c=.03*d>f?.01:c}"plate"===a&&b&&(f=5*game.bld.get("reactor").on+225,c=d>.75*f?c:.75);"eludium"===a&&b&&(c=10<game.time.getCFU("ressourceRetrieval").on?.4:c);"megalith"===a&&b&&(c=game.workshop.get("spaceManufacturing").researched?c:.2);return c},getPotentialCatnip:function(a,b,c){var d=game.getEffect("catnipPerTickBase");a?(d=.1*d*(1+game.getLimitedDR(game.getEffect("coldHarshness"),
1)),game.science.getPolicy("communism").researched&&(d=0)):d*=game.calendar.seasons[3].modifiers.catnip-(4>game.calendar.year?0:-.15);a=game.village.getResProduction().catnip?game.village.getResProduction().catnip*(1+game.getEffect("catnipJobRatio")):0;d+=a;if(void 0!=c){a=game.space.getBuilding("hydroponics");var f=a.effects.catnipRatio;d*=1+game.bld.getBuildingExt("aqueduct").meta.stages[0].effects.catnipRatio*c+f*a.val}else d*=1+game.getEffect("catnipRatio");c=game.challenges.isActive("winterIsComing")?
0:game.prestige.getParagonProductionRatio();d=d*(1+c)*(1+game.religion.getSolarRevolutionRatio()*(1+game.bld.pollutionEffects.solarRevolutionPollution));d*=1+game.getEffect("blsProductionBonus")*game.resPool.get("sorrow").value;d=game.calendar.cycleEffectsFestival({catnip:d}).catnip;d*=1+game.bld.pollutionEffects.catnipPollutionRatio;c=game.village.getResConsumption().catnip;a=game.bld.getBuildingExt("unicornPasture").meta.val;c=void 0!=b?c*(1+game.getLimitedDR(-.005*b+-.0015*a,1)):c*(1+game.getEffect("catnipDemandRatio"));
0<game.village.sim.kittens.length&&1<game.village.happiness&&(b=Math.max(game.village.happiness*(1+game.getEffect("hapinnessConsumptionRatio"))-1,0),c=game.challenges.isActive("anarchy")?c*(1+b*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))):c*(1+b*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))*(1-game.village.getFreeKittens()/game.village.sim.kittens.length)));return d=d+c+game.getResourcePerTickConvertion("catnip")}};var X=function(){this.craftManager=new S};X.prototype={craftManager:void 0,
bulk:function(a,b,c,d){var f=[],e=[],g=0,k;for(k in a){var l=a[k],m=b[k];if(l.enabled&&!0!==m.tHidden&&!0!==m.rHidden&&!(void 0===m.rHidden&&!m.unlocked||"cryochambers"===k&&(0<game.time.getVSU("usedCryochambers").val||game.bld.getBuildingExt("chronosphere").meta.val<=m.val)||"ressourceRetrieval"===k&&100<=m.val)){var n=m.stages?m.stages[m.stage].prices:m.prices;"s"===l.variant&&(n=game.village.getEffectLeader("wise",dojo.clone(m.prices)));var r=this.getPriceRatio(m,d);if(this.singleBuildPossible(m,
n,r,d)&&(!m.almostLimited||game.workshop.get("geodesy").researched)){var t=l.require?this.craftManager.getResource(l.require):!1;if((!t||c<=t.value/t.maxValue)&&("undefined"===typeof l.stage||l.stage===m.stage)){f[g]={};f[g].id=k;f[g].label=l.label;f[g].name=l.name;f[g].stage=l.stage;f[g].variant=l.variant;e[g]={};e[g].id=k;e[g].name=l.name;e[g].count=0;e[g].spot=g;e[g].prices=[];t=1-game.getLimitedDR(game.getEffect(k+"CostReduction"),1);for(var q in n){var v=1-game.getLimitedDR(game.getEffect(n[q].name+
"CostReduction"),1);e[g].prices.push({val:n[q].val*t*v,name:n[q].name})}e[g].priceRatio=r;e[g].source=d;e[g].limit=isNaN(l.max)?-1:l.max;e[g].val=m.val;g++}}}}if(0!==e.length){a={};for(var u in game.resPool.resources)a[game.resPool.resources[u].name]=game.resPool.resources[u].value;for(u in a)a[u]=this.craftManager.getValueAvailable(u,!0);for(u=0;0!==e.length;){c=0;a:for(;c<e.length;c++){l=e[c];m=b[l.id];n=l.prices;r=l.priceRatio;d=l.source;for(g=0;g<n.length;g++){q=k=!1;if(d&&"space"===d&&"oil"===
n[g].name){k=!0;var B=n[g].val*(1-game.getLimitedDR(game.getEffect("oilReductionRatio"),.75))}else if("cryochambers"===l.id&&"karma"===n[g].name){q=!0;var J=n[g].val*(1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1))}k?t=a.oil<B*Math.pow(1.05,u+m.val):q?t=a.karma<J*Math.pow(r,u+m.val):(t=n[g].val*Math.pow(r,u+m.val),t=a[n[g].name]<t||Infinity==t);if(t||m.noStackable&&1<=u+m.val||"ressourceRetrieval"===l.id&&100<=u+m.val||"cryochambers"===l.id&&game.bld.getBuildingExt("chronosphere").meta.val<=
u+m.val){for(k=0;k<g;k++)d&&"space"===d&&"oil"===n[k].name?(q=n[k].val*(1-game.getLimitedDR(game.getEffect("oilReductionRatio"),.75)),a.oil+=q*Math.pow(1.05,u+m.val)):"cryochambers"===l.id&&"karma"===n[k].name?(q=n[k].val*(1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1)),a.karma+=q*Math.pow(r,u+m.val)):(q=n[k].val*Math.pow(r,u+m.val),a[n[k].name]+="void"===n[k].name?Math.ceil(q):q);-1!=l.limit&&(l.count=Math.max(0,Math.min(l.count,l.limit-l.val)));f[e[c].spot].count=e[c].count;e.splice(c,
1);c--;continue a}if(k)a.oil-=B*Math.pow(1.05,u+m.val);else if(q)a.karma-=J*Math.pow(r,u+m.val);else{if(l.val>=l.limit&&0<l.limit)continue a;k=n[g].val*Math.pow(r,u+m.val);a[n[g].name]-="void"===n[g].name?Math.ceil(k):k}}e[c].count++}u++}return f}},construct:function(a,b,c){var d=a.metadata,f=0;"number"==typeof d.limitBuild&&d.limitBuild-d.val<c&&(c=d.limitBuild-d.val);a.enabled||b.controller.updateEnabled(a);if(a.enabled&&b.controller.hasResources(a)||game.devMode){for(;b.controller.hasResources(a)&&
0<c;)a.prices=b.controller.getPrices(a),b.controller.payPrice(a),b.controller.incrementValue(a),f++,c--;d.breakIronWill&&(game.ironWill=!1,a=game.science.getPolicy("liberty"),a.calculateEffects(a,game));d.unlockScheme&&d.val>=d.unlockScheme.threshold&&game.ui.unlockScheme(d.unlockScheme.name);d.unlocks&&game.unlock(d.unlocks);if(d.upgrades){d.updateEffects&&d.updateEffects(d,game);h.auto.cache.upgrade||(h.auto.cache.upgrade={});for(let e in d.upgrades){h.auto.cache.upgrade[e]||(h.auto.cache.upgrade[e]=
[]);a=h.auto.cache.upgrade[e];for(let g in d.upgrades[e])-1==a.indexOf(d.upgrades[e])&&a.push(d.upgrades[e][g])}}}return f},getPriceRatio:function(a,b){var c=a.stages?a.priceRatio||a.stages[a.stage].priceRatio:a.priceRatio,d=0;b&&"bonfire"===b&&(d=game.getEffect(a.name+"PriceRatio")+game.getEffect("priceRatio")+game.getEffect("mapPriceReduction"),d=game.getLimitedDR(d,c-1));return c+d},singleBuildPossible:function(a,b,c,d){var f=1-game.getLimitedDR(game.getEffect(a.name+"CostReduction"),1),e;for(e in b){var g=
1-game.getLimitedDR(game.getEffect(b[e].name+"CostReduction"),1);g*=b[e].val*f;if(d&&"space"===d&&"oil"===b[e].name){if(g*=1-game.getLimitedDR(game.getEffect("oilReductionRatio"),.75),this.craftManager.getValueAvailable("oil",!0)<g*Math.pow(1.05,a.val))return!1}else if("cryochambers"===a.name&&"karma"===b[e].name){if(g*=1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1),this.craftManager.getValueAvailable("karma",!0)<g*Math.pow(c,a.val))return!1}else if(this.craftManager.getValueAvailable(b[e].name,
!0)<g*Math.pow(c,a.val))return!1}return!0}};var sa=function(){this.craftManager=new S;this.manager=new O("Trade")};sa.prototype={craftManager:void 0,manager:void 0,trade:function(a,b){(!a||1>b)&&R("KS trade checks are not functioning properly, please create an issue on the github page.");var c=this.getRace(a);this.getTradeButton(c.name).model.enabled&&h.auto.trade.items[a].enabled||R("KS trade checks are not functioning properly, please create an issue on the github page.");a=h.auto.cache.trait.merchant?
"\u5546\u4eba\u5c0f\u732b\u4e0e":"\u5c0f\u732b\u4e0e";game.diplomacy.tradeMultiple(c,b);z(a+" "+c.title,b,"trade");w("act.trade",[b,a+F(c.title)],"ks-trade")},getProfitability:function(a){var b=this.getRace(a),c=this.getMaterials(a);a=0;for(var d in c){var f=this.craftManager.getTickVal(this.craftManager.getResource(d));"gold"!=d&&"manpower"!=d||!game.workshop.get("geodesy").researched||(f*=2);if(0>=f)return!1;a+=c[d]/f}b=this.getAverageTrade(b);d=0;for(var e in b)if(c=this.craftManager.getResource(e),
f=this.craftManager.getTickVal(c),"ignore"!==f){if(0>=f)return!0;d+=0<c.maxValue?Math.min(b[e],Math.max(c.maxValue-c.value,0))/f:b[e]/f}return a<=d},getAverageTrade:function(a){var b=game.getEffect("standingRatio")+game.diplomacy.calculateStandingFromPolicies(a.name,game),c=1+.02*a.energy,d=1+game.diplomacy.getTradeRatio()+game.diplomacy.calculateTradeBonusFromPolicies(a.name,game)+game.challenges.getChallenge("pacifism").getTradeBonusEffect(game),f=0>a.standing?a.standing+b:0;f=0>f?1+f:1;var e=0<
a.standing?Math.min(a.standing+b/2,1):0;b={};for(var g of a.sells)if(this.isValidTrade(g,a)){var k=g.minLevel?g.chance*(1+game.getLimitedDR(.01*a.embassyLevel,.75)):g.chance,l=g.seasons?1+g.seasons[game.calendar.getCurSeason().name]:1;b[g.name]=((f-e)*Math.min(k,1)+1.25*e*Math.min(k,1))*g.value*c*l*d}"zebras"==a.name&&(c=game.resPool.get("ship").value,g=game.getEffect("zebraRelationModifier")*game.bld.getBuildingExt("tradepost").meta.effects.tradeRatio,b.titanium=(1.5+.03*c)*(1+g)*Math.min(.15+.0035*
c,1)*f*(230>c?Math.log(c)*c*8.4E-4-.01:1));a=f*Math.min(a.embassyPrices?.35*(1+.01*a.embassyLevel):.35,1);b.spice=25*a+50*a*d/2;b.blueprint=.1*f;return b},isValidTrade:function(a,b){return!(a.minLevel&&b.embassyLevel<a.minLevel)&&(game.resPool.get(a.name).unlocked||"titanium"===a.name||"uranium"===a.name||"leviathans"===b.name)},getLowestTradeAmount:function(a,b,c){var d=c=void 0,f=this.getMaterials(a),e=this.getRace(a);for(l in f){var g="manpower"===l?Math.max(this.craftManager.getValueAvailable(l,
!0)-100,0)/f[l]:this.craftManager.getValueAvailable(l,b,h.auto.trade.trigger)/f[l];g=Infinity==g?Number.MAX_VALUE/f[l]:g;c=void 0===c||g<c?g:c}c=Math.floor(c);if(0===c)return 0;if(null===e||h.auto.trade.items[a].allowcapped)return c;a=this.getAverageTrade(e);for(var k in e.sells){var l=e.sells[k];b=this.craftManager.getResource(l.name);b.maxValue&&(l=a[l.name],b=Math.max((b.maxValue-b.value)/l,0),d=b<d?d:b)}d=Math.ceil(d);if(0===d)return 0;c=d<c?Math.max(d-1,1):c;return Math.floor(c)},getMaterials:function(a){var b=
game.challenges.isActive("postApocalypse")?game.bld.getPollutionLevel():1;b={manpower:b*(50-game.getEffect("tradeCatpowerDiscount")),gold:b*(15-game.getEffect("tradeGoldDiscount"))};if(void 0===a)return b;a=this.getRace(a).buys;for(var c in a){var d=a[c];b[d.name]=d.val}return b},getRace:function(a){return void 0===a?null:game.diplomacy.get(a)},getTradeButton:function(a){for(var b in this.manager.tab.racePanels){var c=this.manager.tab.racePanels[b];if(c.race.name===a)return c.tradeBtn}},singleTradePossible:function(a){a=
this.getMaterials(a);for(var b in a)if(this.craftManager.getValueAvailable(b,!0)<a[b])return!1;return!0}};var na=function(){};na.prototype={pushToCache:function(a){var b=h.auto.cache.cache,c=h.auto.cache.cacheSum,d=a.materials;b.push(a);for(var f in d)c[f]||(c[f]=0),c[f]+=d[f];for(a=0;a<b.length;a++)if(d=b[a],999<b.length){d=d.materials;for(f in d)c[f]||(c[f]=0),c[f]-=d[f];b.shift();a--}else break},getResValue:function(a){var b=h.auto.cache.cache;if(0===b.length)return 0;var c=h.auto.cache.cacheSum;
return c[a]?c[a]/(game.timer.ticksTotal-b[0].timeStamp):0}};var Fa=$("#rightColumn"),C=function(a){document.styleSheets[0].insertRule(a,0)};C("body {font-family: inherit;font-size: inherit;}");C("body[data-ks-style]:not(.scheme_sleek) #game {min-width: 1300px;top: 32px;}");C("body[data-ks-style]:not(.scheme_sleek) .column {min-height: inherit;max-width: inherit !important;padding: 1%;margin: 0;overflow-y: auto;}");C("body[data-ks-style]:not(.scheme_sleek) #leftColumn {height: 92%;width: 26%;}");C("body[data-ks-style]:not(.scheme_sleek) #midColumn {margin-top: 1% !important;height: 90%;width: 48%;}");
C("body[data-ks-style]:not(.scheme_sleek) #rightColumn {overflow-y: auto;height: 92%;width: 19%;font-size: 12px;font-family: -apple-system,BlinkMacSystemFont,Helvetica Neue,Helvetica,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,sans-serif;}");C("body #gamePageContainer #game #rightColumn {overflow-y: auto;}");C("body[data-ks-style]:not(.scheme_sleek) #gameLog {overflow-y: hidden !important;width: 100% !important;padding-top: 5px !important;}");C("body[data-ks-style]:not(.scheme_sleek) #resContainer .maxRes {color: #676766;}");
C("body[data-ks-style]:not(.scheme_sleek) #game .btn {border-radius: 0px;font-family: monospace;font-size: 12px !important;margin: 0 5px 7px 0;width: 290px;}");C("body[data-ks-style]:not(.scheme_sleek) #game .map-viewport {height: 340px;max-width: 500px;overflow: visible;}");C(" #game .map-dashboard {height: 120px;width: 292px;}");C("#ks-options ul {list-style: none;margin: 0 0 5px;padding: 0;}");C('#ks-options ul:after {clear: both;content: " ";display: block;height: 0;}');C("#ks-options ul li {display: block;float: left;width: 100%;}");
C("#ks-options #toggle-list-resources .stockWarn *,#ks-options #toggle-reset-list-resources .stockWarn * {color: "+h.stockwarncolor+";}");C(".right-tab {height: unset !important;}");var y={version:3,toggles:{},items:{},resources:{},triggers:{},reset:{reset:!1,times:0,paragonLastTime:0,pargonTotal:0,karmaLastTime:0,karmaTotal:0},policies:[]},Ga=function(){$("#items-list-build, #items-list-craft, #items-list-trade").find("input[id^='toggle-']").each(function(){y.items[$(this).attr("id")]=$(this).prop("checked")});
A()},A=function(){y.toggles={infinity:h.auto.infinity.enabled,build:h.auto.build.enabled,space:h.auto.space.enabled,craft:h.auto.craft.enabled,upgrade:h.auto.upgrade.enabled,trade:h.auto.trade.enabled,faith:h.auto.faith.enabled,time:h.auto.time.enabled,timeCtrl:h.auto.timeCtrl.enabled,distribute:h.auto.distribute.enabled,options:h.auto.options.enabled,filter:h.auto.filter.enabled};y.resources=h.auto.resources;y.triggers={faith:h.auto.faith.trigger,time:h.auto.time.trigger,build:h.auto.build.trigger,
space:h.auto.space.trigger,craft:h.auto.craft.trigger,trade:h.auto.trade.trigger};y.policies=h.policies;localStorage["cbc.kitten-scientists"]=JSON.stringify(y)},wa=function(){var a=JSON.parse(localStorage["cbc.kitten-scientists"]||"null");if(!a||3<a.version)Ga();else if(1==a.version&&(a.version=2,a.reset={reset:!1,times:0,paragonLastTime:0,pargonTotal:0,karmaLastTime:0,karmaTotal:0}),2==a.version&&(a.version=3,a.policies=[]),3==a.version){y=a;if(a.toggles)for(var b in a.toggles)if("engine"!==b&&h.auto[b]){h.auto[b].enabled=
!!a.toggles[b];var c=$("#toggle-"+b);c.prop("checked",h.auto[b].enabled)}for(var d in y.items){b=y.items[d];c=$("#"+d);var f=c.data("option"),e=d.split("-");if(void 0===f)delete y.items[d];else if("set"==e[0]?(c[0].title=b,"max"==e[e.length-1]?c.text(p("ui.max",[b])):"min"==e[e.length-1]&&c.text(p("ui.min",[b]))):c.prop("checked",b),2==e.length)f.enabled=b;else if("reset"==e[1]&&4<=e.length)switch(c=e[2],f=e[3],e[0]){case "toggle":h.auto[c].items[f].checkForReset=b;break;case "set":h.auto[c].items[f].triggerForReset=
b}else"limited"==e[1]?(f.limited=b,"parchment"==e[2]&&b&&$("#toggle-limited-parchment").click()):"leaderJob"==e[1]?f[e[1]]=e[2]:"leaderTrait"==e[1]?f[e[1]]=e[2]:f[e[2]]=b}d=$("#toggle-list-resources");b=$("#toggle-reset-list-resources");for(var g in y.resources)e=y.resources[g],e.enabled&&(0===$("#resource-"+g).length&&d.append(Y(g)),"stock"in e&&pa(g,e.stock),"consume"in e&&va(g,e.consume)),e.checkForReset&&(0===$("#resource-reset-"+g).length&&b.append(Y(g,void 0,!0)),"stockForReset"in e&&pa(g,e.stockForReset?
e.stockForReset:Infinity,!0));a.triggers&&(h.auto.faith.trigger=a.triggers.faith,h.auto.time.trigger=a.triggers.time,h.auto.build.trigger=a.triggers.build,h.auto.space.trigger=a.triggers.space,h.auto.craft.trigger=a.triggers.craft,h.auto.trade.trigger=a.triggers.trade,$("#trigger-faith")[0].title=h.auto.faith.trigger,$("#trigger-time")[0].title=h.auto.time.trigger,$("#trigger-build")[0].title=h.auto.build.trigger,$("#trigger-space")[0].title=h.auto.space.trigger,$("#trigger-craft")[0].title=h.auto.craft.trigger,
$("#trigger-trade")[0].title=h.auto.trade.trigger);h.policies=a.policies}},F=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},xa=function(a,b,c=!1){c=c?"#resource-reset-"+a:"#resource-"+a;$(c).removeClass("stockWarn");var d=game.resPool.resources.filter(f=>f.name==a)[0].maxValue;(b>d&&0!==d||Infinity===b)&&$(c).addClass("stockWarn")},pa=function(a,b,c=!1){var d=Number(b);isNaN(d)||0>d?R("ignoring non-numeric or invalid stock value "+b):(h.auto.resources[a]||(h.auto.resources[a]={}),c?(b="#resource-reset-"+
a+" #stock-value-"+a,d=0>d?Infinity:d,h.auto.resources[a].checkForReset=!0,h.auto.resources[a].stockForReset=d):(b="#resource-"+a+" #stock-value-"+a,h.auto.resources[a].enabled=!0,h.auto.resources[a].stock=d),$(b).text(p("resources.stock",[Infinity===d?"\u221e":game.getDisplayValueExt(d)])),xa(a,d,c))},va=function(a,b){var c=parseFloat(b);isNaN(c)||0>c||1<c?R("ignoring non-numeric or invalid consume rate "+b):(h.auto.resources[a]||(h.auto.resources[a]={}),h.auto.resources[a].consume=c,$("#consume-rate-"+
a).text(p("resources.consume",[c.toFixed(2)])))},Ha=function(a,b=!1){var c=h.auto.resources[a];b?c.checkForReset=!1:c.enabled=!1;c.enabled||c.checkForReset||delete h.auto.resources[a]},Y=function(a,b,c=!1){b=b||game.resPool.get(a).title||F(a);var d=h.auto.resources[a],f=c&&d&&d.stockForReset?d.stockForReset:!c&&d&&d.stock?d.stock:0,e=d&&void 0!=d.consume?d.consume:h.consume,g=$("<div/>",{id:(c?"resource-reset-":"resource-")+a,css:{display:"inline-block",width:"100%"}}),k=$("<div/>",{id:"resource-label-"+
a,text:b,css:{display:"inline-block",width:"95px"}});f=$("<div/>",{id:"stock-value-"+a,text:p("resources.stock",[Infinity===f?"\u221e":game.getDisplayValueExt(f)]),css:{cursor:"pointer",display:"inline-block",width:"80px"}});e=$("<div/>",{id:"consume-rate-"+a,text:p("resources.consume",[e.toFixed(2)]),css:{cursor:"pointer",display:"inline-block"}});var l=$("<div/>",{id:"resource-delete-"+a,text:p("resources.del"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});
c?g.append(k,f,l):g.append(k,f,e,l);void 0!=d&&void 0!=d.stock&&xa(a,d.stock);(function(m,n){m.on("click",function(){D.stop(!1);var r=window.prompt(p("resources.stock.set",[b]));h.auto.engine.enabled&&D.start(!1);null!==r&&(pa(a,r,n),A())})})(f,c);e.on("click",function(){D.stop(!1);var m=window.prompt(p("resources.consume.set",[b]));h.auto.engine.enabled&&D.start(!1);null!==m&&(va(a,m),A())});(function(m,n){m.on("click",function(){window.confirm(p("resources.del.confirm",[b]))&&(g.remove(),Ha(a,n),
A())})})(l,c);return g},Ia=function(a){var b=[],c=a?"#resource-reset-":"#resource-",d;for(d in game.resPool.resources){var f=game.resPool.resources[d];if(f.name&&0===$(c+f.name).length){var e=$("<div/>",{id:"resource-add-"+f.name,text:F(f.title?f.title:f.name),css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}});(function(g,k,l){k.on("click",function(){k.remove();h.auto.resources[g.name]||(h.auto.resources[g.name]={});l?(h.auto.resources[g.name].checkForReset=!0,h.auto.resources[g.name].stockForReset=
Infinity,$("#toggle-reset-list-resources").append(Y(g.name,g.title,l))):(h.auto.resources[g.name].enabled=!0,h.auto.resources[g.name].stock=0,h.auto.resources[g.name].consume=h.consume,$("#toggle-list-resources").append(Y(g.name,g.title,l)));A()})})(f,e,a);b.push(e)}}return b},ya=function(a=!1){var b=$("<ul/>",{id:a?"toggle-reset-list-resources":"toggle-list-resources",css:{display:"none",paddingLeft:"20px"}}),c=$("<div/>",{id:"resources-add",text:p("resources.add"),css:{cursor:"pointer",display:"inline-block",
textShadow:"3px 3px 4px gray",borderBottom:"1px solid rgba(185, 185, 185, 0.7)"}}),d=$("<div/>",{id:"resources-clear-unused",text:p("resources.clear.unused"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});d.on("click",function(){for(var g in h.auto.resources)(!h.auto.resources[g].stock&&h.auto.resources[g].consume==h.consume||void 0==h.auto.resources[g].consume)&&$("#resource-"+g).remove()});var f=$("<ul/>",{id:"available-resources-list",
css:{display:"none",paddingLeft:"20px"}});(function(g,k){g.on("click",function(){f.toggle();f.empty();f.append(Ia(k))})})(c,a);a?b.append(c,f):b.append(c,d,f);for(var e in h.auto.resources)c=h.auto.resources[e],(a&&c.checkForReset||!a&&c.enabled)&&b.append(Y(e,void 0,a));return b},Z=function(a){var b=$("<ul/>",{id:"items-list-"+a,css:{display:"none",paddingLeft:"20px"}}),c=$("<div/>",{id:"toggle-all-disable-items-"+a,text:p("ui.disable.all"),css:{cursor:"pointer",display:"inline-block",textShadow:"3px 3px 4px gray",
marginRight:"8px"}});c.on("click",function(){var d=b.children().children(":checkbox");d.prop("checked",!1);d.change();b.children().children(":checkbox").change()});b.append(c);a=$("<div/>",{id:"toggle-all-enable-items-"+a,text:p("ui.enable.all"),css:{cursor:"pointer",display:"inline-block",textShadow:"3px 3px 4px gray"}});a.on("click",function(){var d=b.children().children(":checkbox");d.prop("checked",!0);d.change();b.children().children(":checkbox").change()});b.append(a);return b},Ja=function(){var a=
Z("faith-addition"),b=h.auto.faith.addition,c;for(c in b){var d=P(c,b[c]);if("bestUnicornBuilding"==c){d.children("label").prop("title",p("option.faith.best.unicorn.desc"));var f=d.children("input");f.unbind("change");var e=b.bestUnicornBuilding;f.on("change",function(){if(f.is(":checked")&&!e.enabled){e.enabled=!0;for(var k in h.auto.unicorn.items){var l=$("#toggle-"+k);l.prop("checked",!0);l.trigger("change")}x("status.sub.enable",[p("option.faith.best.unicorn")])}else!f.is(":checked")&&e.enabled&&
(e.enabled=!1,x("status.sub.disable",[p("option.faith.best.unicorn")]));y.items[f.attr("id")]=e.enabled;A()})}if(void 0!==b[c].subTrigger){var g=$("<div/>",{id:"set-"+c+"-subTrigger",text:p("ui.trigger"),title:b[c].subTrigger,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b[c]);(function(k,l){if("adore"==k)l.on("click",function(){D.stop(!1);var m=window.prompt(p("adore.trigger.set"),b[k].subTrigger);h.auto.engine.enabled&&
D.start(!1);null!==m&&(b[k].subTrigger=parseFloat(m),y.items[l[0].id]=b[k].subTrigger,A(),l[0].title=b[k].subTrigger)});else if("autoPraise"==k)l.on("click",function(){D.stop(!1);var m=window.prompt(p("ui.trigger.set",[p("option.praise")]),b[k].subTrigger);h.auto.engine.enabled&&D.start(!1);null!==m&&(b[k].subTrigger=parseFloat(m),y.items[l[0].id]=b[k].subTrigger,A(),l[0].title=b[k].subTrigger)})})(c,g);d.append(g)}a.append(d)}return a};C=function(a){var b=F(p("ui."+a)),c=h.auto[a],d=$("<li/>",{id:"ks-"+
a}),f=$("<label/>",{"for":"toggle-"+a,text:b}),e=$("<input/>",{id:"toggle-"+a,type:"checkbox"});c.enabled&&e.prop("checked",!0);if("engine"!==a)e.on("change",function(){if(e.is(":checked")&&0==c.enabled){c.enabled=!0;"filter"===a||"options"===a?x("status.sub.enable",[b]):x("status.auto.enable",[b]);if("infinity"===a){var v=h.auto,u;for(u in v)v[u].enabled&&"infinity"!==u&&$("#toggle-"+u).click();$("#toggle-all-disable-items-infinity").click();$("#toggle-all-disable-items-options").click();$("#toggle-all-enable-items-filter").click();
$("#toggle-useWorkers").click();$("#toggle-options").click();$("#toggle-filter").click()}A()}else e.is(":checked")||1!=c.enabled||(c.enabled=!1,"filter"===a||"options"===a?x("status.sub.disable",[b]):x("status.auto.disable",[b]),A())});d.append(e,f);if(c.items){d.css("borderBottom","1px  solid rgba(185, 185, 185, 0.7)");var g=$("<div/>",{css:{display:"inline-block",float:"right"}}),k=$("<div/>",{id:"toggle-items-"+a,text:p("ui.items"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",
textShadow:"3px 3px 4px gray"}});d.append(k);var l=Z(a);if("faith"==a)for(var m in h.auto.unicorn.items)l.append(P(m,h.auto.unicorn.items[m]));for(m in c.items)switch(a){case "infinity":l.append(Ka(m,c.items[m]));break;case "trade":l.append(La(m,c.items[m]));break;case "craft":l.append(Ma(m,c.items[m]));break;case "timeCtrl":l.append(Na(m,c.items[m]));break;case "options":l.append(Oa(m,c.items[m]));break;case "upgrade":l.append(Pa(m,c.items[m]));break;case "distribute":l.append(Qa(m,c.items[m]));
break;case "build":case "faith":case "space":l.append(za(m,c.items[m]));break;case "time":l.append(za(m,c.items[m]));break;default:l.append(P(m,c.items[m]))}k.on("click",function(){l.toggle()})}if(void 0!==c.trigger){var n=$("<div/>",{id:"trigger-"+a,text:p("ui.trigger"),title:c.trigger,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});n.on("click",function(){D.stop(!1);var v="faith"===a?window.prompt(p("ui.trigger.set",[b+"("+$I("resources.faith.title")+
")"]),c.trigger):"trade"===a?window.prompt(p("ui.trigger.set",[b+" \u7684\u89e6\u53d1\u503c\n\u9700\u540c\u65f6\u6ee1\u8db3 \u79cd\u65cf\u89e6\u53d1\u8d44\u6e90 \u548c "+$I("resources.gold.title")+" \u7684"]),c.trigger):window.prompt(p("ui.trigger.set",[b]),c.trigger);h.auto.engine.enabled&&D.start(!1);null!==v&&(c.trigger=parseFloat(v),A(),n[0].title=c.trigger)});d.append(n)}if("craft"===a){var r=$("<div/>",{id:"toggle-resource-controls",text:p("ui.craft.resources"),css:{cursor:"pointer",display:"inline-block",
float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}),t=ya();k.on("click",function(){t.toggle(!1)});r.on("click",function(){l.toggle(!1);t.toggle()});d.append(r);d.append(t)}else if("faith"===a){f=$("<div/>",{id:"toggle-addition-controls",text:p("ui.faith.addtion"),title:"\u592a\u9633\u6559\u56e2\u7684\u81ea\u52a8\u5316\u9879\u76ee",css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"2px 2px 5px gray"}});var q=Ja();k.on("click",function(){q.toggle(!1)});
f.on("click",function(){l.toggle(!1);q.toggle()});d.append(f);for(r in h.auto.unicorn.items)l.children().children("#toggle-"+r).on("change",function(){if(!$(event.target).is(":checked")){var v=$("#toggle-bestUnicornBuilding");v.prop("checked",!1);v.trigger("change")}});d.append(q)}c.items&&d.append(g,l);return d};var Ka=function(a,b){var c=p("ui.infinity."+a);c=Ra(a,b,c);if(void 0!==b.subTrigger){var d=$("<div/>",{id:"set-"+a+"-subTrigger",text:p("ui.trigger"),title:b.subTrigger,css:{cursor:"pointer",
display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);d.on("click",function(){D.stop(!1);var f=window.prompt(p("ui.trigger."+a+".set"),b.subTrigger);h.auto.engine.enabled&&D.start(!1);null!==f&&(b.subTrigger=1==f.split("-").length?parseFloat(f):f,y.items[d.attr("id")]=b.subTrigger,A(),d[0].title=b.subTrigger)});c.append(d)}return c},Ra=function(a,b,c){var d=$("<li/>"),f=$("<label/>",{"for":"toggle-"+a,text:c,css:{display:"inline-block",minWidth:"80px"}}),
e=$("<input/>",{id:"toggle-"+a,type:"checkbox"}).data("option",b);b.enabled&&e.prop("checked",!0);e.on("change",function(){if(e.is(":checked")&&0==b.enabled){b.enabled=!0;var g=h.auto;switch(a){case "cryoFix":g.infinity.items.buildChronosphere.enabled&&$("#toggle-buildChronosphere").click();$("#toggle-all-disable-items-time").click();var k=game.time.getCFU("temporalBattery"),l=game.resPool.get("timeCrystal").value/1E20;l=Infinity==l?Number.MAX_VALUE:l;h.auto.time.items.temporalBattery.max=Math.floor(Math.log(l/
k.prices[0].val)/Math.log(k.priceRatio));y.items["set-temporalBattery-max"]=h.auto.time.items.temporalBattery.max;h.auto.time.items.chronocontrol.max=1;y.items["set-chronocontrol-max"]=h.auto.time.items.chronocontrol.max;$("#toggle-temporalBattery").click();$("#toggle-chronocontrol").click();g.time.enabled||$("#toggle-time").click();break;case "buildChronosphere":g.infinity.items.cryoFix.enabled&&$("#toggle-cryoFix").click(),g.time.enabled&&$("#toggle-time").click()}switch(a){case "autohunt":case "autoTransform":case "autoCT":case "skiptime":case "autoReset":break;
default:$("#toggle-all-disable-items-build").click(),h.auto.build.items.workshop.max=1,y.items["set-workshop-max"]=h.auto.build.items.workshop.max,h.auto.build.items.chronosphere.max=1,y.items["set-chronosphere-max"]=h.auto.build.items.chronosphere.max,$("#toggle-workshop").click(),$("#toggle-chronosphere").click(),g.build.enabled||$("#toggle-build").click(),$("#toggle-all-enable-items-upgrade").click(),$("#toggle-policies").click(),g.upgrade.enabled||$("#toggle-upgrade").click(),$("#toggle-all-disable-items-distribute").click(),
$("#toggle-farmer").click(),$("#toggle-leader").click(),$("#toggle-leaderTrait-manager").click(),g.distribute.enabled||$("#toggle-distribute").click()}x("status.sub.enable",[c])}else e.is(":checked")||1!=b.enabled||(b.enabled=!1,x("status.sub.disable",[c]));y.items[e.attr("id")]=b.enabled;A()});d.append(e,f);return d},La=function(a,b){var c=F(p("$trade.race."+a)),d=P(a,b,c);d.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");var f=$("<label/>",{"for":"toggle-limited-"+a,title:p("trade.limited",
[c]),text:p("ui.limit")}),e=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&e.prop("checked",!0);e.on("change",function(){if(e.is(":checked")&&0==b.limited)b.limited=!0,x("trade.limited",[c]);else if(!e.is(":checked")&&1==b.limited){b.limited=!1;let k=!1===b.require?"\u8d44\u6e90\u6ee1\u8db3\u9ec4\u91d1\u7684\u89e6\u53d1\u6761\u4ef6\u5c31\u4f1a":"\u9700\u540c\u65f6\u6ee1\u8db3\u8d44\u6e90\u9ec4\u91d1\u548c"+game.resPool.get(b.require).title+"\u7684\u89e6\u53d1\u6761\u4ef6\u624d";
x("trade.unlimited",[c,k])}y.items[e.attr("id")]=b.limited;A()});d.append(e,f);f=$("<div/>",{id:"toggle-seasons-"+a,text:p("trade.seasons"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});var g=$("<ul/>",{id:"seasons-list-"+a,css:{display:"none",paddingLeft:"20px"}});g.append(fa(a,"spring",b));g.append(fa(a,"summer",b));g.append(fa(a,"autumn",b));g.append(fa(a,"winter",b));f.on("click",function(){g.toggle()});d.append(f,g);return d},fa=
function(a,b,c){var d=F(p("$trade.race."+a)),f=F(p("$calendar.season."+b)),e=$("<li/>"),g=$("<label/>",{"for":"toggle-"+a+"-"+b,text:F(f)}),k=$("<input/>",{id:"toggle-"+a+"-"+b,type:"checkbox"}).data("option",c);c[b]&&k.prop("checked",!0);k.on("change",function(){k.is(":checked")&&0==c[b]?(c[b]=!0,x("trade.season.enable",[d,f])):k.is(":checked")||1!=c[b]||(c[b]=!1,x("trade.season.disable",[d,f]));y.items[k.attr("id")]=c[b];A()});e.append(k,g);return e},ha=function(a,b){var c=F(p("$calendar.season."+
a)),d=$("<li/>"),f=$("<label/>",{"for":"toggle-timeSkip-"+a,text:F(c)}),e=$("<input/>",{id:"toggle-timeSkip-"+a,type:"checkbox"}).data("option",b);b[a]&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&0==b[a]?(b[a]=!0,x("time.skip.season.enable",[c])):e.is(":checked")||1!=b[a]||(b[a]=!1,x("time.skip.season.disable",[c]));y.items[e.attr("id")]=b[a];A()});d.append(e,f);return d},P=function(a,b,c){var d=$("<li/>"),f=c||b.label||F(a);c=p("ui.trigger.resource")+": "+(game.resPool.get(b.require).title?
game.resPool.get(b.require).title:p("ui.none"));void 0===b.require&&(c=null);c=$("<label/>",{"for":"toggle-"+a,text:f,title:c,css:{display:"inline-block",minWidth:"80px"}});var e=$("<input/>",{id:"toggle-"+a,type:"checkbox"}).data("option",b);b.enabled&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&0==b.enabled?(b.enabled=!0,b.filter?x("filter.enable",[f]):b.misc?x("status.sub.enable",[f]):(x("status.auto.enable",[f]),"wood"===a&&x("msg.catnip"))):e.is(":checked")||1!=b.enabled||
(b.enabled=!1,b.filter?x("filter.disable",[f]):b.misc?x("status.sub.disable",[f]):x("status.auto.disable",[f]));y.items[e.attr("id")]=b.enabled;"saves"!==a&&A()});d.append(e,c);return d},Aa=function(a){a=[];for(var b in h.policies){var c=h.policies[b];"authocracy"==c&&(c="autocracy");a.push($("<div/>",{id:"policy-"+c,text:p("$policy."+c+".label"),css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}}))}return a},Pa=function(a,b){var c=p("ui.upgrade."+a),d=P(a,b,c);if("policies"==a){var f=$("<ul/>",
{id:"items-list-policies",css:{display:"none",paddingLeft:"20px"}}),e=$("<div/>",{id:"toggle-upgrade-policies-load",text:p("ui.upgrade.policies.load"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}),g=$("<div/>",{id:"toggle-upgrade-policies-show",text:p("ui.upgrade.policies.show"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});e.on("click",function(){var m=[],n;for(n in game.science.policies){var r=
game.science.policies[n];r.researched&&m.push(r.name)}h.policies=m;A();f.empty();f.append(Aa())});g.on("click",function(){f.toggle();f.empty();f.append(Aa())});d.append(g,e,f)}if(void 0!==b.subTrigger&&"missions"==a){var k=$("<div/>",{id:"set-"+a+"-subTrigger",text:p("ui.trigger"),title:b.subTrigger,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);k.on("click",function(){D.stop(!1);var m="missions"==a?window.prompt(p("ui.trigger.missions.set"),
b.subTrigger):window.prompt(p("ui.trigger.set"),b.subTrigger);h.auto.engine.enabled&&D.start(!1);null!==m&&(b.subTrigger=parseFloat(m),y.items[k.attr("id")]=b.subTrigger,A(),k[0].title=b.subTrigger)});d.append(k)}if("upgrades"==a){e=$("<label/>",{"for":"toggle-limited-"+a,text:p("ui.upgradesLimit")});var l=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&l.prop("checked",!0);l.on("change",function(){l.is(":checked")&&0==b.limited?(b.limited=!0,x("upgrade.limited",
[c])):l.is(":checked")||1!=b.limited||(b.limited=!1,x("upgrade.unlimited",[c]));y.items[l.attr("id")]=b.limited;A()});d.append(l,e)}return d},za=function(a,b,c){var d=$("<li/>"),f=c||b.label||F(a);c=game.resPool.get(b.require).title?game.resPool.get(b.require).title:p("ui.none");c=$("<label/>",{"for":"toggle-"+a,text:f,title:p("ui.trigger.resource")+": "+c,css:{display:"inline-block",minWidth:"80px"}});var e=$("<input/>",{id:"toggle-"+a,type:"checkbox"}).data("option",b);b.enabled&&e.prop("checked",
!0);e.on("change",function(){e.is(":checked")&&0==b.enabled?(b.enabled=!0,b.filter?x("filter.enable",[f]):b.misc?x("status.sub.enable",[f]):(x("status.auto.enable",[f]),"field"==a&&x("msg.catnip"))):e.is(":checked")||1!=b.enabled||(b.enabled=!1,b.filter?x("filter.disable",[f]):b.misc?x("status.sub.disable",[f]):x("status.auto.disable",[f]));y.items[e.attr("id")]=b.enabled;A()});var g=$("<div/>",{id:"set-"+a+"-max",text:p("ui.max",[b.max]),title:b.max,css:{cursor:"pointer",display:"inline-block",float:"right",
paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);g.on("click",function(){D.stop(!1);var k=window.prompt(p("ui.max.set",[b.label]),b.max);h.auto.engine.enabled&&D.start(!1);null!==k&&(b.max=parseInt(k),y.items[g.attr("id")]=b.max,A(),g[0].title=b.max,g[0].innerText=p("ui.max",[b.max]))});d.append(e,c,g);return d},Ma=function(a,b){var c=F(p("$resources."+a+".title"));"ship"==a&&(c=F(p("$workshop.crafts."+a+".label")));var d=P(a,b,c),f=$("<label/>",{"for":"toggle-limited-"+a,title:p("craft.limitedTitle"),
text:p("ui.limit")}),e=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&0==b.limited?"parchment"==a?(e.prop("checked",!1),x("craft.limited.parchment",[c]),b.limited=!1):(b.limited=!0,x("craft.limited",[c])):e.is(":checked")||1!=b.limited||(b.limited=!1,x("craft.unlimited",[c,b.require?game.resPool.resourceMap[b.require].title+"\u6ee1\u8db3\u89e6\u53d1\u8d44\u6e90\u7684\u89e6\u53d1\u6761\u4ef6\u624d\u4f1a\u5236\u4f5c\uff0c":
"\u65e0\uff0c\u5f53\u8d44\u6e90\u6ee1\u8db3\u5236\u4f5c\u6761\u4ef6\u5c31\u4f1a\u5236\u4f5c"]));y.items[e.attr("id")]=b.limited;A()});d.append(e,f);return d},Sa=function(a,b){var c=game.calendar.cycles[a],d=$("<li/>"),f=$("<label/>",{"for":"toggle-timeSkip-"+a,text:c.title}),e=$("<input/>",{id:"toggle-timeSkip-"+a,type:"checkbox"}).data("option",b);b[a]&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&0==b[a]?(b[a]=!0,x("time.skip.cycle.enable",[c.title])):e.is(":checked")||1!=b[a]||
(b[a]=!1,x("time.skip.cycle.disable",[c.title]));y.items[e.attr("id")]=b[a];A()});d.append(e,f);return d},ca=function(a,b,c){var d=$("<li/>"),f=c.label,e=$("<label/>",{"for":"toggle-reset-"+b+"-"+a,text:f,css:{display:"inline-block",minWidth:"80px"}}),g=$("<input/>",{id:"toggle-reset-"+b+"-"+a,type:"checkbox"}).data("option",c);c.checkForReset&&g.prop("checked",!0);g.on("change",function(){g.is(":checked")&&0==c.checkForReset?(c.checkForReset=!0,x("status.reset.check.enable",[f])):g.is(":checked")||
1!=c.checkForReset||(c.checkForReset=!1,x("status.reset.check.disable",[f]));y.items[g.attr("id")]=c.checkForReset;A()});var k=$("<div/>",{id:"set-reset-"+b+"-"+a+"-min",text:p("ui.min",[c.triggerForReset]),title:c.triggerForReset,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",c);k.on("click",function(){var l=window.prompt(p("reset.check.trigger.set",[c.label]),c.triggerForReset);null!==l&&(c.triggerForReset=parseInt(l),
y.items[k.attr("id")]=c.triggerForReset,A(),k[0].title=c.triggerForReset,k[0].innerText=p("ui.min",[c.triggerForReset]))});d.append(g,e,k);return d},Na=function(a,b){var c=P(a,b);if("timeSkip"==a){var d=$("<div/>",{id:"set-timeSkip-subTrigger",text:p("ui.trigger"),title:b.subTrigger,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);d.on("click",function(){D.stop(!1);var B=window.prompt(p("time.skip.trigger.set",[]),b.subTrigger);
h.auto.engine.enabled&&D.start(!1);null!==B&&(b.subTrigger=parseFloat(B),y.items[d.attr("id")]=b.subTrigger,A(),d[0].title=b.subTrigger)});var f=$("<div/>",{id:"set-timeSkip-maximum",text:p("ui.maximum"),title:b.max,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);f.on("click",function(){D.stop(!1);var B=window.prompt(p("ui.max.set",["\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\u6bcf\u6b21\u8df3\u8f6c"]),b.maximum);h.auto.engine.enabled&&
D.start(!1);null!==B&&(b.maximum=parseFloat(B),y.items[f.attr("id")]=b.maximum,A(),f[0].title=b.maximum)});var e=$("<div/>",{id:"toggle-cycle-"+a,text:p("ui.cycles"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}),g=$("<ul/>",{id:"cycles-list-"+a,css:{display:"none",paddingLeft:"20px"}});for(k in game.calendar.cycles)g.append(Sa(k,b));var k=$("<div/>",{id:"toggle-seasons-"+a,text:p("trade.seasons"),css:{cursor:"pointer",display:"inline-block",
float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});var l=$("<ul/>",{id:"seasons-list-"+a,css:{display:"none",paddingLeft:"20px"}});l.append(ha("spring",b));l.append(ha("summer",b));l.append(ha("autumn",b));l.append(ha("winter",b));e.on("click",function(){g.toggle();l.toggle(!1)});k.on("click",function(){g.toggle(!1);l.toggle()});c.append(e,k,f,d,g,l)}else if("reset"==a){var m=Z("reset-build"),n=Z("reset-space"),r=ya(!0),t=Z("reset-religion"),q=Z("reset-time");for(e in h.auto.build.items)m.append(ca(e,
"build",h.auto.build.items[e]));for(e in h.auto.space.items)n.append(ca(e,"space",h.auto.space.items[e]));for(e in h.auto.unicorn.items)t.append(ca(e,"unicorn",h.auto.unicorn.items[e]));for(e in h.auto.faith.items)t.append(ca(e,"faith",h.auto.faith.items[e]));for(e in h.auto.time.items)q.append(ca(e,"time",h.auto.time.items[e]));a=$("<div/>",{id:"toggle-reset-build",text:p("ui.build"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});e=
$("<div/>",{id:"toggle-reset-space",text:p("ui.space"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});k=$("<div/>",{id:"toggle-reset-resources",text:p("ui.craft.resources"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});var v=$("<div/>",{id:"toggle-reset-religion",text:p("ui.faith"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}),
u=$("<div/>",{id:"toggle-reset-time",text:p("ui.time"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});a.on("click",function(){m.toggle();n.toggle(!1);r.toggle(!1);t.toggle(!1);q.toggle(!1)});e.on("click",function(){m.toggle(!1);n.toggle();r.toggle(!1);t.toggle(!1);q.toggle(!1)});k.on("click",function(){m.toggle(!1);n.toggle(!1);r.toggle();t.toggle(!1);q.toggle(!1)});v.on("click",function(){m.toggle(!1);n.toggle(!1);r.toggle(!1);t.toggle();
q.toggle(!1)});u.on("click",function(){m.toggle(!1);n.toggle(!1);r.toggle(!1);t.toggle(!1);q.toggle()});c.append(a,e,k,v,u,m,n,r,t,q)}else d=$("<div/>",{id:"set-"+a+"-subTrigger",text:p("ui.trigger"),title:b.subTrigger,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b),d.on("click",function(){var B=window.prompt(p("ui.trigger.set",[b.label]),b.subTrigger);null!==B&&(b.subTrigger=parseFloat(B),y.items[d.attr("id")]=b.subTrigger,
A(),d[0].title=b.subTrigger)}),c.append(d);return c},Oa=function(a,b){var c=P(a,b);if("style"==a){var d=c.children("input");d.unbind("change");d.on("change",function(){b.enabled=d.prop("checked");y.items[d.attr("id")]=b.enabled;A();b.enabled?document.body.setAttribute("data-ks-style",""):document.body.removeAttribute("data-ks-style")})}"useWorkers"==a&&(d=c.children("input"),d.on("click",function(){var k=confirm(p("ui.trigger.useWorkers.alert"));1==k&&0==b.enabled?(D.stop(),b.enabled=!0,y.items[d.attr("id")]=
b.enabled,h.auto.engine.enabled&&D.start()):1==k&&1==b.enabled&&(D.stop(),b.enabled=!1,y.items[d.attr("id")]=b.enabled,h.auto.engine.enabled&&D.start())}));if("saves"==a){d=c.children("input");d.on("click",function(){D.stop(!1);if(window.confirm("\u70b9\u51fb\u786e\u8ba4\u4f1a\u5bfc\u51fa\u73c2\u5b66\u5bb6\u7684\u914d\u7f6e.txt\u6587\u4ef6")){var k=$("#download-link"),l=JSON.stringify(window.localStorage["cbc.kitten-scientists"]);l=game.compressLZData(l,!1);l=new Blob([l],{type:"text/plain"});k.attr("href",
window.URL.createObjectURL(l));l="\u5c0f\u732b\u73c2\u5b66\u5bb6\u914d\u7f6e"+game.stats.getStat("totalResets").val+"\u5468\u76ee";k.attr("download",l+".txt");k.get(0).dispatchEvent(new MouseEvent("click"))}h.auto.engine.enabled&&D.start(!1)});var f=$("<div/>",{id:"loadKS",text:"\u5bfc\u5165\u914d\u7f6e",css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);f.on("click",function(){D.stop(!1);var k=window.prompt("\u7a97\u53e3\u5185\u586b\u5165\u540e\u4f60\u9700\u8981\u5bfc\u5165\u7684\u73c2\u5b66\u5bb6\u914d\u7f6e\uff0c\u786e\u8ba4\u540e\u4f1a\u5bfc\u5165\u914d\u7f6e",
"");h.auto.engine.enabled&&D.start(!1);if(k&&10<=k.length){if("{"!==k.charAt(0))var l=JSON.parse(LZString.decompressFromBase64(k));window.localStorage["cbc.kitten-scientists"]=l;wa()}});var e=$("<div/>",{id:"ressetKS",text:"\u521d\u59cb\u914d\u7f6e",css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);e.on("click",function(){confirm("\u786e\u5b9a\u8981\u521d\u59cb\u5316\u73c2\u5b66\u5bb6\u914d\u7f6e\u5417\uff0c\u6ce8\u610f\u70b9\u51fb\u786e\u8ba4\u540e\u4f1a\u5237\u65b0\u9875\u9762")&&
(D.stop(!1),delete localStorage["cbc.kitten-scientists"],game.save(),window.location.reload())});c.append(f);c.append(e)}"donate"==a&&(d=c.children("input"),d.unbind("change"),d.on("change",function(){b.enabled=d.prop("checked");y.items[d.attr("id")]=b.enabled;A();document.getElementById("ks-donate").style.display=b.enabled?"block":"none"}));"wiki"==a&&(d=c.children("input"),d.on("click",function(){window.open().location="https://petercheney.gitee.io/baike/?file=004-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7/02-%E5%B0%8F%E7%8C%AB%E7%A7%91%E5%AD%A6%E5%AE%B6"}));
if(void 0!==b.subTrigger){var g=$("<div/>",{id:"set-"+a+"-subTrigger",text:p("ui.trigger"),title:b.subTrigger,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);g.on("click",function(){D.stop(!1);var k="crypto"==a?window.prompt(p("ui.trigger.crypto.set",[b.label]),b.subTrigger):"shipOverride"==a?window.prompt(p("ui.trigger.shipOverride.set",[b.label]),b.subTrigger):window.prompt(p("ui.trigger.set",[b.label]),b.subTrigger);
h.auto.engine.enabled&&D.start(!1);null!==k&&(b.subTrigger="crypto"!=a?parseFloat(k):k,y.items[g.attr("id")]=b.subTrigger,A(),g[0].title=b.subTrigger)});c.append(g)}return c},Qa=function(a,b){if("leader"==a)return Ta(a,b);var c=F(p("$village.job."+a)),d=P(a,b,c);d.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");var f=$("<label/>",{"for":"toggle-limited-"+a,text:p("ui.limit")}),e=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&e.prop("checked",!0);e.on("change",
function(){e.is(":checked")&&0==b.limited?(b.limited=!0,x("distribute.limited",[c])):e.is(":checked")||1!=b.limited||(b.limited=!1,x("distribute.unlimited",[c]));y.items[e.attr("id")]=b.limited;A()});d.append(e,f);var g=$("<div/>",{id:"set-"+a+"-max",text:p("ui.max",[b.max]),title:b.max,css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);(function(k){g.on("click",function(){D.stop(!1);var l=window.prompt(p("ui.max.set",[k]),
b.max);h.auto.engine.enabled&&D.start(!1);null!==l&&(b.max=parseInt(l),y.items[g.attr("id")]=b.max,A(),g[0].title=b.max,g[0].innerText=p("ui.max",[b.max]))})})(c);d.append(g);return d},Ta=function(a,b){var c=F(p("distribute.makeLeader"));c=P(a,b,c);c.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");var d=$("<ul/>",{id:"items-list-traits",css:{display:"none",paddingLeft:"20px"}}),f=$("<div/>",{id:"toggle-leaderTrait"+a,text:p("$village.trait.filter.all"),css:{cursor:"pointer",display:"inline-block",
float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}),e;for(e in com.nuclearunicorn.game.village.Kitten().traits)d.append(Ua(e,b));f.on("click",function(){g.toggle(!1);d.toggle()});var g=$("<ul/>",{id:"items-list-jobs",css:{display:"none",paddingLeft:"20px"}});a=$("<div/>",{id:"toggle-leaderJob"+a,text:p("$village.panel.job"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});for(e in game.village.jobs)g.append(Va(e,b));a.on("click",
function(){d.toggle(!1);g.toggle()});c.append(f,a,d,g);return c},Va=function(a,b){var c=game.village.jobs[a];a=$("<li/>");var d=$("<label/>",{"for":"toggle-leaderJob-"+c.name,text:c.title,css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}}),f=$("<input/>",{id:"toggle-leaderJob-"+c.name,name:"leaderJob",value:c.name,type:"radio"}).data("option",b);f.prop("value")==b.leaderJob&&f.prop("checked",!0);a.on("mouseup",function(){var e=$("input[name='leaderJob']:checked").val();delete y.items["toggle-leaderJob-"+
e]});f.on("change",function(){x("distribute.leaderJob",[c.title]);b.leaderJob=$("input[name='leaderJob']:checked").val();y.items["toggle-leaderJob-"+b.leaderJob]=!0;A()});a.append(f,d);return a},Ua=function(a,b){var c=com.nuclearunicorn.game.village.Kitten().traits[a];a=$("<li/>");var d=$("<label/>",{"for":"toggle-leaderTrait-"+c.name,text:c.title,css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}}),f=$("<input/>",{id:"toggle-leaderTrait-"+c.name,name:"leaderTrait",value:c.name,type:"radio"}).data("option",
b);f.prop("value")==b.leaderTrait&&f.prop("checked",!0);a.on("mouseup",function(){var e=$("input[name='leaderTrait']:checked").val();delete y.items["toggle-leaderTrait-"+e]});f.on("change",function(){x("distribute.leaderTrait",[c.title]);b.leaderTrait=$(this).val();y.items["toggle-leaderTrait-"+b.leaderTrait]=!0;A()});a.append(f,d);return a},oa=new la;for(I in h.auto.faith.items){var T=h.auto.faith.items[I],N=oa.getBuild(T.name||I,T.variant);N&&(h.auto.faith.items[I].label=N.label)}var Wa=new ma;
for(I in h.auto.time.items)if(T=h.auto.time.items[I],N=Wa.getBuild(T.name||I,T.variant))h.auto.time.items[I].label=N.label;var ua=new ja;for(I in h.auto.build.items)if(T=h.auto.build.items[I],N=ua.getBuild(T.name||I))h.auto.build.items[I].label="stage"in T?N.meta.stages[T.stage].label:N.meta.label;var I=new ka;for(var da in h.auto.space.items)if(N=I.getBuild(da))h.auto.space.items[da].label=N.title?N.title:N.label;da=$("<div/>",{id:"ks-options",css:{marginBottom:"10px"}});var M=$("<ul/>");I=$("<div/>",
{css:{bottomBorder:"1px solid gray",marginBottom:"5px"},text:kg_version});da.append(I);M.append(C("engine"));h.auto.infinity.allow&&M.append(C("infinity"));M.append(C("build"));M.append(C("space"));M.append(C("craft"));M.append(C("upgrade"));M.append(C("trade"));M.append(C("faith"));M.append(C("time"));M.append(C("timeCtrl"));M.append(C("distribute"));M.append(C("options"));M.append(C("filter"));var E={},Ba=function(){E={lastyear:game.calendar.year,lastday:game.calendar.day,craft:{},trade:{},build:{},
other:{}}},z=function(a,b,c){void 0===b&&(b=1);void 0===c&&(c="other");void 0===E[c]&&(E[c]={});E[c][a]=void 0===E[c][a]?parseFloat(b):E[c][a]+parseFloat(b)};Ba();C=$("<div/>",{id:"activity-box",css:{display:"inline-block",verticalAlign:"top"}});I=$("<a/>",{id:"showActivityHref",text:p("summary.show"),href:"#",css:{verticalAlign:"top"}});I.on("click",function(){900<game.console.messages.length&&game.clearLog();for(var a in E.other)if(E.other[a]){var b=[game.getDisplayValueExt(E.other[a])];Q(p("summary."+
a,b),void 0)}for(var c in E.research)a=(a=E.research[c])?"\u79d1\u5b66\u5bb6":"",a=[a+"\u5c0f\u732b\u7814\u7a76\u4e86 "+F(c)],Q(p("summary.tech",a),void 0);for(c in E.upgrade)a=(a=E.upgrade[c])?"\u79d1\u5b66\u5bb6":"",a=[a+"\u5c0f\u732b\u53d1\u660e\u4e86 "+F(c)],Q(p("summary.upgrade",a),void 0);for(c in E.build)a=[game.getDisplayValueExt(E.build[c]),F(c)],Q(p("summary.building",a),void 0);for(c in E.faith)a=[game.getDisplayValueExt(E.faith[c]),F(c)],Q(p("summary.sun",a),void 0);for(c in E.craft)a=
[game.getDisplayValueExt(E.craft[c]),F(c)],Q(p("summary.craft",a),void 0);for(c in E.craftLeader)a=[game.getDisplayValueExt(E.craftLeader[c]),F(c)],Q(p("summary.craftLeader",a),void 0);for(c in E.trade)a=[game.getDisplayValueExt(E.trade[c]),F(c)],Q(p("summary.trade",a),void 0);E.lastyear&&E.lastday&&(c=game.calendar.year-E.lastyear,a=game.calendar.day-E.lastday,0>a&&(--c,a+=400),b="",0<c&&(b=b+(c+" ")+(1==c?p("summary.year"):p("summary.years"))),0<=a&&(0<c&&(b+=p("summary.separator")),b+=+(Math.round(a+
"e+2")+"e-2")+" ",b+=1==a?p("summary.day"):p("summary.days")),Q(p("summary.head",[b]),void 0));Ba()});C.append(I);$("#clearLog").append(C);var ia=$("<div/>",{id:"important-msg-box",class:"dialog help",css:{display:"none",width:"auto",height:"auto"}});C=$("<a/>",{text:p("ui.close"),href:"#",css:{position:"absolute",top:"10px",right:"15px"}});C.on("click",function(){ia.toggle()});var Ca=$("<h1/>",{id:"mb-title",text:"test text"}),Da=$("<h1/>",{id:"mb-content",text:"test text"});ia.append(C,Ca,Da);$("#gamePageContainer").append(ia);
C=(a,b)=>{Ca.html(a);Da.html(b);ia.toggle()};(function(){var a=$("<li/>",{id:"ks-donate"}).append($("<a/>",{href:"bitcoin:"+address+"?amount=0.00048&label=Kittens Donation",target:"_blank",text:address})).prepend($("<img/>",{css:{height:"15px",width:"15px",padding:"3px 4px 0 4px",verticalAlign:"bottom"},src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICB3aWR0aD0iNTEycHgiCiAgIGhlaWdodD0iNTEycHgiCiAgIHZpZXdCb3g9IjAgMCAxIDEiCiAgIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIgogICBpZD0ic3ZnMiIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMC40OC4yIHI5ODE5IgogICBzb2RpcG9kaTpkb2NuYW1lPSJiaXRjb2luLWxvZ28tbm9zaGFkb3cuc3ZnIj4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGEyMiI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxNDQ3IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg2MSIKICAgICBpZD0ibmFtZWR2aWV3MjAiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjAuOTIxODc1IgogICAgIGlua3NjYXBlOmN4PSIyMTIuNTE0MzciCiAgICAgaW5rc2NhcGU6Y3k9IjIzMy4yNDYxNyIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIwIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9InN2ZzIiIC8+CiAgPCEtLSBBbmRyb2lkIGxhdW5jaGVyIGljb25zOiB2aWV3Qm94PSItMC4wNDUgLTAuMDQ1IDEuMDkgMS4wOSIgLS0+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGZpbHRlcgogICAgICAgaWQ9Il9kcm9wLXNoYWRvdyIKICAgICAgIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CiAgICAgIDxmZUdhdXNzaWFuQmx1cgogICAgICAgICBpbj0iU291cmNlQWxwaGEiCiAgICAgICAgIHJlc3VsdD0iYmx1ci1vdXQiCiAgICAgICAgIHN0ZERldmlhdGlvbj0iMSIKICAgICAgICAgaWQ9ImZlR2F1c3NpYW5CbHVyNyIgLz4KICAgICAgPGZlQmxlbmQKICAgICAgICAgaW49IlNvdXJjZUdyYXBoaWMiCiAgICAgICAgIGluMj0iYmx1ci1vdXQiCiAgICAgICAgIG1vZGU9Im5vcm1hbCIKICAgICAgICAgaWQ9ImZlQmxlbmQ5IiAvPgogICAgPC9maWx0ZXI+CiAgICA8bGluZWFyR3JhZGllbnQKICAgICAgIGlkPSJjb2luLWdyYWRpZW50IgogICAgICAgeDE9IjAlIgogICAgICAgeTE9IjAlIgogICAgICAgeDI9IjAlIgogICAgICAgeTI9IjEwMCUiPgogICAgICA8c3RvcAogICAgICAgICBvZmZzZXQ9IjAlIgogICAgICAgICBzdHlsZT0ic3RvcC1jb2xvcjojZjlhYTRiIgogICAgICAgICBpZD0ic3RvcDEyIiAvPgogICAgICA8c3RvcAogICAgICAgICBvZmZzZXQ9IjEwMCUiCiAgICAgICAgIHN0eWxlPSJzdG9wLWNvbG9yOiNmNzkzMWEiCiAgICAgICAgIGlkPSJzdG9wMTQiIC8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8ZwogICAgIHRyYW5zZm9ybT0ic2NhbGUoMC4wMTU2MjUpIgogICAgIGlkPSJnMTYiPgogICAgPHBhdGgKICAgICAgIGlkPSJjb2luIgogICAgICAgZD0ibSA2My4wMzU5LDM5Ljc0MSBjIC00LjI3NCwxNy4xNDMgLTIxLjYzNywyNy41NzYgLTM4Ljc4MiwyMy4zMDEgLTE3LjEzOCwtNC4yNzQgLTI3LjU3MSwtMjEuNjM4IC0yMy4yOTUsLTM4Ljc4IDQuMjcyLC0xNy4xNDUgMjEuNjM1LC0yNy41NzkgMzguNzc1LC0yMy4zMDUgMTcuMTQ0LDQuMjc0IDI3LjU3NiwyMS42NCAyMy4zMDIsMzguNzg0IHoiCiAgICAgICBzdHlsZT0iZmlsbDp1cmwoI2NvaW4tZ3JhZGllbnQpIiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJzeW1ib2wiCiAgICAgICBkPSJtIDQ2LjEwMDksMjcuNDQxIGMgMC42MzcsLTQuMjU4IC0yLjYwNSwtNi41NDcgLTcuMDM4LC04LjA3NCBsIDEuNDM4LC01Ljc2OCAtMy41MTEsLTAuODc1IC0xLjQsNS42MTYgYyAtMC45MjMsLTAuMjMgLTEuODcxLC0wLjQ0NyAtMi44MTMsLTAuNjYyIGwgMS40MSwtNS42NTMgLTMuNTA5LC0wLjg3NSAtMS40MzksNS43NjYgYyAtMC43NjQsLTAuMTc0IC0xLjUxNCwtMC4zNDYgLTIuMjQyLC0wLjUyNyBsIDAuMDA0LC0wLjAxOCAtNC44NDIsLTEuMjA5IC0wLjkzNCwzLjc1IGMgMCwwIDIuNjA1LDAuNTk3IDIuNTUsMC42MzQgMS40MjIsMC4zNTUgMS42NzksMS4yOTYgMS42MzYsMi4wNDIgbCAtMS42MzgsNi41NzEgYyAwLjA5OCwwLjAyNSAwLjIyNSwwLjA2MSAwLjM2NSwwLjExNyAtMC4xMTcsLTAuMDI5IC0wLjI0MiwtMC4wNjEgLTAuMzcxLC0wLjA5MiBsIC0yLjI5Niw5LjIwNSBjIC0wLjE3NCwwLjQzMiAtMC42MTUsMS4wOCAtMS42MDksMC44MzQgMC4wMzUsMC4wNTEgLTIuNTUyLC0wLjYzNyAtMi41NTIsLTAuNjM3IGwgLTEuNzQzLDQuMDE5IDQuNTY5LDEuMTM5IGMgMC44NSwwLjIxMyAxLjY4MywwLjQzNiAyLjUwMywwLjY0NiBsIC0xLjQ1Myw1LjgzNCAzLjUwNywwLjg3NSAxLjQzOSwtNS43NzIgYyAwLjk1OCwwLjI2IDEuODg4LDAuNSAyLjc5OCwwLjcyNiBsIC0xLjQzNCw1Ljc0NSAzLjUxMSwwLjg3NSAxLjQ1MywtNS44MjMgYyA1Ljk4NywxLjEzMyAxMC40ODksMC42NzYgMTIuMzg0LC00LjczOSAxLjUyNywtNC4zNiAtMC4wNzYsLTYuODc1IC0zLjIyNiwtOC41MTUgMi4yOTQsLTAuNTI5IDQuMDIyLC0yLjAzOCA0LjQ4MywtNS4xNTUgeiBtIC04LjAyMiwxMS4yNDkgYyAtMS4wODUsNC4zNiAtOC40MjYsMi4wMDMgLTEwLjgwNiwxLjQxMiBsIDEuOTI4LC03LjcyOSBjIDIuMzgsMC41OTQgMTAuMDEyLDEuNzcgOC44NzgsNi4zMTcgeiBtIDEuMDg2LC0xMS4zMTIgYyAtMC45OSwzLjk2NiAtNy4xLDEuOTUxIC05LjA4MiwxLjQ1NyBsIDEuNzQ4LC03LjAxIGMgMS45ODIsMC40OTQgOC4zNjUsMS40MTYgNy4zMzQsNS41NTMgeiIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmYiIC8+CiAgPC9nPgo8L3N2Zz4="}));
a.css("padding","5px");M.append(a)})();Fa.prepend(da.append(M));var D=new ta,aa=$("#toggle-engine");aa.on("change",function(){aa.is(":checked")?(h.auto.engine.enabled=!0,D.start()):(h.auto.engine.enabled=!1,D.stop())});wa();$("#toggle-style").trigger("change");$("#toggle-donate").trigger("change");console&&console.log&&console.log(kg_version+" loaded");game._publish("kitten_scientists/ready",kg_version);y.reset&&y.reset.reset?(y.reset.karmaTotal+=game.resPool.get("karma").value-Number(y.reset.karmaLastTime),
y.reset.pargonTotal+=game.resPool.get("paragon").value-Number(y.reset.paragonLastTime),y.reset.reset=!1,C(p("summary.time.reset.title",[y.reset.times]),p("summary.time.reset.content",[y.reset.karmaTotal,y.reset.pargonTotal])),aa.prop("checked",!0),aa.trigger("change"),x("reset.after")):y.reset={reset:!1,times:0,paragonLastTime:0,pargonTotal:0,karmaLastTime:0,karmaTotal:0};A();h.auto.infinity.enabled&&h.auto.infinity.allow&&(h.auto.engine.enabled||aa.click());var Ea=setInterval(function(){if(!h.auto.engine.enabled&&
h.auto.options.items.autoScientists.enabled){let a=h.countdown;0==a?(aa.click(),clearInterval(Ea),x("reset.after")):10<a?(0==a%60&&x("auto.tip"),0==a%10&&w("auto.countdown",[a]),--h.countdown):10>=a&&(x("reset.countdown."+a),--h.countdown)}else clearInterval(Ea)},1E3)},loadTest=function(){"undefined"===typeof gamePage||"undefined"===typeof i18nLang?setTimeout(function(){loadTest()},2E3):(game.workshop.metaCache.geodesy=game.workshop.get("geodesy"),game.workshop.metaCache.orbitalGeodesy=game.workshop.get("orbitalGeodesy"),
game.workshop.metaCache.spaceManufacturing=game.workshop.get("spaceManufacturing"),run(),loadTest=run=null)};loadTest();
