window.run=function(){const va={zh:{"option.observe":"\u89c2\u6d4b\u5929\u6587\u73b0\u8c61","option.festival":"\u4e3e\u529e\u8282\u65e5","option.praise":"\u8d5e\u7f8e\u592a\u9633","option.autofeed":"\u732e\u796d\u6b7b\u7075\u517d","option.hunt":"\u6d3e\u51fa\u730e\u4eba","option.crypto":"\u9ed1\u5e01\u4ea4\u6613","option.embassies":"\u5efa\u9020\u5927\u4f7f\u9986","option.style":"\u5360\u6ee1\u5c4f\u5e55","option.useWorkers":"\u542f\u7528\u540e\u53f0\u6ee1\u901f\u73c2\u5b66\u5bb6","filter.build":"\u5efa\u7b51",
"filter.craft":"\u5de5\u827a\u5236\u4f5c","filter.space":"\u592a\u7a7a\u76f8\u5173","filter.upgrade":"\u5de5\u574a\u5347\u7ea7","filter.research":"\u79d1\u5b66\u7814\u7a76","filter.policy":"\u653f\u7b56","filter.upgBld":"\u8425\u706b\u5efa\u7b51\u5347\u7ea7","filter.trade":"\u8d38\u6613","filter.embassy":"\u5927\u4f7f\u9986","filter.hunt":"\u72e9\u730e","filter.praise":"\u8d5e\u7f8e\u592a\u9633","filter.adore":"\u8d5e\u7f8e\u7fa4\u661f","filter.transcend":"\u6b21\u5143\u8d85\u8d8a","filter.sacrifice":"\u732e\u796d",
"filter.faithBld":"\u592a\u9633\u6559\u56e2","filter.accelerate":"\u5149\u9634\u4f3c\u7bad","filter.time.skip":"\u65f6\u95f4\u8df3\u8f6c","filter.festival":"\u4e3e\u529e\u8282\u65e5","filter.star":"\u5929\u6587\u73b0\u8c61","filter.distribute":"\u732b\u732b\u5206\u914d","filter.leader":"\u9886\u8896\u76f8\u5173","filter.misc":"\u55b5\u55b5\u55b5","dispose.necrocorn":"\u5c0f\u732b\u5e2e\u4f60\u5904\u7406\u6389\u4e86\u5f71\u54cd\u6548\u7387\u7684\u591a\u4f59\u6b7b\u7075\u517d","act.feed":"\u5c0f\u732b\u5411\u5229\u7ef4\u5766\u732e\u4e0a\u796d\u54c1\u3002\u53e4\u795e\u5f88\u9ad8\u5174",
"blackcoin.buy":"\u5c0f\u732b\u82b1\u6389 {1} \u9057\u7269\uff0c\u52a0\u4ed3\u4e86 {0} \u9ed1\u5e01","blackcoin.sell":"\u5c0f\u732b\u629b\u552e {1} \u9ed1\u5e01\uff0c\u5957\u73b0\u4e86 {0} \u9057\u7269","act.observe":"\u5c0f\u732b\u89c2\u6d4b\u4e86\u5929\u6587\u73b0\u8c61{0}","act.hunt":"{0} \u6ce2{1}\u53bb\u6253\u730e","act.hunt.unicorn":"\u5c0f\u732b\u6025\u7740\u6d3e\u51fa\u730e\u4eba\u5e2e\u72ec\u89d2\u517d\u914d\u79cd\uff0c\u545c\u547c\u5341\u8fde\u722a\u0e05 \u0e05","act.hunt.trade":"\u5c0f\u732b\u8d38\u6613\u540e\u51b3\u5b9a\u53bb\u6253\u730e",
"act.hunt.mint":"\u6bdb\u76ae\u6216\u7f8a\u76ae\u7eb8\u5904\u4e8e\u4f4e\u50a8\u91cf","act.build":"\u5c0f\u732b\u5efa\u9020\u4e86\u4e00\u4e2a {0}","act.builds":"\u5c0f\u732b\u5efa\u9020\u4e86 {1} \u4e2a\u65b0\u7684 {0}","act.craft":" {0} {1}","act.trade":" {1} \u4ea4\u6613 {0} \u6b21","upgrade.space.mission":"\u5c0f\u732b\u6267\u884c\u4e86 {0} \u7684\u4efb\u52a1","upgrade.space":"\u5c0f\u732b\u6267\u884c\u4e86 {0}","upgrade.race":"\u5c0f\u732b\u63a2\u9669\u9047\u5230\u4e86\u65b0\u7684\u6587\u660e\uff1a{0}",
"upgrade.upgrade":"{1}\u53d1\u660e\u4e86 {0}","upgrade.limited":"\u4f18\u5316 {0}","upgrade.unlimited":"\u5168\u90e8 {0}","upgrade.tech":"{1}\u7814\u7a76\u4e86 {0}","upgrade.policy":"\u5c0f\u732b\u901a\u8fc7\u4e86 {0} \u6cd5\u6848","festival.hold":"\u545c\u547c\uff0c\u5c0f\u732b\u7684\u8282\u65e5\u5f00\u59cb\u4e86","festival.extend":"\u5c0f\u732b\u52a0\u4e86\u4e00\u5e74\u949f","build.embassy":"\u5728 {1} \u8bbe\u7acb\u4e86 {0} \u4e2a\u5927\u4f7f\u9986","build.embassies":"\u5728 {1} \u8bbe\u7acb\u4e86 {0} \u4e2a\u5927\u4f7f\u9986",
"act.praise":"\u8d5e\u7f8e\u592a\u9633! \u6d88\u8017\u4e86 {0} \u4fe1\u4ef0\u8f6c\u5316\u6210 {1} \u7684\u8654\u8bda","praise.trigger.set":"\u8f93\u5165\u65b0\u7684\u8d5e\u7f8e\u592a\u9633\u7684\u89e6\u53d1\u503c\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1\u7684\u7eaf\u5c0f\u6570\n \u5f53\u4e3a0.98\u65f6\u4e14\u70b9\u51fa\u592a\u9633\u9769\u547d\uff0c\u82e5\u8654\u8bda\u592a\u5c11\u5c0f\u732b\u6bcf\u5929\u8d5e\u7f8e\u592a\u9633","summary.praise.msg":"\u8654\u8bda\u7684\u5c0f\u732b\u6bcf\u5929\u90fd\u4f1a\u8d5e\u7f8e\u592a\u9633\uff0c\u76f4\u5230\u592a\u9633\u9769\u547d\u52a0\u6210\u5927\u4e8e {0} % (\u8bf4\u4f60\u4e86\u8654\u8bda\u592a\u4f4e\u4e86!)",
"act.sun.discover":"\u5c0f\u732b\u5728\u5b97\u6559\u7977\u544a\u4e86 {0} ","act.sun.discovers":"\u5c0f\u732b\u5728\u5b97\u6559\u7977\u544a\u4e86 {0} {1} \u6b21","act.sun.discovers.leader":"\u54f2\u5b66\u5bb6\u5c0f\u732b\u5728\u5b97\u6559\u7977\u544a\u4e86 {0} {1} \u6b21","ui.infinity":"\u65e0\u9650\u6d41","ui.infinity.buildChronosphere":"\u4fee\u5efa\u4f20\u9001\u4eea","ui.infinity.cryoFix":"\u51b7\u51bb\u4ed3\u4fee\u590d","ui.infinity.autoReset":"\u81ea\u52a8\u91cd\u7f6e","ui.infinity.autohunt":"\u65e0\u9650\u6253\u730e",
"ui.infinity.autoTransform":"\u65e0\u9650\u9057\u7269","ui.infinity.autoCT":"\u65e0\u9650\u5965\u79d8","ui.infinity.skiptime":"\u71c3\u70e7\u65f6\u95f4\u6c34\u6676","ui.infinity.chronosphere":"\u4f20\u9001\u4eea\uff1a{0} \u4e0d\u8db3\u4ee5\u518d\u4fee\u5efa {1} \u4e2a\u4f20\u9001\u4eea","ui.trigger.buildChronosphere.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u4fee\u5efa\u4f20\u9001\u4eea \u89e6\u53d1\u503c\uff0c\u5927\u4e8e\u7b49\u4e8e 0 \u7684\u6574\u6570\u3002\n\u9ed8\u8ba4\u503c 67 \uff0c\u81ea\u52a8\u91cd\u7f6e\u4f1a\u5f3a\u5236\u68c0\u67e5\u6570\u91cf\u3002\n\u76ee\u524d\u65e0\u81ea\u52a8\u8c03\u6574\uff0c\u65e0\u9650\u6d41\u524d\u671f\u4f7f\u7528\u9700\u6ce8\u610f\u8c03\u6574\u3002\n\u53ef\u4ee5\u7a33\u5b9a\u5efa\u9020 666 \u4ee5\u4e0a\u4f20\u9001\u4eea\u65f6\u5efa\u8bae\u914d\u5408\u51b7\u51bb\u4ed3\uff0c\n\u4f7f\u7528 \u51b7\u51bb\u4ed3\u4fee\u590d \u529f\u80fd\uff0c\u53ef\u540c\u6b65\u83b7\u5f97\u5927\u91cf\u4e1a\u529b\u3002",
"ui.trigger.cryoFix.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u51b7\u51bb\u4ed3\u4fee\u590d \u89e6\u53d1\u503c\uff0c\u5927\u4e8e\u7b49\u4e8e 0 \u7684\u6574\u6570\u3002\n\u5efa\u8bae\u5c0f\u4e8e\u7b49\u4e8e\u5df2\u62e5\u6709\u7684\u51b7\u51bb\u4ed3\u6570\u91cf\uff0c\n\u4ec5\u5728\u6d88\u8017\u4e1a\u529b \uff1c1 \u4e14\u672a\u5f00\u542f \u795e\u5723\u706d\u7edd \u65f6\u4f1a\u81ea\u52a8\u5efa\u9020\u65b0\u7684\u51b7\u51bb\u4ed3\u3002","ui.trigger.autohunt.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u65e0\u9650\u6253\u730e \u89e6\u53d1\u503c\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u7eaf\u5c0f\u6570\u3002\n\u8bbe\u7f6e\u4e3a 0 \u65f6\u6253\u730e\u6b21\u6570\u4e3a\u4e0d\u6d88\u8017\u55b5\u529b\u7684\u6700\u5927\u6570\u91cf\u3002\n\u4ec5\u5728\u6bdb\u76ae\u3001\u8c61\u7259\u3001\u72ec\u89d2\u517d\u4e2d\u6709 0 \u65f6\u89e6\u53d1\u3002",
"ui.trigger.autoTransform.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u65e0\u9650\u9057\u7269 \u89e6\u53d1\u503c\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u7eaf\u5c0f\u6570\u3002\n\u8bbe\u7f6e\u4e3a 0 \u65f6\u7cbe\u70bc\u6b21\u6570\u4e3a\u4e0d\u6d88\u8017 \u65f6\u95f4\u6c34\u6676 \u7684\u6700\u5927\u6570\u91cf\u3002\n\u9057\u7269\u5c0f\u4e8e \u221e \u65f6\u89e6\u53d1\u3002","ui.trigger.skiptime.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u71c3\u70e7\u65f6\u95f4\u6c34\u6676 \u89e6\u53d1\u503c\uff0c \u5728 [0,2^62] \u5185\u7684\u6574\u6570\u3002\n\u5176\u503c\u4e3a\u9700\u8981\u5230\u8fbe\u7684\u6e38\u620f\u65e5\u5386\u5e74\uff0c\u9ed8\u8ba4\u4e3a 40K\u3002\n\u6e38\u620f\u89c4\u5219\u5185 \u80fd\u5230\u8fbe\u7684\u6700\u5927\u65e5\u5386\u5e74\u4e3a\n2^62 = \u7b2c4,611,686,018,427,388,000\u5e74\uff0c\n\u6700\u5927\u771f\u5b9e\u5e74\u4e3a 2^53 = \u7b2c9,007,199,254,740,992\u5e74\n\u672c\u529f\u80fd\u9700\u8981 \u65f6\u95f4\u6c34\u6676 \u8d85\u8fc7 1e100 \u624d\u5141\u8bb8\u4f7f\u7528",
"ui.trigger.autoCT.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u65e0\u9650\u5965\u79d8 \u89e6\u53d1\u503c\uff0c\n\u652f\u63013\u4e2a\u53c2\u6570\uff1a-\u7b26\u53f7\u9694\u5f00\u6570\u5b57\u53c2\u6570\u3002\n\u7b2c\u4e00\u4e2a\u6570\u5b57\uff1a0-9\uff0c\u5206\u522b\u5bf9\u5e94 10 \u4e2a\u5965\u79d8\u795e\u5b66\n\u7b2c\u4e8c\u4e2a\u6570\u5b57\uff1a\u6bcf\u8f6e\u5347\u7ea7\u6b21\u6570\uff08\u6700\u5927\u4e3a 1000 \uff09\n\u7b2c\u4e09\u4e2a\u6570\u5b57\uff1a\u9700\u8981\u8fbe\u5230\u7684\u7b49\u7ea7\uff08\u6700\u5927 2^53\uff09\n\u9ed8\u8ba4\u4e3a\u7a7a\uff0c\u5fc5\u987b\u81ea\u884c\u8bbe\u7f6e\n\u53ea\u6709\u62e5\u6709 \u221e \u7684\u65f6\u95f4\u6c34\u6676\u624d\u80fd\u4f7f\u7528\n\u4f1a\u81ea\u52a8\u6e05\u9664\u7cbe\u70bc\u65f6\u95f4\u6c34\u6676\u4ea7\u751f\u7684\u5927\u91cf\u65e5\u5fd7",
"ui.items":"\u9879\u76ee","ui.disable.all":"\u5168\u90e8\u7981\u7528","ui.enable.all":"\u5168\u90e8\u542f\u7528","ui.craft.resources":"\u8d44\u6e90","ui.trigger":"\u89e6\u53d1\u6761\u4ef6","ui.trigger.set":"\u8f93\u5165\u65b0\u7684 {0} \u89e6\u53d1\u6761\u4ef6\uff0c\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u5c0f\u6570\u3002\n\n \u89e6\u53d1\u6761\u4ef6\uff1a\u5f53\u524d\u89e6\u53d1\u8d44\u6e90\u6570\u91cf / \u89e6\u53d1\u8d44\u6e90\u7684\u4e0a\u9650\u6570\u91cf\n\u9f20\u6807\u79fb\u52a8\u5230\u8be5\u9879\u76ee\u540d\u5b57\u4e0a\u80fd\u770b\u5230\u89e6\u53d1\u8d44\u6e90",
"ui.trigger.resource":"\u89e6\u53d1\u8d44\u6e90\u4e3a","ui.none":"\u65e0","ui.limit":"\u9650\u5236","ui.craftLimit":"AI\u5e73\u8861","ui.upgradesLimit":"\u4f18\u9009","ui.trigger.filterGame.set":"\u8bbe\u7f6e\u6e38\u620f\u65e5\u5fd7\u6570\u91cf\u4e0a\u9650","ui.trigger.missions.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 \u63a2\u7d22\u661f\u7403 \u89e6\u53d1\u503c,\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 13 \u7684\u6574\u6570\u3002\n\u5206\u522b\u5bf9\u5e9413\u9897\u661f\u7403\u3002\n\n\u9ed8\u8ba4\u4f18\u5148\u78a7\u6c60\u63a2\u7d22\uff0c\u4f1a\u6682\u65f6\u8df3\u8fc7\u6c99\u4e18",
"ui.trigger.crypto.set":"\u8f93\u5165\u4e00\u4e2a\u65b0\u7684 {0} \u89e6\u53d1\u503c\uff0c\n\u652f\u63013\u4e2a\u53c2\u6570\uff1a-\u7b26\u53f7\u9694\u5f00\u6570\u5b57\u53c2\u6570\n\u7b2c\u4e00\u4e2a\u6570\u5b57\uff1a\u5f53\u9057\u7269\u6570\u91cf\u5927\u4e8e\u89e6\u53d1\u503c\u624d\u4f1a\u8fdb\u884c\u9ed1\u5e01\u4ea4\u6613\n\u7b2c\u4e8c\u4e2a\u6570\u5b57\uff1a\u4e70\u5165\u7684\u6700\u9ad8\u4ef7\uff08\u8d85\u8fc7\u8fd9\u4ef7\u683c\u5c31\u4e0d\u4f1a\u4e70\u4e86\uff09\n\u7b2c\u4e09\u4e2a\u6570\u5b57\uff1a\u5356\u51fa\u6700\u4f4e\u7684\u4ef7\u683c\u3002\uff08\u4f4e\u4e8e\u8fd9\u4ef7\u683c\u5c31\u4e0d\u4f1a\u5356\u51fa\uff09\n\u9ed8\u8ba410000-881-1060",
"ui.engine":"\u542f\u7528\u5c0f\u732b\u73c2\u5b66\u5bb6","ui.build":"\u8425\u706b","ui.space":"\u592a\u7a7a","ui.craft":"\u5de5\u827a","ui.upgrade":"\u5347\u7ea7","ui.trade":"\u8d38\u6613","ui.faith":"\u5b97\u6559","ui.time":"\u65f6\u95f4","ui.options":"\u5c0f\u55b5\u6742\u9879","ui.filter":"\u65e5\u5fd7\u8fc7\u6ee4","ui.distribute":"\u55b5\u55b5\u7ba1\u7406","ui.max":"Max: {0}","msg.catnip":"\u5982\u679c\u5bd2\u51ac\u732b\u8584\u8377\u4ea7\u91cf\u4f4e\u4e8e0\uff0c\u8fde\u7eed\u5bd2\u51b7\u7684\u5929\u6c14\uff0c\u5c0f\u732b\u4f1a\u997f\u6b7b<br>\u5c0f\u732b\u73c2\u5b66\u5bb6\u4f1a\u7559\u4e0b\u8fc7\u5bd2\u51ac\u7684\u732b\u8584\u8377",
"ui.upgrade.upgrades":"\u5de5\u574a\u5347\u7ea7","ui.upgrade.techs":"\u79d1\u5b66\u79d1\u6280","ui.upgrade.races":"\u63a2\u9669\u8005\u51fa\u53d1!","ui.upgrade.missions":"\u63a2\u7d22\u661f\u7403","ui.upgrade.buildings":"\u5347\u7ea7\u5efa\u7b51","ui.upgrade.policies":"\u653f\u7b56","ui.upgrade.policies.load":"\u8bfb\u53d6","ui.upgrade.policies.show":"\u5217\u8868","ui.faith.addtion":"\u5b97\u6559\u9644\u52a0","option.faith.best.unicorn":"\u81ea\u52a8\u6700\u4f73\u72ec\u89d2\u517d\u5efa\u7b51","option.faith.best.unicorn.desc":"\u81ea\u52a8\u732e\u796d\u72ec\u89d2\u517d\uff0c\u5e76\u4f1a\u4ee5\u72ec\u89d2\u517d\u6216\u8c61\u7259\u6765\u51b3\u5b9a\u5efa\u9020\u72ec\u89d2\u517d\u7267\u573a~\u8c61\u7259\u5854...\u592a\u9633\u5c16\u9876<br>\u5f53\u8c61\u7259\u4e0d\u8db3\u65f6\u4f1a\u5207\u6362\u6210\u8c61\u7259\u6a21\u5f0f\u5177\u4f53\u53ef\u4ee5\u70b9\u51fb\u5c0f\u732b\u603b\u7ed3\u770b\u5230(\u6982\u89c8\u8fd8\u672a\u66f4\u65b0\u8c61\u7259\u6a21\u5f0f)",
unicornSacrifice:"\u5c0f\u732b\u8ba9 {0} \u4e2a\u72ec\u89d2\u517d\u7fa4\u8fd4\u56de\u4e86\u5929\u4e0a\u7684\u7ef4\u5ea6\uff0c\u6536\u96c6\u4e86 {1} \u6ef4\u72ec\u89d2\u517d\u7684\u773c\u6cea","option.faith.transcend":"\u81ea\u52a8\u6700\u4f73\u6b21\u5143\u8d85\u8d8a","summary.transcend.catnip":"\u55b5\u55b5\u55b5\uff0c\u4f60\u4e5f\u4e0d\u60f3\u6b21\u5143\u8d85\u8d8a\u518d\u8d5e\u7f8e\u7fa4\u661f\u540e\u8ba9\u5c0f\u55b5\u997f\u6b7b\u5427\uff1f\uff08\u732b\u8584\u8377\u4ea7\u91cf\u5c06\u662f\uff1a{0}\uff09",
"act.transcend":"\u6d88\u8017 {0} \u987f\u609f\uff0c\u8fbe\u5230\u6b21\u5143\u8d85\u8d8a {1}","summary.transcend":"\u6b21\u5143\u8d85\u8d8a\u4e86 {0} \u6b21","option.faith.adore":"\u8d5e\u7f8e\u7fa4\u661f","act.adore":"\u8d5e\u7f8e\u7fa4\u661f! \u6d88\u8017\u4e86 {0} \u8654\u8bda\u8f6c\u5316\u6210 {1} \u987f\u609f","act.adore.last":"\u4e0b\u6b21\u5c0f\u732b\u8d5e\u7f8e\u7fa4\u661f\uff0c\u4f1a\u7b49\u5230\u8654\u8bda\u5927\u4e8e {0} ","summary.adore":"\u8d5e\u7f8e\u7fa4\u661f\u4e86 {0} \u6b21\uff0c\u5171\u79ef\u7d2f\u4e86 {1} \u987f\u609f",
"summary.adore.catnip":"\u55b5\u55b5\u55b5\uff0c\u4f60\u4e5f\u4e0d\u60f3\u8d5e\u7f8e\u7fa4\u661f\u540e\u8ba9\u5c0f\u55b5\u997f\u6b7b\u5427\uff1f\uff08\u732b\u8584\u8377\u4ea7\u91cf\u5c06\u662f\uff1a{0}\uff09","summary.adore.solar":"\u806a\u660e\u7684\u5c0f\u732b\u5df2\u7ecf\u4f1a\u7b97\u671f\u671b\u4e86\uff0c\u5f53\u592a\u9633\u9769\u547d\u52a0\u6210\u5230\u8fbe\uff1a{0}% \u540e\u624d\u4f1a\u8d5e\u7f8e\u7fa4\u661f","summary.adore.last":"\u4e0b\u6b21\u8d5e\u7f8e\u7fa4\u661f\u4f1a\u7b49\u5230\u8654\u8bda\u5927\u4e8e{0} ",
"adore.trigger.set":"\u8d5e\u7f8e\u7fa4\u661f\u518d\u8d5e\u7f8e\u592a\u9633\u540e\u7684\u592a\u9633\u9769\u547d\u52a0\u6210 \u2265 \u89e6\u53d1\u6761\u4ef6 * 1000%\uff0c\n\u89e6\u53d1\u6761\u4ef6\u53d6\u503c\u8303\u56f4\u4e3a 0 \u5230 1 \u7684\u5c0f\u6570\uff080.001\u4e3a\u81ea\u52a8\u6a21\u5f0f\uff09\n\n\u540c\u65f6\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u73c2\u5b66\u5bb6\u5c06\u81ea\u52a8\u8d5e\u7f8e\u7fa4\u661f\u3002\n1. \u5f53\u524d\u4fe1\u4ef0 / \u4fe1\u4ef0\u4e0a\u9650 \u2265 0.98(\u8d5e\u7f8e\u592a\u9633\u89e6\u53d1\u6761\u4ef6\u8bbe\u7f6e0.98\u914d\u5408\u4f7f\u7528)\n2.\u6709\u6708\u7403\u524d\u54e8\n3.\u8d5e\u7f8e\u7fa4\u661f\u540e\u7684\u732b\u8584\u8377\u4ea7\u91cf\uff1e0\u3002\n\u63a8\u8350\u542f\u7528\u8be5\u529f\u80fd\u591a\u653e\u51e0\u4e2a\u519c\u6c11\uff0c\u55b5\u55b5\u4fdd\u62a4\u534f\u4f1a\u4e0d\u5141\u8bb8\u997f\u6b7b\u55b5\u55b5\u55b5\n\u4f18\u5148\u6b21\u5143\u8d85\u8d8a => \u8d5e\u7f8e\u7fa4\u661f => \u8d5e\u7f8e\u592a\u9633",
"resources.add":"\u6dfb\u52a0\u8d44\u6e90","resources.clear.unused":"\u6e05\u9664\u672a\u4f7f\u7528","resources.stock":"\u5e93\u5b58: {0}","resources.consume":"\u6d88\u8017\u7387: {0}","resources.del":"\u5220\u9664","resources.stock.set":"\u8bbe\u7f6e {0} \u7684\u5e93\u5b58","resources.consume.set":"\u8bbe\u7f6e {0} \u7684\u6d88\u8017\u7387","resources.del.confirm":"\u786e\u5b9a\u8981\u53d6\u6d88 {0} \u7684\u5e93\u5b58\u63a7\u5236?","status.ks.enable":"\u795e\u8bf4\uff0c\u8981\u6709\u732b\u732b\u73c2\u5b66\u5bb6!",
"status.ks.disable":"\u592a\u656c\u4e1a\u4e86\uff0c\u8be5\u6b47\u4e86","status.sub.enable":"\u542f\u7528 {0}","status.auto.enable":"\u542f\u7528\u81ea\u52a8\u5316 {0}","status.sub.disable":"\u7981\u7528 {0}","status.auto.disable":"\u7981\u7528\u81ea\u52a8\u5316 {0}","time.game":"\u732b\u73c2\u5b66\u5bb6\u7b49\u5f85\u6e38\u620f\u5904\u7406{0} \u6beb\u79d2","time.ks":"\u53ef\u7231\u5c0f\u55b5\u73c2\u5b66\u5bb6\u4e00\u5171\u4e3a\u4f60\u670d\u52a1\u4e86 {0} \u6b21\uff0c\u73c2\u5b66\u5bb6\u5904\u7406\u5171\u8017\u65f6 {1} \u6beb\u79d2\uff0c\u5e73\u5747\u8017\u65f6 {2} \u6beb\u79d2",
"trade.limited":"\u8d38\u6613\u83b7\u5f97\u6570\u91cf\u5927\u4e8e\u4ea7\u91cf\u65f6\u624d\u4e0e {0} \u8d38\u6613\uff0c\u6b21\u6570\u81ea\u52a8\u9650\u5236","trade.limitedTitle":"\u6839\u636e\u4ea7\u91cf\u548c\u8d38\u6613\u83b7\u5f97\u6570\u91cf","trade.unlimited":"{1}\u4e0e {0} \u7684 \u8d38\u6613","trade.seasons":"\u5b63\u8282","trade.season.enable":"\u542f\u7528\u5728 {1} \u4e0e {0} \u7684\u8d38\u6613","trade.season.disable":"\u505c\u6b62\u5728 {1} \u4e0e {0} \u7684\u8d38\u6613","trade.catnip":"\u0e05'\u03c9'\u0e05\uff0c\u4f60\u4e5f\u4e0d\u60f3\u8ba9\u5c0f\u55b5\u997f\u6b7b\u5427\uff1f\u4e0e\u9ca8\u9c7c\u8d38\u6613\u55bd",
"filter.enable":"\u8fc7\u6ee4 {0}","filter.disable":"\u53d6\u6d88\u8fc7\u6ee4 {0}","craft.force":"\u4e3a\u4e86\u7814\u7a76{1}\uff0c\u55b5\u55b5\u5077\u5077\u62ff\u4e86\u8d44\u6e90\u5408\u6210\u4e86{0}\uff0c\u5450\u5450\u5450\uff0c\u5979\u624d\u4e0d\u4f1a\u5fc3\u75db\u4e86","craft.CacheSteel":"\u5c0f\u732b\u6025\u6025\u6025\uff0c\u5b58\u6750\u6599\u70b9\u5de5\u574a\u5347\u7ea7{0}","craft.forceSteel":"\u5c0f\u732b\u4e3a\u4e86\u5de5\u574a\u5347\u7ea7{0}\uff0c\u5077\u5077\u7528\u4e86\u4ebf\u70b9\u70b9\u6750\u6599\u5408\u6210\u4e86\u94a2<br>\u55b5\u55b5\u4e86?! \u55b5\u55b5\u5df2\u7ecf\u9003\u8dd1\u4e86 \uff9a(\uff9f\u2200\uff9f;)\uff8d=3=3 !",
"craft.limited":"\u5e73\u8861{0}\uff08\u7406\u89e3\u4e3a\u5c0f\u732bAI\u63a7\u5236\u89e6\u53d1\u6761\u4ef6\u3001\u6d88\u8017\u7387\uff0c\u6302\u673a\u6548\u7387\u4f1a\u6bd4\u8f83\u9ad8\uff09","craft.limitedTitle":"\u6839\u636e\u539f\u6750\u6599\u548c\u76ee\u6807\u6750\u6599\u7684\u6570\u91cf","craft.unlimited":"\u89e6\u53d1\u8d44\u6e90\uff1a{1}{0}","distribute.limited":"\u5206\u914d {0} \u4e0d\u4f1a\u8d85\u8fc7Max","distribute.leaderJob":"\u9886\u8896\u5de5\u4f5c\u4e3a {0} ","distribute.leaderTrait":"\u9886\u8896\u7684\u7279\u8d28\u4e3a {0} ",
"distribute.unlimited":"\u5206\u914d {0} \u5141\u8bb8\u8d85\u8fc7MAX","distribute.makeLeader":"\u5206\u914d\u9886\u8896","act.distribute":"\u6293\u4f4f\u4e00\u53ea\u7a7a\u95f2\u732b\u732b\u5206\u914d\u4e3a {0}","act.distribute.catnip":"\u62c5\u5fc3\u4f60\u7684\u732b\u732b\u6ca1\u6709\u732b\u8584\u8377\u5438\u5e76\u5f3a\u5236\u5206\u914d\u5230\u519c\u6c11","act.distributeLeader":"\u5206\u914d\u4e00\u53ea {0} \u732b\u732b\u9886\u8896","ui.max.set":"\u8bbe\u7f6e {0} \u7684\u6700\u5927\u503c","summary.distribute":"\u5e2e\u52a9 {0} \u53ea\u5077\u5403\u732b\u8584\u8377\u7684\u732b\u732b\u627e\u5230\u5de5\u4f5c",
"set.leader":"{0}\uff0c\u55b5\u55b5\u55b5\uff01","option.promote":"\u63d0\u62d4\u9886\u8896\u5c0f\u732b","act.promote":"\u82b1\u8d39\u4e86 {1} \u9ec4\u91d1\uff0c\u5c0f\u732b\u9886\u8896\u88ab\u63d0\u62d4\u5230 {0} \u7ea7","summary.promote":"\u63d0\u62d4\u9886\u8896 {0} \u6b21","ui.trigger.useWorkers.alert":"\u6bd4\u5982\u5929\u6587\u4e8b\u4ef6\u6ca1\u89c2\u6d4b\u3001\u70e7\u6c34\u6676\u6162\uff0c\u73c2\u5b66\u5bb6\u540e\u53f0\u5927\u698210\u624d\u8fd0\u884c1\u6b21\n\u52fe\u9009\u5c06\u4f1a\u5728\u540e\u53f0\u6ee1\u901f\u8fd0\u884c\uff0c\u6ce8\u610f\u4f1a\u5bfc\u81f4\u4f7f\u7528\u5185\u5b58\u589e\u591a\u3002\n\u7535\u8111\u4e0d\u597d\u3001\u5185\u5b58< 8G\u7684\u5efa\u8bae\u7981\u7528\n\u63a8\u8350\u8fc7\u6ee4\u5168\u90e8\u65e5\u5fd7\u4f1a\u51cf\u5c11\u6027\u80fd\u7684\u6d88\u8017\u3002\n\n\u9700\u6ee1\u8db3\u6d4f\u89c8\u5668\u652f\u6301\u4e14\u6e38\u620f\u9009\u9879\u7684web worker\u542f\u7528\u3002\n\u786e\u8ba4\u540e\u4f1a\u81ea\u52a8\u91cd\u65b0\u52fe\u9009\u542f\u7528\u73c2\u5b66\u5bb6",
"ui.timeCtrl":"\u65f6\u95f4\u64cd\u7eb5","option.accelerate":"\u5149\u9634\u4f3c\u7bad","act.accelerate":"\u56fa\u6709\u65f6\u5236\u5fa1\uff0c\u4e8c\u500d\u901f!","act.accelerate.acl":"\u6293\u7a33\u4e86\uff0c\u732b\u732b\u8981\u5f00\u59cb\u52a0\u901f\u4e86!","act.accelerate.slow":"\u4e0d\u884c\u4e86\uff0c\u732b\u732b\u8981\u51cf\u901f\u4e86","summary.accelerate":"\u5c0f\u732b\u52a0\u901f\u65f6\u95f4 {0} \u6b21","option.time.skip":"\u65f6\u95f4\u8df3\u8f6c","act.time.skip":"\u71c3\u70e7\u65f6\u95f4\u6c34\u6676, \u8df3\u8fc7\u63a5\u4e0b\u6765\u7684 {0} \u5e74!",
"ui.cycles":"\u5468\u671f","ui.maximum":"\u5355\u6b21\u6570\u91cf","time.skip.cycle.enable":"\u542f\u7528\u5728 {0} \u8df3\u8f6c\u65f6\u95f4\u5e76\u5141\u8bb8\u8df3\u8fc7\u8be5\u5468\u671f","time.skip.cycle.disable":"\u505c\u6b62\u5728 {0} \u8df3\u8f6c\u65f6\u95f4\u5e76\u7981\u6b62\u8df3\u8fc7\u8be5\u5468\u671f","time.skip.season.enable":"\u542f\u7528\u5728 {0} \u8df3\u8f6c\u65f6\u95f4","time.skip.season.disable":"\u505c\u6b62\u5728 {0} \u8df3\u8f6c\u65f6\u95f4","time.skip.trigger.set":"\u62e5\u6709\u65f6\u95f4\u6c34\u6676\u6570\u91cf\u5927\u4e8e\u8be5\u89e6\u53d1\u503c\u624d\u4f1a\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff0c\u53d6\u503c\u8303\u56f4\u4e3a\u6b63\u6574\u6570\u3002\n\u6ce8\u610f\u4f1a\u8ba1\u7b97\u65f6\u95f4\u6c34\u6676\u5e93\u5b58\n\u5468\u671f\u9ed8\u8ba4\u5168\u52fe\u5c31\u884c\uff0c\u73c2\u5b66\u5bb6\u4f1a\u81ea\u52a8\u5224\u65ad\u662f\u5426\u505c\u5728\u7ea2\u6708\n\u6bcf2\u79d2\u70e7\u6c34\u6676\u6b21\u6570\u56fa\u5b9a\u4e3a 0.04x\u65f6\u8ba1\u7089(\u65e0\u5343\u79a7\u5e740.02)\uff0c\u6545\u5355\u6b21\u6570\u91cf\u8fdb\u4e00\u6cd5\u5c31\u884c\n\u5982\u679c\u8d44\u6e90\u56de\u590d\u540e\u8d44\u6e90\u4e00\u76f4\u662f\u6ee1\u7684\uff0c\u5efa\u8bae\u8fc7\u6ee4\u5927\u90e8\u5206\u65e5\u5fd7\n\n\u6545\u957f\u6302\u63a8\u8350\uff1a\u89e6\u53d1\u6761\u4ef6500\uff0c\u5355\u6b21\u6570\u91cf1\uff0c\u5468\u671f\u5168\u52fe",
"summary.time.skip":"\u8df3\u8fc7 {0} \u5e74","option.time.reset":"\u91cd\u542f\u65f6\u95f4\u7ebf (\u5f03\u7528)","status.reset.check.enable":"\u5728\u91cd\u542f\u65f6\u95f4\u7ebf\u524d\u68c0\u67e5 {0}","status.reset.check.disable":"\u5728\u91cd\u542f\u65f6\u95f4\u7ebf\u524d\u4e0d\u68c0\u67e5 {0}","ui.min":"Min: {0}","reset.check.trigger.set":"\u4e3a {0} \u8bbe\u7f6e\u65b0\u7684\u89e6\u53d1\u503c.\n-1 \u8868\u793a\u5fc5\u987b\u5c06\u6b64\u5efa\u7b51\u5efa\u9020\u81f3\u8d85\u8fc7\u8d44\u6e90\u4e0a\u9650\u4e3a\u6b62",
"reset.check":"{0} \u7684\u89e6\u53d1\u503c: {1}, \u73b0\u5728\u5171\u6709 {2}","reset.checked":"\u6240\u6709\u6761\u4ef6\u90fd\u5df2\u6ee1\u8db3\uff0c\u65f6\u95f4\u7ebf\u5c06\u5728\u51e0\u79d2\u540e\u91cd\u542f!","reset.tip":'\u4f60\u53ef\u4ee5\u901a\u8fc7\u53d6\u6d88 "\u542f\u7528\u5c0f\u732b\u73c2\u5b66\u5bb6" \u6216 "\u65f6\u95f4\u64cd\u63a7" \u6216 "\u91cd\u542f\u65f6\u95f4\u7ebf" \u4ee5\u53d6\u6d88\u6b64\u6b21\u91cd\u542f',"reset.countdown.10":"10 - \u6b63\u5728\u6536\u83b7\u732b\u8584\u8377",
"reset.countdown.9":"&nbsp;9 - \u6b63\u5728\u732e\u796d\u72ec\u89d2\u517d","reset.countdown.8":"&nbsp;8 - \u6b63\u5728\u653e\u751f\u8725\u8734","reset.countdown.7":"&nbsp;7 - \u6b63\u5728\u62c6\u89e3\u7535\u78c1\u70ae","reset.countdown.6":"&nbsp;6 - \u6b63\u5728\u542f\u52a8\u65f6\u95f4\u5f15\u64ce","reset.countdown.5":"&nbsp;5 - \u6b63\u5728\u878d\u5316\u9ed1\u5e01","reset.countdown.4":"&nbsp;4 - \u6b63\u5728\u5173\u95ed\u536b\u661f","reset.countdown.3":"&nbsp;3 - \u6b63\u5728\u6253\u5f00\u65f6\u7a7a\u88c2\u9699",
"reset.countdown.2":"&nbsp;2 - \u6b63\u5728\u542f\u52a8\u65f6\u95f4\u953b\u9020","reset.countdown.1":"&nbsp;1 - \u65f6\u95f4\u5f15\u64ce\u5df2\u542f\u52a8!","reset.countdown.0":"&nbsp;0 - \u65f6\u7a7a\u88c2\u7f1d\u5df2\u6253\u5f00!","reset.last.message":"\u6211\u4eec\u4e0b\u4e2a\u5e9e\u52a0\u83b1\u56de\u5f52\u518d\u89c1","reset.after":"\u521d\u6b21\u89c1\u9762\uff0c\u53ef\u7231\u7684\u732b\u732b\u73c2\u5b66\u5bb6\u4e3a\u60a8\u670d\u52a1","reset.cancel.message":"\u91cd\u542f\u65f6\u95f4\u7ebf\u8ba1\u5212\u53d6\u6d88.",
"reset.cancel.activity":"\u55b5\u65af\u987f\uff0c\u6211\u4eec\u6709\u9ebb\u70e6\u4e86.","summary.time.reset.title":"\u8fc7\u53bb {0} \u4e2a\u65f6\u95f4\u7ebf\u7684\u603b\u7ed3","summary.time.reset.content":"\u83b7\u5f97 {0} \u4e1a.<br>\u83b7\u5f97 {1} \u9886\u5bfc\u529b.","ui.close":"\u5173\u95ed","auto.countdown":"{0} \u79d2\u540e\u5c06\u4f1a\u81ea\u52a8\u542f\u7528\u73c2\u5b66\u5bb6","auto.tip":'\u4f60\u53ef\u4ee5\u901a\u8fc7\u53d6\u6d88 "\u9996\u6b21\u81ea\u542f\u73c2\u5b66\u5bb6" \u4ee5\u53d6\u6d88\u6b64\u6b21\u81ea\u52a8\u5f00\u542f',
"option.fix.cry":"\u4fee\u590d\u51b7\u51bb\u4ed3","act.fix.cry":"\u5c0f\u732b\u4fee\u590d\u4e86 {0} \u4e2a\u51b7\u51bb\u4ed3","summary.fix.cry":"\u4fee\u590d\u4e86 {0} \u4e2a\u51b7\u51bb\u4ed3","summary.auto.academy":"\u5c0f\u732b\u5f53\u79d1\u5b66\u5feb\u6ee1\u4e86\u624d\u4f1a\u7ee7\u7eed\u5efa\u9020\u7814\u7a76\u9662","summary.auto.biolab":"\u5c0f\u732b\u4e3a\u4e86\u8282\u7701\u5408\u91d1\u53d1\u5c55\uff0c\u8f68\u9053\u6d4b\u5730\u5b66\u524d\u4e0d\u5efa\u9020\uff0c\u592a\u7a7a\u5236\u9020\u524d\u751f\u7269\u5b9e\u9a8c\u5ba4\u4f18\u5148\u7ea7\u964d\u4f4e",
"summary.auto.bls":"\u5c0f\u732b\u5b58\u773c\u6cea\u63d0\u70bc\u60b2\u4f24","summary.auto.broadcastTower":"\u5c0f\u732b\u4e3a\u4e86\u8282\u7701\u949b\u7528\u6765\u53d1\u5c55\uff0c\u949b\u5feb\u5230\u4e0a\u9650\u65f6\u624d\u4f1a\u5efa\u9020\u66f4\u591a\u7684\u5e7f\u64ad\u5854","summary.auto.caravanserai":"\u50a8\u5b58\u9ec4\u91d1\u4e3a\u4e86\u5546\u961f\u9a7f\u7ad9\u3002~\u6253\u8d25\u6591\u9a6c\u7684\u7b2c\u4e00\u6b65","summary.auto.changeLeader":"\u540c\u65f6\u52fe\u9009\u63d0\u62d4\u9886\u8896\u5c0f\u732b\u3001\u55b5\u55b5\u7ba1\u7406\u3001\u5206\u914d\u9886\u8896\uff0c\u5c0f\u55b5\u670d\u52a1\u65f6\u81ea\u4f1a\u52a8\u5207\u6362\u5bf9\u5e94\u9886\u8896\u7279\u8d28\uff0c\u53d1\u5c55\u4f1a\u5feb\u5f88\u591a\u7684\u55b5<br>\u79d1\u5b66\u548c\u5de5\u574a\u5347\u7ea7\u6362\u5230\u79d1\u5b66\u5bb6\u9886\u8896\uff0c\u6bd4\u5982\u795e\u5b66\u7684\u79d1\u5b66\u4ef7\u683c\u53d8\u4e3a19K\u7b49\u7b49",
"summary.auto.craftCatnip":"\u5450\u5450\u5450\uff0c\u4f60\u4e5f\u4e0d\u60f3\u8ba9\u5bd2\u51ac\u65f6\u5c0f\u55b5\u997f\u6b7b\u5427\uff1f\u55b5\u7cae\u4e0a\u4ea4","summary.auto.craftLimited":"\u6bcf\u6b21\u8fd0\u884c\u90fd\u4f1a\u5408\u6210\u5de5\u827a(\u5373\u65e0\u89c6\u89e6\u53d1\u6761\u4ef6)\uff0c\u6570\u91cfAI\u81ea\u52a8\u3002\u6302\u673a\u53d1\u5c55\u901f\u5ea6\u4f1a\u8fdc\u5927\u4e8e\u89e6\u53d1\u6761\u4ef6\u7684\u3002","summary.auto.crossbow":"\u94c1\u5f53\u7136\u662f\u8981\u6765\u7528\u6765\u6539\u826f\u5f29\uff0c\u55b5\u7528\u55b5\u8bf4\u597d",
"summary.auto.defaultPriest":"\u9ed8\u8ba4\u65e0\u9650\u5236\u7267\u5e08\uff0c\u5982\u9700\u8981\u9650\u5236\u8bf7\u66f4\u6539max","summary.auto.drama":"\u55b5\u529b\u4ea7\u91cf\u4f4e\uff0c\u7f8a\u76ae\u7eb8\u5e93\u5b58\u4f4e\uff0c\u806a\u660e\u7684\u5c0f\u732b\u5c31\u4e0d\u8fc7\u8282\u65e5\u5566","summary.auto.factory":"\u6709\u4e86\u66f4\u591a\u949b\u7684\u540e\uff0c\u5c0f\u732b\u4e0b\u6b21\u4e00\u5b9a\u9020\u5de5\u5382","summary.auto.geologist":"\u9ec4\u91d1\u548c\u7164\u6709\u70b9\u7f3a\uff0c\u5c31\u591a\u4e86\u4ebf\u70b9\u70b9\u642c\u7816\u7684\u5730\u8d28\u5b66\u5bb6",
"summary.auto.harbor":"\u6e2f\u53e3\u9700\u8981\u7684\u91d1\u5c5e\u677f\u592a\u591a\uff0c\u5c0f\u732b\u4f1a\u5c11\u9020\u4ebf\u70b9\u70b9(\u4e00\u5b9a\u662f\u6591\u9a6c\u7684\u9634\u8c0b","summary.auto.hunter":"\u672a\u53d1\u660e\u5f29\u548c\u5bfc\u822a\u5b66\uff0c\u5c0f\u732b\u5f53\u730e\u4eba\u6b32\u671b\u964d\u4f4e","summary.auto.ironFactory":"\u5982\u679c\u94a2\u7684\u5408\u6210\u6570\u91cf\u504f\u5c11\uff0c\u63a8\u8350\u5173\u95ed\u7145\u70e7\u7089\u7684\u81ea\u52a8\u5316","summary.auto.ironwood":"\u55b5\u55b5\u55b5\u628a\u94c1\u6536\u8d77\u6765\uff0c\u5e0c\u671b\u4f4f\u4e0a\u5411\u5f80\u7684\u94c1\u6728\u5c0f\u5c4b",
"summary.auto.kittens":"\u8ba1\u5212\u751f\u80b2! \u732b\u7cae\u4ea7\u91cf\u4e0d\u591f\u4e86 ovo","summary.auto.ksHelp":"\u4e3a\u4e86\u6e38\u620f\u53ef\u73a9\u6027\uff0c\u6ca1\u6709\u7ed9\u840c\u65b0\u5f00\u653e\u8fc7\u591a\u667a\u80fd\u9879\u76ee\uff0c\u81ea\u5df1\u591a\u70b9\u70b9\u634f<br>\u968f\u7740\u732b\u732b\u7684\u53d1\u5c55\u73c2\u5b66\u5bb6\u521d\u59cb\u8bbe\u7f6e\u597d\u9ed8\u8ba4\u914d\u7f6e\u4e0b\u4f1a\u8d8a\u6765\u8d8a\u667a\u80fd\u5feb\u901f\u6548\u7387\u55b5","summary.auto.ksHelp2":"\u5982\u6709\u4f60\u7279\u610f\u60f3\u70b9\u7684\u9879\u76ee\u53ef\u4ee5\u5728 \u5de5\u827a => \u8d44\u6e90 => \u5e93\u5b58,\u6bd4\u5982\u91cd\u7f6e\u524d\u8981\u70b9\u732b\u53e3\u5efa\u7b51\u8bbe\u7f6e\u6728\u6750 100K,\u5c31\u4f1a\u6c38\u8fdc\u7559100K\u7684\u6728\u6750\u8ba9\u4f60\u624b\u70b9",
"summary.auto.ksHelp3":"\u9ed8\u8ba4\u8bbe\u7f6e\u4e0b\u7eaf\u6302\u673a\u5927\u6982450\u5e74\u5de6\u53f3130\u732b\u53e3+\u65b0\u7ea6\u5916\u4f20","summary.auto.ksHelp4":"\u5c0f\u55b5\u9009\u9879 => \u6062\u590d\u521d\u59cb\u9ed8\u8ba4\u914d\u7f6e\uff0c\u53ef\u4ee5\u6062\u590d\u5230\u521d\u59cb\u63a8\u8350\u7684\u914d\u7f6e","summary.auto.lag":"\u55b5\u55b5\u7816\u5bb6\u63d0\u793a\u4f60\uff0c\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff1a\u6700\u597d\u4e0d\u8981\u8bbe\u7f6e\u5de5\u7a0b\u5e08\u3001\u5728\u6311\u6218\u9875\u9762\u6302\u673a\u53ef\u4ee5\u51cf\u5c11\u5361\u987f",
"summary.auto.leader":"\u55b5\u55b5\u81ea\u89c9\u9876\u66ff\u9886\u8896\uff0c\u505a\u7279\u8d28\u76f8\u5173\u9879\u76ee\u3002\uff08\u9886\u8896\u7279\u8d28\u7684\u5177\u4f53\u6548\u679c\u53ef\u4ee5\u53c2\u8003\u53f3\u4e0b\u89d2\uff1a\u767e\u79d1-\u6e38\u620f\u6807\u7b7e-\u6751\u5e84-\u732b\u53e3\u666e\u67e5\uff09","summary.auto.leaderPriest":"\u5df2\u7ecf\u662f\u6210\u719f\u7684\u5c0f\u732b\u4e86\uff0c\u8be5\u5b66\u4f1a\u597d\u597d\u5ff5\u7ecf\u4e86\uff0c\u9886\u8896\u804c\u4e1a\u6539\u4e3a\u7267\u5e08",
"summary.auto.lower":"\u672a\u7814\u7a76\u8f68\u9053\u6d4b\u5730\u5b66\uff0c\u5c0f\u732b\u4e3a\u4e86\u53d1\u5c55\u66f4\u5feb\uff0c\u6545\u964d\u4f4e\u7267\u573a\u3001\u6c34\u6e20\u3001\u56fe\u4e66\u9986\u3001\u7814\u7a76\u9662\u3001\u7cae\u4ed3\u3001\u6e2f\u53e3\u3001\u6cb9\u4e95\u3001\u4ed3\u5e93\u7684\u4f18\u5148\u5ea6","summary.auto.lumberMill":"\u55b5\u55b5\u89c9\u5f97\u6728\u5934\u5df2\u7ecf\u53d1\u5c55\u597d\u4e86\uff0c\u51cf\u5c11\u6728\u6750\u5382\u7684\u5efa\u9020","summary.auto.magnetos":"\u4e5f\u8bb8\u6ca1\u6709\u77f3\u6cb9\u4e86\u5bfc\u81f4\u78c1\u7535\u673a\u81ea\u52a8\u5173\u673a\uff0c\u5c0f\u732b\u8fd8\u662f\u9009\u62e9\u6253\u5f00\u4e86\u5b83",
"summary.auto.marker":"\u6ca1\u6709\u9ed1\u91d1\u5b57\u5854\u5c0f\u732b\u62d2\u7edd\u4e86\u795e\u5370\u7684\u5efa\u9020","summary.auto.mansion":"\u5c0f\u732b\u4e3a\u4e86\u8282\u7701\u949b\u548c\u94a2\u7528\u6765\u53d1\u5c55\uff0c\u5b85\u90b8\u4f18\u5148\u5ea6\u964d\u4f4e\uff082\u500d\u591a\u8d44\u6e90\uff09","summary.auto.moonBase":"\u96be\u5f97\u7d20\u50a8\u91cf\u8fbe\u523080%\uff0c\u5c0f\u732b\u624d\u4f1a\u9020\u6708\u7403\u57fa\u5730","summary.auto.oxidation":"\u522b\u6025\uff0c\u4f60\u5148\u522b\u6025\uff0c\u5c0f\u732b\u4e3a\u4e86\u6c27\u5316\u53cd\u5e94\u628a\u94a2\u5168\u5b58\u8d77\u6765\u4e86",
"summary.auto.parchment":"\u8fd8\u672a\u7814\u7a76\u5730\u8d28\u5b66\uff0c\u5c0f\u732b\u54aa\u7528\u4e0d\u4e86\u90a3\u4e48\u591a\u6bdb\u76ae\uff0c\u6bdb\u76ae\u5b58\u8d77\u6765\u4e86","summary.auto.pasture":"\u55b5\u55b5\u55b5\u5acc\u5f03\u4e86\u7267\u573a\uff0c\u6728\u6750\u8fd8\u662f\u7528\u6765\u53d1\u5c55\u7684\u597d\uff08\u771f\u7684\u662f\u6700\u540e1\u4e2a\u4e86","summary.auto.religion":"\u5927\u6559\u5802\u524d\u7ee7\u7eed\u9650\u5236\u795e\u6bbf\u548c\u4ea4\u6613\u6240","summary.auto.reinforcedSaw":"\u7528\u94c1\u7ed9\u6728\u6750\u5382\u5347\u7ea7\u6362\u6210\u52a0\u5f3a\u952f\uff0c\u66f4\u52a0\u950b\u5229\u7684\u634f",
"summary.auto.rotaryKiln":"\u732b\u732b\u770b\u4e0a\u4e86<s>\u56de\u8f6c\u7089</s>? \u51cf\u80a5\u65cb\u8f6c\u6eda\u8f6e!","summary.auto.sattelite":"\u5c0f\u732b\u8db3\u591f\u8654\u8bda\uff0c\u4e8e\u662f\u4f1a\u5148\u9020\u536b\u661f\u56de\u56de\u8840","summary.auto.scholar":"\u79d1\u5b66\u4ea7\u91cf\u53ef\u80fd\u6709\u70b9\u4e0d\u591f\uff0c\u5b66\u8005\u732b\u54aa\u6570\u91cf\u4e0a\u9650\u589e\u81f324~","summary.auto.scienceBld":"\u5929\u6587\u53f0\u3001\u7814\u7a76\u9662\u3001\u751f\u7269\u5b9e\u9a8c\u5ba4\u79d1\u5b66\u4e0a\u9650\u5feb\u6ee1\u4e86\u624d\u4f1a\u5efa\u9020",
"summary.auto.smelter":"\u795e\u5b66\u524d\uff0c\u51b6\u70bc\u4e13\u7cbe\u7684\u5c0f\u732b\u4f1a\u6839\u636e\u6728\u6750\u548c\u77ff\u7269\u4ea7\u91cf\u6765\u63a7\u5236\u7194\u7089\u4e0a\u9650","summary.auto.spaceStation":"\u9ed1\u6697\u5929\u7a7a\u4f1a\u7f3a\u7535\uff0c\u5c0f\u732b\u8d34\u5fc3\u66ff\u4f60\u70b9\u4e86\u5173\u95ed\u7a7a\u95f4\u7ad9","summary.auto.spaceTrigger":"\u5c0f\u732b\u53d1\u5c55\u98de\u5feb\uff0c\u628a\u661f\u56fe\u7559\u7ed9\u63a2\u7d22\u78a7\u6c60\u661f","summary.auto.steamworks":"\u5c0f\u732b\u66f0\uff1a\u84b8\u6c7d\u5de5\u623f\u8981\u4e0e\u78c1\u7535\u673a\u6210\u53cc\u6210\u5bf9",
"summary.auto.steelAxe":"\u5b58\u7740\u94a2\u6362\u4e2a\u55b5\u55b5\u81ea\u7528\u7684\u7cbe\u94a2\u65a7","summary.auto.steelSaw":"\u5c0f\u55b5\u5b58\u7740\u94a2\u7ed9\u6728\u6750\u5382\u6362\u7cbe\u94a2\u952f\uff0c\u66f4\u52a0\u950b\u5229\u4e86\u55b5","summary.auto.templars":"\u6ca1\u6709\u8db3\u591f\u7684\u9ec4\u91d1\u548c\u94c1\u4ea7\u91cf\u62ff\u4ec0\u4e48\u7977\u544a\u5723\u6bbf\u9a91\u58eb\u5462","summary.auto.temple":"\u7977\u544a\u592a\u9633\u9769\u547d\u540e\u624d\u4f1a\u5efa\u9020\u795e\u6bbf\uff0c\u771f\u7684\u4e0d\u662f\u5077\u61d2\u55b5",
"summary.auto.tradepost":"\u7977\u544a\u592a\u9633\u9769\u547d\u524d\uff0c\u4ea4\u6613\u6240\u5f00\u6446","summary.auto.tear":"\u5c0f\u55b5\u90fd\u505a\u4e86\u4ec0\u4e48?! \u72ec\u89d2\u517d\u7684\u773c\u6cea\u52a0\u5c0f\u732b\u5e78\u798f\u5ea6\u7684\u634f","summary.auto.unicorn":"\u6700\u4f73\u72ec\u89d2\u517d\u5efa\u7b51\uff1a{0}","summary.auto.upgPasture":"\u5f53\u52fe\u9009\u592a\u9633\u80fd\u53d1\u7535\u7ad9\u4e86\uff0c\u5e76\u6709\u8db3\u591f\u949b\u7684\u4ea7\u91cf\u3001\u4e14\u7f3a\u7535\u3001\u4e14\u732b\u8584\u8377\u4ea7\u91cf\u8db3\u591f\u9ad8\u65f6\uff0c\u5c0f\u732b\u4f1a\u8d34\u5fc3\u7684\u5e2e\u4f60\u5356\u51fa\u5168\u90e8\u7267\u573a\u540e\uff0c\u5347\u7ea7\u592a\u9633\u80fd\u53d1\u7535\u7ad9!",
"summary.auto.upgAqueduct":"\u5f53\u52fe\u9009\u6c34\u7535\u7ad9\u4e86\uff0c\u6709\u592a\u9633\u80fd\u53d1\u7535\u7ad9\u3001\u4e14\u7f3a\u7535\u3001\u4e14\u732b\u8584\u8377\u4ea7\u91cf\u8db3\u591f\u9ad8\u65f6\uff0c\u5c0f\u732b\u4f1a\u8d34\u5fc3\u7684\u5e2e\u4f60\u5356\u51fa\u5168\u90e8\u6c34\u6e20\u540e\uff0c\u5347\u7ea7\u6c34\u7535\u7ad9!","summary.auto.upgLibrary":"\u5f53\u52fe\u9009\u6570\u636e\u4e2d\u5fc3\u4e86\uff0c\u6982\u8981\u6570\u91cf\u5927\u4e8e 150X\u56fe\u4e66\u9986\u6570\u91cf \u65f6\uff0c\u5c0f\u732b\u4f1a\u8d34\u5fc3\u7684\u5e2e\u4f60\u5356\u51fa\u5168\u90e8\u56fe\u4e66\u9986\u540e\uff0c\u5347\u7ea7\u6570\u636e\u4e2d\u5fc3!",
"summary.auto.upgAmphitheatre":"\u5f53\u6709\u8d38\u6613\u8239\u6216\u8005\u949b\u4ea7\u91cf\u8db3\u591f\u9ad8\u65f6\uff0c\u5c0f\u732b\u4f1a\u8d34\u5fc3\u7684\u5e2e\u4f60\u5356\u51fa\u5168\u90e8\u5267\u573a\u540e\uff0c\u5347\u7ea7\u5e7f\u64ad\u5854!","summary.auto.workshop":"\u5de5\u574a\u53ea\u662f\u89e3\u9501\u5347\u7ea7\u7684 \u732b\u73a9\u5177\u7f62\u4e86\uff0c\u73b0\u5728\u5c0f\u732b\u53ea\u613f\u610f\u90201\u4e2a\u5de5\u574a\u54e6","summary.upgrade.building.pasture":"\u5356\u51fa\u7267\u573a \u5e76\u5347\u7ea7\u4e3a \u592a\u9633\u80fd\u53d1\u7535\u7ad9 !",
"summary.upgrade.building.aqueduct":"\u5356\u51fa\u6c34\u6e20 \u5e76\u5347\u7ea7\u4e3a \u6c34\u7535\u7ad9 !","summary.upgrade.building.library":"\u5356\u51fa\u56fe\u4e66\u9986 \u5e76\u5347\u7ea7\u4e3a \u6570\u636e\u4e2d\u5fc3!","summary.upgrade.building.amphitheatre":"\u5356\u51fa\u5267\u573a \u5e76\u5347\u7ea7\u4e3a \u5e7f\u64ad\u5854!","summary.resource":"\u5c0f\u732b\u81ea\u52a8\u8c03\u6574\u8d44\u6e90: {0} \u7684\u6d88\u8017\u7387","summary.moon":"\u5c0f\u732b\u505c\u5728\u7ea2\u6708\u5468\u671f\u6563\u70ed {0} \u6b21",
"summary.time.skip.moon":"\u7531\u4e8e\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\u652f\u51fa\u5927\u4e8e\u6536\u5165\uff0c\u5c0f\u732b\u51b3\u5b9a\u6512\u96be\u5f97\u7d20\uff0c\u505c\u7559\u5728\u7ea2\u6708 {0} \u6b21!","summary.blackcoin.buy":"\u5c0f\u732b\u51fa\u552e\u9057\u7269\u5e76\u4e70\u5165 {0} \u6b21\u9ed1\u5e01","summary.blackcoin.sell":"\u5c0f\u732b\u51fa\u552e\u9ed1\u5e01\u5e76\u4e70\u5165\u4e86 {0} \u6b21\u9057\u7269","summary.accelerator":"\u7535\u91cf\u5bc4\u4e86\uff0c\u5927\u6982\u53ea\u6709\u52a0\u901f\u5668\u80fd\u5173\u95ed\u4e86\uff08\u4e0d\u4f1a\u5f71\u54cd\u5e93\u5b58",
"summary.catnip":"\u5450\uff0c\u4f60\u7684\u732b\u732b\u6ca1\u6709\u732b\u8584\u8377\u5438\u5e76\u5f3a\u5236\u5206\u914d {0} \u4e2a\u519c\u6c11","summary.calciner":"\u5c0f\u732b\u56e0\u4e3a\u4f60\u5de5\u574a\u5347\u7ea7\u4e86\u94a2\u94c1\u5de5\u5382\uff0c\u6545\u5173\u95ed\u4e86\u7145\u70e7\u7089\u81ea\u52a8\u5316\uff08\u5176\u6548\u679c\u94c1\u548c\u7164\u8f6c\u5316\u94a2\u6ca1\u6709100%~\u5177\u4f53\u53f3\u4e0b\u89d2\u53c2\u8003\u767e\u79d1\uff09\uff08\u5979\u771f\u7684\u597d\u6e29\u67d4\uff0c\ud83d\ude2d\uff09",
"summary.mint":"\u79cb\u68a8\u818f\u522b\u5f00\u94f8\u5e01\u5382\u4e86\uff08\u5176\u8f6c\u5316\u6548\u7387\u4e0e\u55b5\u529b\u4e0a\u9650\u6709\u5173\uff0c\u6253\u730e\u4f1a\u83b7\u5f97\u66f4\u591a\u7684\u6bdb\u76ae\uff0c\u5177\u4f53\u53f3\u4e0b\u89d2\u53c2\u8003\u767e\u79d1 \u6e38\u620f\u6807\u7b7e-\u5176\u5b83\u5efa\u7b51-\u94f8\u5e01\u5382\uff0c\uff09","summary.pumpjack":"\u5c0f\u732b\u62c5\u5fc3\u51ac\u5b63\u7535\u4e0d\u591f\u5e76\u5173\u95ed\u4e86 {0} \u6b21\u6cb9\u4e95\u81ea\u52a8\u5316","summary.biolab":"\u5c0f\u732b\u62c5\u5fc3\u51ac\u5b63\u7535\u4e0d\u591f\u5e76\u5173\u95ed\u4e86 {0} \u4e2a\u751f\u7269\u5b9e\u9a8c\u5ba4(\u5173\u4e86\u540e\u79d1\u5b66\u4e0a\u9650\u548c\u79d1\u5b66\u52a0\u6210\u8fd8\u4f1a\u52a0\u6210)",
"summary.biolab.test":" {0} \u4e2a\u751f\u7269\u5b9e\u9a8c\u5ba4(\u975e\u5e38\u6ca1\u7528\u7684\u5de5\u574a\u5347\u7ea7)","summary.temporalAccelerator":"\u5c0f\u732b\u62c5\u5fc3\u5361\u987f\u6253\u5f00\u4e86\u65f6\u7a7a\u52a0\u901f\u5668\u7684\u81ea\u52a8\u5316","summary.reactor":"\u5c0f\u732b\u5411\u53cd\u5e94\u5806\u6295\u5165\u4e86\u94c0\u5f00\u59cb\u53d1\u5149\u5450\uff0c\u8d44\u6e90\u4ea7\u91cf\u53d8\u591a\u4e86","summary.factory":"\u5c0f\u732b\u4e3a\u4e86\u7a7a\u95f4\u7684\u53d1\u5c55\uff0c\u628a\u5de5\u5382\u5168\u90e8\u542f\u7528\u5450",
"summary.steamworks":"\u5c0f\u732b\u5411\u84b8\u6c7d\u5de5\u623f\u52a0\u4e86\u7164\u5f00\u59cb\u6392\u84b8\u6c7d\u5450\uff0c\u8d44\u6e90\u4ea7\u91cf\u53d8\u591a\u4e86","summary.breweryOn":"\u5df2\u4e3e\u529e\u6587\u5316\u8282\uff0c\u55b5\u661f\u4eba\u91cd\u65b0\u6253\u5f00\u4e86\u917f\u9152\u5382~\u55dd","summary.breweryOff":"\u8282\u65e5\u6216\u8005\u9999\u6599\u6ca1\u5450\uff0c\u5c0f\u732b\u62d2\u5962\u5b88\u4fed\uff0c\u6682\u65f6\u5173\u95ed\u4e86\u917f\u9152\u5382","summary.brewery":"\u5c0f\u732b\u6839\u636e\u8282\u65e5\u8c03\u6574\u4e86 {0} \u6b21\u917f\u9152\u5382",
"summary.chronocontrolOn":"\u5c0f\u732b\u5f00\u542f\u4e86\u65f6\u95f4\u64cd\u7eb5\u5ef6\u957f\u65f6\u95f4\u6096\u8bba\u7684\u6301\u7eed\u5929\u6570","summary.chronocontrolOff":"\u5c0f\u732b\u5173\u95ed\u4e86\u65f6\u95f4\u64cd\u7eb5\u8282\u7701\u7535\u529b","summary.chronocontrol":"\u5c0f\u732b\u6839\u636e\u65f6\u95f4\u6096\u8bba\u8c03\u6574\u4e86 {0} \u6b21\u65f6\u95f4\u64cd\u7eb5","summary.festival":"\u4e3e\u529e\u4e86 {0} \u6b21\u8282\u65e5","summary.stars":"\u89c2\u6d4b\u4e86 {0} \u6b21\u5929\u6587\u4e8b\u4ef6",
"summary.praise":"\u8d5e\u7f8e\u592a\u9633\u4e86 {0} \u6b21\uff0c\u5171\u79ef\u7d2f\u4e86 {1} \u8654\u8bda","summary.hunt":"\u6d3e\u51fa\u4e86 {0} \u6279\u53ef\u7231\u7684\u5c0f\u732b","summary.hunt.manager":"\u7ba1\u7406\u8005\u9886\u8896\u6d3e\u51fa\u4e86 {0} \u6279\u53ef\u7231\u7684\u5c0f\u732b","summary.embassy":"\u8bbe\u7acb\u4e86 {0} \u4e2a\u5927\u4f7f\u9986","summary.feed":"\u5411\u5229\u7ef4\u5766\u732e\u796d {0} \u53ea\u6b7b\u7075\u517d","summary.tech":"{0}","summary.upgrade":"{0}","summary.build":"\u5efa\u9020\u4e86 {0} \u4e2a {1}",
"summary.faith":"{1} {0} \u6b21","summary.craft":"\u5236\u4f5c\u4e86{0} \u4e2a {1}","summary.craftLeader":"\u5de5\u5320\u5236\u4f5c\u4e86 {0} \u4e2a {1}","summary.craftManuscript":"\u5c0f\u732b\u5077\u5077\u4f7f\u7528\u4e86 {0} \u6b21\u6750\u6599\u5408\u6210\u624b\u7a3f\uff0c\u4e3a\u4e86\u79d1\u5b66","summary.craftCompedium":"\u5c0f\u732b\u5077\u5077\u4f7f\u7528\u4e86 {0} \u6b21\u6750\u6599\u5408\u6210\u6982\u8981\uff0c\u4e3a\u4e86\u79d1\u5b66","summary.craftBlueprint":"\u5c0f\u732b\u5077\u5077\u4f7f\u7528\u4e86 {0} \u6b21\u6750\u6599\u5408\u6210\u84dd\u56fe\uff0c\u4e3a\u4e86\u79d1\u5b66",
"summary.trade":"{1} \u8d38\u6613\u4e86 {0} \u6b21","summary.year":"\u5e74","summary.years":"\u5e74","summary.separator":" ","summary.day":"\u5929","summary.days":"\u5929","summary.head":"\u4f60\u9192\u5566\uff0c\u8fd9\u662f\u732b\u56fd\u8fc7\u53bb {0} \u7684\u603b\u7ed3","summary.show":"\u5c0f\u732b\u603b\u7ed3"}},u=function(a,b){if("$"===a[0])return $I(a.slice(1));let c=va.zh[a];if("undefined"===typeof c)return E(a);if(b)for(a=0;a<b.length;a++)c=c.replace("{"+a+"}",b[a]);return c},l={debug:!1,interval:2E3,
msgcolor:"#aa50fe",summarycolor:"#009933",activitycolor:"#E65C00",stockwarncolor:"#DD1E00",copyTrait:!1,countdown:120,renderTime:0,consume:.6,auto:{infinity:{enabled:!1,allow:!1,items:{buildChronosphere:{enabled:!1,subTrigger:67,doneMark:!1},cryoFix:{enabled:!1,subTrigger:0,doneMark:!1},autohunt:{enabled:!1,subTrigger:0},autoTransform:{enabled:!1,subTrigger:0},autoCT:{enabled:!1,subTrigger:""},skiptime:{enabled:!1,subTrigger:4E4,doneMark:!1},autoReset:{enabled:!1}}},engine:{enabled:!1},unicorn:{items:{unicornPasture:{require:!1,
enabled:!0,variant:"zp",label:u("$buildings.unicornPasture.label"),checkForReset:!0,triggerForReset:-1},unicornTomb:{require:!1,enabled:!1,variant:"z",label:u("$religion.zu.unicornTomb.label"),checkForReset:!0,triggerForReset:-1},ivoryTower:{require:!1,enabled:!1,variant:"z",label:u("$religion.zu.ivoryTower.label"),checkForReset:!0,triggerForReset:-1},ivoryCitadel:{require:!1,enabled:!1,variant:"z",label:u("$religion.zu.ivoryCitadel.label"),checkForReset:!0,triggerForReset:-1},skyPalace:{require:!1,
enabled:!1,variant:"z",label:u("$religion.zu.skyPalace.label"),checkForReset:!0,triggerForReset:-1},unicornUtopia:{require:"gold",enabled:!1,variant:"z",label:u("$religion.zu.unicornUtopia.label"),checkForReset:!0,triggerForReset:-1},sunspire:{require:"gold",enabled:!1,variant:"z",label:u("$religion.zu.sunspire.label"),checkForReset:!0,triggerForReset:-1}}},faith:{enabled:!1,trigger:0,transcendCatnip:0,adoreCatnip:0,addition:{bestUnicornBuilding:{enabled:!0,misc:!0,label:u("option.faith.best.unicorn"),
confirm:0},autoPraise:{enabled:!0,misc:!0,label:u("option.praise"),subTrigger:.98,msg:0,time:0,expect:0},adore:{enabled:!0,misc:!0,label:u("option.faith.adore"),subTrigger:.001},transcend:{enabled:!0,misc:!0,label:u("option.faith.transcend")}},items:{marker:{require:"unobtainium",enabled:!1,max:-1,variant:"z",checkForReset:!0,triggerForReset:-1},unicornGraveyard:{require:!1,enabled:!1,max:-1,variant:"z",checkForReset:!0,triggerForReset:-1},unicornNecropolis:{require:!1,enabled:!1,max:-1,variant:"z",
checkForReset:!0,triggerForReset:-1},blackPyramid:{require:"unobtainium",enabled:!0,max:-1,variant:"z",checkForReset:!0,triggerForReset:-1},solarchant:{require:"faith",enabled:!0,max:-1,variant:"s",checkForReset:!0,triggerForReset:-1},scholasticism:{require:"faith",enabled:!0,max:3,variant:"s",checkForReset:!0,triggerForReset:-1},goldenSpire:{require:"faith",enabled:!0,max:-1,variant:"s",checkForReset:!0,triggerForReset:-1},sunAltar:{require:"faith",enabled:!0,max:-1,variant:"s",checkForReset:!0,
triggerForReset:-1},stainedGlass:{require:"faith",enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},solarRevolution:{require:"faith",enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},basilica:{require:"faith",enabled:!0,max:5,variant:"s",checkForReset:!0,triggerForReset:-1},templars:{require:"faith",enabled:!0,max:6,variant:"s",checkForReset:!0,triggerForReset:-1},apocripha:{require:"faith",enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},transcendence:{require:"faith",
enabled:!0,max:1,variant:"s",checkForReset:!0,triggerForReset:-1},blackObelisk:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blackNexus:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blackCore:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},singularity:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blackLibrary:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},
blackRadiance:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},blazar:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},darkNova:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1},holyGenocide:{require:!1,enabled:!1,max:-1,variant:"c",checkForReset:!0,triggerForReset:-1}}},build:{enabled:!1,trigger:0,items:{field:{require:"catnip",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},workshop:{require:"minerals",
enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},factory:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},hut:{require:"wood",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},logHouse:{require:"minerals",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},mansion:{require:"titanium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},steamworks:{require:!1,enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},magneto:{require:!1,enabled:!0,max:-1,checkForReset:!0,
triggerForReset:-1},reactor:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},smelter:{require:"minerals",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},calciner:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},mine:{require:"wood",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},lumberMill:{require:"minerals",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},oilWell:{require:"coal",enabled:!0,max:200,checkForReset:!0,triggerForReset:-1},
quarry:{require:!1,enabled:!0,max:300,checkForReset:!0,triggerForReset:-1},observatory:{require:"iron",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},academy:{require:"wood",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},biolab:{require:"science",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},library:{require:"wood",enabled:!0,max:-1,stage:0,checkForReset:!0,triggerForReset:-1},dataCenter:{require:!1,enabled:!0,max:150,stage:1,name:"library",checkForReset:!0,triggerForReset:-1},
pasture:{require:"catnip",enabled:!0,max:150,stage:0,checkForReset:!0,triggerForReset:-1},solarFarm:{require:"titanium",enabled:!0,max:-1,stage:1,name:"pasture",checkForReset:!0,triggerForReset:-1},aqueduct:{require:"minerals",enabled:!0,max:250,stage:0,checkForReset:!0,triggerForReset:-1},hydroPlant:{require:"titanium",enabled:!0,max:-1,stage:1,name:"aqueduct",checkForReset:!0,triggerForReset:-1},amphitheatre:{require:"minerals",enabled:!0,max:60,stage:0,checkForReset:!0,triggerForReset:-1},broadcastTower:{require:"titanium",
enabled:!0,max:-1,stage:1,name:"amphitheatre",checkForReset:!0,triggerForReset:-1},chapel:{require:"minerals",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},temple:{require:"gold",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},mint:{require:"gold",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},tradepost:{require:"gold",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},ziggurat:{require:!1,enabled:!0,max:110,checkForReset:!0,triggerForReset:-1},chronosphere:{require:"unobtainium",
enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},aiCore:{require:!1,enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},brewery:{require:!1,enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},barn:{require:"wood",enabled:!0,max:15,checkForReset:!0,triggerForReset:-1},harbor:{require:!1,enabled:!0,max:200,checkForReset:!0,triggerForReset:-1},warehouse:{require:!1,enabled:!0,max:200,checkForReset:!0,triggerForReset:-1},accelerator:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},
zebraOutpost:{require:"bloodstone",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},zebraWorkshop:{require:"bloodstone",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},zebraForge:{require:"bloodstone",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1}}},space:{enabled:!1,trigger:0,items:{spaceElevator:{require:"unobtainium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},sattelite:{require:"titanium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},spaceStation:{require:"oil",
enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},moonOutpost:{require:"uranium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},moonBase:{require:"unobtainium",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},planetCracker:{require:"science",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},hydrofracturer:{require:"science",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},spiceRefinery:{require:"science",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},researchVessel:{require:"titanium",
enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},orbitalArray:{require:"science",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},sunlifter:{require:"science",enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},containmentChamber:{require:"science",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},heatsink:{require:!1,enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},sunforge:{require:!1,enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},cryostation:{require:"eludium",
enabled:!0,max:-1,checkForReset:!0,triggerForReset:-1},spaceBeacon:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},terraformingStation:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},hydroponics:{require:"kerosene",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},hrHarvester:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},entangler:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},
tectonic:{require:"antimatter",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1},moltenCore:{require:"uranium",enabled:!1,max:-1,checkForReset:!0,triggerForReset:-1}}},time:{enabled:!1,trigger:0,items:{temporalBattery:{require:!1,enabled:!1,max:0,variant:"chrono",checkForReset:!0,triggerForReset:-1},blastFurnace:{require:!1,enabled:!1,max:-1,variant:"chrono",checkForReset:!0,triggerForReset:-1},timeBoiler:{require:!1,enabled:!1,max:-1,variant:"chrono",checkForReset:!0,triggerForReset:-1},temporalAccelerator:{require:!1,
enabled:!1,max:1,variant:"chrono",checkForReset:!0,triggerForReset:-1},temporalImpedance:{require:!1,enabled:!1,max:-1,variant:"chrono",checkForReset:!0,triggerForReset:-1},ressourceRetrieval:{require:!1,enabled:!1,max:-1,variant:"chrono",checkForReset:!0,triggerForReset:-1},temporalPress:{require:!1,enabled:!1,max:0,variant:"chrono",checkForReset:!0,triggerForReset:-1},cryochambers:{require:!1,enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},voidHoover:{require:"antimatter",
enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},voidRift:{require:!1,enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},chronocontrol:{require:"temporalFlux",enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1},voidResonator:{require:!1,enabled:!1,max:-1,variant:"void",checkForReset:!0,triggerForReset:-1}}},timeCtrl:{enabled:!1,items:{accelerateTime:{enabled:!0,subTrigger:1,misc:!0,label:u("option.accelerate")},timeSkip:{enabled:!0,subTrigger:300,
misc:!0,label:u("option.time.skip"),maximum:1,0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,spring:!0,summer:!1,autumn:!1,winter:!1,wait:!1,adore:!1,craft:!1,moonMsg:-1}}},craft:{enabled:!1,trigger:.95,items:{wood:{require:"catnip",max:0,limited:!0,limRat:.5,enabled:!0},beam:{require:"wood",max:0,limited:!0,limRat:.5,enabled:!0},slab:{require:"minerals",max:0,limited:!0,limRat:.5,enabled:!0},steel:{require:"coal",max:0,limited:!0,limRat:.5,enabled:!0},plate:{require:"iron",max:0,limited:!0,limRat:.5,
enabled:!0},alloy:{require:"titanium",max:0,limited:!0,limRat:.5,enabled:!0},concrate:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},gear:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},scaffold:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},ship:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},tanker:{require:!1,max:0,limited:!0,limRat:.5,enabled:!1},parchment:{require:!1,max:0,limited:!1,limRat:.5,enabled:!0},manuscript:{require:"culture",max:0,limited:!0,limRat:.5,enabled:!0},compedium:{require:"science",
max:0,limited:!0,limRat:.5,enabled:!0},blueprint:{require:"science",max:0,limited:!0,limRat:.5,enabled:!0},kerosene:{require:"oil",max:0,limited:!0,limRat:.5,enabled:!0},megalith:{require:!1,max:0,limited:!0,limRat:.5,enabled:!0},eludium:{require:"unobtainium",max:0,limited:!0,limRat:.5,enabled:!0},thorium:{require:"uranium",max:0,limited:!0,limRat:.5,enabled:!0}},autoConsume:{}},trade:{cache:!1,enabled:!1,trigger:.98,items:{dragons:{enabled:!0,require:"titanium",allowCapped:!1,limited:!0,summer:!1,
autumn:!0,winter:!0,spring:!0},zebras:{enabled:!0,require:!1,allowCapped:!1,limited:!0,summer:!0,autumn:!0,winter:!0,spring:!0},lizards:{enabled:!1,require:"minerals",allowCapped:!1,limited:!0,summer:!0,autumn:!1,winter:!1,spring:!1},sharks:{enabled:!0,require:"iron",allowCapped:!1,limited:!0,summer:!1,autumn:!1,winter:!0,spring:!1},griffins:{enabled:!0,require:"wood",allowCapped:!1,limited:!0,summer:!1,autumn:!0,winter:!1,spring:!1},nagas:{enabled:!0,require:!1,allowCapped:!1,limited:!0,summer:!1,
autumn:!1,winter:!1,spring:!0},spiders:{enabled:!0,require:!1,allowCapped:!1,limited:!0,summer:!0,autumn:!0,winter:!0,spring:!0},leviathans:{enabled:!0,require:"unobtainium",allowCapped:!0,limited:!0,summer:!0,autumn:!0,winter:!0,spring:!0}}},upgrade:{enabled:!1,items:{techs:{enabled:!0,limited:!0},upgrades:{enabled:!0,limited:!0,cache:!1},policies:{enabled:!1},races:{enabled:!0},missions:{enabled:!0,subTrigger:4},buildings:{enabled:!0}}},options:{catnipMsg:0,enabled:!0,items:{style:{enabled:!0,misc:!0,
label:u("option.style")},hunt:{enabled:!0,subTrigger:.96,require:"manpower",misc:!0,label:u("option.hunt")},buildEmbassies:{enabled:!0,subTrigger:.94,require:"culture",misc:!0,label:u("option.embassies")},festival:{enabled:!0,misc:!0,label:u("option.festival")},promote:{enabled:!0,misc:!0,label:u("option.promote")},autofeed:{enabled:!0,misc:!0,label:u("option.autofeed")},observe:{enabled:!0,misc:!0,label:u("option.observe")},filterGame:{enabled:!0,subTrigger:300,misc:!0,label:"\u6e38\u620f\u65e5\u5fd7\u8fc7\u6ee4"},
crypto:{enabled:!1,subTrigger:1E4,misc:!0,label:u("option.crypto")},fixCry:{enabled:!1,misc:!0,label:u("option.fix.cry")},saves:{enabled:!1,misc:!0,label:"\u5bfc\u51fa\u914d\u7f6e\u6587\u4ef6"},donate:{enabled:!1,misc:!0,label:"\u663e\u793a\u6350\u8d60\u539f\u4f5c\u8005\u56fe\u6807"},useWorkers:{enabled:!1,misc:!0,label:u("option.useWorkers")},wiki:{enabled:!1,misc:!0,label:"\u73c2\u5b66\u5bb6\u4f7f\u7528\u8bf4\u660e\u4e66\uff08\u767e\u79d1\u94fe\u63a5\ud83d\udc31\uff09"},autoScientists:{enabled:!1,
misc:!0,label:"\u9996\u6b21\u81ea\u542f\u73c2\u5b66\u5bb6"}}},distribute:{religion:!1,enabled:!1,items:{woodcutter:{enabled:!0,max:28,limited:!0},farmer:{enabled:!0,max:1,limited:!0},scholar:{enabled:!0,max:9,limited:!0},hunter:{enabled:!0,max:24,limited:!0},miner:{enabled:!0,max:25,limited:!0},priest:{enabled:!0,max:3,limited:!1},geologist:{enabled:!0,max:40,limited:!0},leader:{enabled:!0,leaderJob:"woodcutter",leaderTrait:"manager"}}},filter:{enabled:!1,console:{},items:{buildFilter:{enabled:!1,
label:u("filter.build")},researchFilter:{enabled:!1,label:u("filter.research")},upgradeFilter:{enabled:!1,label:u("filter.upgrade")},craftFilter:{enabled:!1,label:u("filter.craft")},spaceFilter:{enabled:!1,label:u("filter.space")},policyFilter:{enabled:!1,label:u("filter.policy")},upgBldFilter:{enabled:!1,label:u("filter.upgBld")},tradeFilter:{enabled:!1,label:u("filter.trade")},embassyFilter:{enabled:!1,label:u("filter.embassy")},huntFilter:{enabled:!1,label:u("filter.hunt")},unicornSacrificeFilter:{enabled:!1,
label:u("filter.sacrifice")},faithBuildFilter:{enabled:!1,label:u("filter.faithBld")},faithFilter:{enabled:!1,label:u("filter.praise")},adoreFilter:{enabled:!1,label:u("filter.adore")},transcendFilter:{enabled:!1,label:u("filter.transcend")},accelerateFilter:{enabled:!1,label:u("filter.accelerate")},tcShatterFilter:{enabled:!1,label:u("filter.time.skip")},festivalFilter:{enabled:!1,label:u("filter.festival")},astronomicalEventFilter:{enabled:!1,label:u("filter.star")},distributeFilter:{enabled:!1,
label:u("filter.distribute")},leaderFilter:{enabled:!1,label:u("filter.leader")},miscFilter:{enabled:!1,label:u("filter.misc")}}},resources:{furs:{enabled:!0,stock:350,checkForReset:!1,stockForReset:Infinity},coal:{enabled:!0,stock:0,consume:1},timeCrystal:{enabled:!1,stock:0,checkForReset:!0,stockForReset:5E5}},policies:[],cache:{dataTimer:{},cacheSum:{},resources:{},trait:{},upgrade:void 0,science:"",resUpg:{},stocks:void 0}}};if(1E8<game.resPool.get("timeCrystal").value&&7E5<game.resPool.get("burnedParagon").value&&
8E9<game.resPool.get("unobtainium").value||1E100<game.resPool.get("timeCrystal").value)l.auto.infinity.allow=!0;l.auto.infinity.allow||(l.auto.infinity.enabled=!1);let h=game.resPool.resourceMap;const oa=function(a){var b=a[1],c=l.auto.filter;if(c.enabled&&b&&(b=c.items[b])&&b.enabled)return;b=a.pop();a[1]=a[1]||"ks-default";c=game.msg.apply(game,a);$(c.span).css("color",b);l.debug&&console&&console.log(a)},Y=function(){let a=Array.prototype.slice.call(arguments);a.push("ks-default");a.push(l.msgcolor);
oa(a)},Z=function(){let a=Array.prototype.slice.call(arguments),b=1<a.length?a.pop():"miscFilter";a.push(b);a.push(l.activitycolor);oa(a)},wa=function(){const a=Array.prototype.slice.call(arguments);a.push("ks-summary");a.push(l.summarycolor);oa(a)},ka=function(){const a=Array.prototype.slice.call(arguments);a.unshift("Warning!");console&&console.log(a)},N=function(a,b,c){Y(u(a,b),c)},L=function(a,b,c){Z(u(a,b),c)},la=function(a,b,c){wa(u(a,b),c)},xa=a=>{var b=l.auto.cache;b.upgrade||(b.upgrade={});
b=b.upgrade;for(let c in a){b[c]||(b[c]=[]);let d=b[c];for(let f in a[c]){let e=a[c][f];-1===d.indexOf(e)&&d.push(e)}}};let P=a=>{a=h[a];return a.value/a.maxValue};const Ma=function(){this.upgradeManager=new Ka;this.buildManager=new Ba;this.spaceManager=new Ca;this.craftManager=new ha;this.bulkManager=new ma;this.tradeManager=new La;this.religionManager=new Da;this.timeManager=new Ea;this.villageManager=new ca("Village");this.cacheManager=new Fa};Ma.prototype={upgradeManager:void 0,buildManager:void 0,
spaceManager:void 0,craftManager:void 0,bulkManager:void 0,tradeManager:void 0,religionManager:void 0,timeManager:void 0,villageManager:void 0,cacheManager:void 0,now:void 0,loop:void 0,huntID:void 0,renderID:void 0,worker:void 0,toolText:void 0,leaderTimer:void 0,leader:0,time:void 0,start:function(a=!0){l.interval=100*Math.ceil(100/game.getTicksPerSecondUI());if(game.isWebWorkerSupported()&&game.useWorkers&&l.auto.options.items.useWorkers.enabled){if(!this.worker){var b=new Blob(["onmessage = function(e) { setInterval(function() {postMessage('miaowu')}, '"+
l.interval+"' ); }"]);b=window.URL.createObjectURL(b);this.worker=new Worker(b);this.worker.addEventListener("message",this.iterate.bind(this));this.worker.postMessage("miaowu");a&&Y("\u540e\u53f0\u73c2\u5b66\u5bb6\u4e0a\u949f\u4e86~ \uff1e\u25bd\uff1c")}}else this.loop||(this.loop=setInterval(this.iterate.bind(this),l.interval),a&&N("status.ks.enable"))},stop:function(a=!0){game.isWebWorkerSupported()&&this.worker&&(a&&Y("\u540e\u53f0\u73c2\u5b66\u5bb6\u722a\u5df4\u4e86"),this.worker.terminate(),
this.worker=void 0);this.loop&&(clearTimeout(this.huntID),clearTimeout(this.renderID),clearInterval(this.loop),this.loop=void 0,a&&N("status.ks.disable"))},iterate:async function(){if(game.mobileSaveOnPause&&!game.loadingSave&&!game.isPaused){var a=0;this.time=performance.now();var b=l.auto,c=b.options;c.enabled&&c.items.observe.enabled&&this.observeStars();c.enabled&&this.holdFestival();b.timeCtrl.enabled&&(a+=~~this.timeCtrl());c.enabled&&c.items.autofeed.enabled&&this.autofeed();b.trade.enabled&&
this.trade();b.upgrade.enabled&&(a+=~~this.upgrade());b.build.enabled&&(a+=~~this.build());b.space.enabled&&(a+=~~this.space());b.faith.enabled&&(a+=~~this.worship());(0<a||b.cache.upgrade)&&this.gameUpgrade();b.craft.enabled&&this.craft();c.enabled&&c.items.hunt.enabled&&this.delay();b.time.enabled&&(a+=~~this.chrono());c.enabled&&c.items.crypto.enabled&&this.crypto();l.copyTrait&&this.setTrait();c.enabled&&c.items.promote.enabled&&this.promote();c.enabled&&(a+=~~this.miscOptions());b.distribute.enabled&&
(a+=~~this.distribute());0<a&&this.delay("render");this.calculateTime();a=l.auto.infinity;b=a.items;a.enabled&&b.skiptime.enabled&&!b.skiptime.doneMark&&this.skiptime();a.enabled&&b.autoCT.enabled&&this.autoCT();a.enabled&&b.autoTransform.enabled&&this.autoTransform();a.enabled&&b.autohunt.enabled&&this.autohunt();a.enabled&&b.buildChronosphere.enabled&&!b.buildChronosphere.doneMark&&this.buildChronosphere();a.enabled&&b.cryoFix.enabled&&!b.cryoFix.doneMark&&this.cryoFix();a.enabled&&b.autoReset.enabled&&
await this.infinityReset()}},autoCT:async function(){if(Infinity!==game.resPool.get("timeCrystal").value)l.auto.infinity.items.autoCT.enabled&&$("#toggle-autoCT").click(),Y("\u65e0\u9650\u5965\u79d8\uff1a\u65f6\u95f4\u6c34\u6676\u592a\u5c11");else if(subTrigger=l.auto.infinity.items.autoCT.subTrigger.split("-"),3!==subTrigger.length)l.auto.infinity.items.autoCT.enabled&&$("#toggle-autoCT").click(),Y("\u65e0\u9650\u5965\u79d8\uff1a\u89e6\u53d1\u503c\u8bbe\u7f6e\u9519\u8bef");else{var a=game.religionTab.ctPanel.children[0].children[parseInt(subTrigger[0])];
if(a&&a.model.visible)if(a.model.metadata.val>=parseInt(subTrigger[2]))l.auto.infinity.items.autoCT.enabled&&$("#toggle-autoCT").click(),Y("\u65e0\u9650\u5965\u79d8\uff1a"+a.model.metadata.label+" \u4ee5\u8fbe\u5230 "+a.model.metadata.val);else{if(a.model.metadata.upgrades){var b=a.model.metadata.upgrades;delete a.model.metadata.upgrades}for(var c=game.religionTab.refineTCBtn,d=Math.floor(Number.MAX_VALUE/25),f=Math.min(parseInt(subTrigger[1]),parseInt(subTrigger[2])-a.model.metadata.val),e=0,g=0;e<
f&&1E4>g;g++)Infinity==game.resPool.get("relic").value&&(e+=a.controller.build(a.model,1)),c.controller._transform(c.model,d);$("#clearLogHref").click();b&&(a.model.metadata.upgrades=b);K(a.model.metadata.label,e,"faith")}else l.auto.infinity.items.autoCT.enabled&&$("#toggle-autoCT").click(),Y("\u65e0\u9650\u5965\u79d8\uff1a"+subTrigger[0]+" \u5bf9\u5e94\u7684\u5965\u79d8\u795e\u5b66\u672a\u89e3\u9501\u3002")}},skiptime:async function(){if(1E100>game.resPool.get("timeCrystal").value)l.auto.infinity.items.skiptime.enabled&&
$("#toggle-skiptime").click(),Y("\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff1a\u65f6\u95f4\u6c34\u6676\u592a\u5c11");else if(game.workshop.get("chronoforge").researched){var a=game.calendar.year;if(a>=Math.pow(2,62))l.auto.infinity.items.skiptime.doneMark=!0,Y("\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff1a\u6e38\u620f\u65e5\u5386\u5e74\u4ee5\u8fbe\u5230\u6700\u5927\u503c");else{var b=game.timeTab.cfPanel.children[0].children[0];if(game.time.heat<=game.getEffect("heatMax"))b.controller.doShatterAmt(b.model,
500);else{var c=Math.min(l.auto.infinity.items.skiptime.subTrigger,Math.pow(2,62));c-=a;0<c?(b.controller.doShatterAmt(b.model,c),K("time.skip",c)):(l.auto.infinity.items.skiptime.doneMark=!0,Y("\u71c3\u70e7\u65f6\u95f4\u6c34\u6676\uff1a\u6e38\u620f\u65e5\u5386\u5e74\u4ee5\u8fbe\u5230\u8bbe\u5b9a\u503c"))}}}},autohunt:async function(){if(!(0<game.resPool.get("furs").value&&0<game.resPool.get("ivory").value&&0<game.resPool.get("unicorns").value)){var a=l.auto.infinity.items.autohunt.subTrigger;if(a=
Infinity==game.resPool.get("manpower").value?Math.floor(Number.MAX_VALUE/100):0<a?Math.floor(game.resPool.get("manpower").value*a/100):Math.floor(game.resPool.get("manpower").value/1E20))game.resPool.addResEvent("manpower",100*-a),game.village.gainHuntRes(a)}},autoTransform:async function(){if(Infinity!=game.resPool.get("relic").value){var a=game.resPool.get("timeCrystal").value;if(1E100>a)l.auto.infinity.items.autoTransform.enabled&&$("#toggle-autoTransform").click(),Y("\u65e0\u9650\u9057\u7269\uff1a\u65f6\u95f4\u6c34\u6676\u592a\u5c11");
else{var b=game.religionTab.refineTCBtn;if(void 0!=b){var c=l.auto.infinity.items.autoTransform.subTrigger;b.controller._transform(b.model,Infinity==a?Math.floor(Number.MAX_VALUE/25):0<c?Math.floor(a*c/25):Math.floor(a/1E20))}}}},cryoFix:async function(){if(game.workshop.get("chronoforge").researched&&game.workshop.get("turnSmoothly").researched){var a=game.timeTab.vsPanel.children[0].children,b=game.time.getVSU("cryochambers"),c=game.time.getVSU("usedCryochambers").on,d=a[1].model,f=gamePage.challenges.getChallenge("postApocalypse").on;
if(!b.val&&l.auto.infinity.items.cryoFix.subTrigger>c)if(1==game.religion.getHGScalingBonus()){var e=Math.min(l.auto.infinity.items.cryoFix.subTrigger-c,Math.floor(Math.log(1/d.prices[0].val)/Math.log(b.priceRatio)));if(game.bld.get("chronosphere").on+f<e&&void 0==this.buildChronosphere(e-f))return;for(var g=0;g<e;g++)a[1].controller.buyItem(d,{},function(){})}else Y("\u51b7\u51bb\u4ed3\uff1a\u5df2\u5f00\u542f\u795e\u5723\u706d\u7edd\uff0c\u4e0d\u65b0\u5efa\u51b7\u51bb\u4ed3");c=b.val+c;f=c-f;if(void 0!=
this.buildChronosphere(f)){g=game.timeTab.cfPanel.children[0].children[0];d=game.resPool.get("temporalFlux").maxValue-game.resPool.get("temporalFlux").value;0<d&&(f=Math.ceil(d/f),game.time.heat<=game.getEffect("heatMax")&&(f=Math.min(f,500)),g.controller.doShatterAmt(g.model,f),K("time.skip",f));f=Math.floor(game.resPool.get("temporalFlux").value/3E3);for(g=0;g<Math.min(f,a[2].model.on);g++)a[0].controller.buyItem(a[0].model,{},function(){});K("fix.cry",g);b.on==c&&game.resPool.get("temporalFlux").maxValue==
game.resPool.get("temporalFlux").value&&(game.village.sim.kittens.length<c?Y("\u7f3a\u5c11\u732b\u732b"):l.auto.infinity.items.cryoFix.doneMark=!0)}}else Y("\u68c0\u67e5 \u65f6\u95f4\u953b\u9020 \u548c \u65f6\u95f4\u6ce2\u52a8 \u662f\u5426\u89e3\u9501")},buildChronosphere:function(a){a=void 0==a?l.auto.infinity.items.buildChronosphere.subTrigger:a;l.auto.build.items.chronosphere.max=a;if(game.bld.get("chronosphere").on<a){var b=a-game.bld.get("chronosphere").on,c=this.readyChronosphereRes(b);switch(c){case "Infinity":l.auto.build.items.chronosphere.max=
-1;return;case "done":break;case "manager":return;case "nagas":Y("\u5229\u7ef4\u5766\u63d0\u524d\u5230\u6765\u5bfc\u81f4\u8d38\u6613\u6807\u7b7e\u65e0\u6cd5\u89e3\u9501\uff0c\u8bf7\u624b\u52a8\u5237\u65b0\u754c\u9762");return;case "manpower":Y("\u4f20\u9001\u4eea\uff1a\u55b5\u529b\u4e0d\u8db3\u4ee5\u5728\u6253\u730e\u540e\u548c\u5a1c\u8fe6\u4ea4\u6613\u83b7\u5f97\u8db3\u591f\u7684\u84dd\u56fe");return;default:N("ui.infinity.chronosphere",[game.resPool.get(c).title,b]);return}}if(void 0==a)l.auto.infinity.items.buildChronosphere.doneMark=
!0;else return"done"},readyChronosphereRes:function(a){a=game.bld.getPrices("chronosphere",a);var b=0,c;for(c in a)b+=Infinity==game.resPool.get(a[c].name).value?1:0;if(b==a.length)return"Infinity";if("manager"!==game.village.leader.trait.name)return $("#toggle-leaderTrait-manager").click(),"manager";b=game.diplomacy.get("nagas");if(!b.unlocked)return"nagas";for(c in a)if("blueprint"===a[c].name){var d=10*(a[c].val-game.resPool.get("blueprint").value);if(0<d){if(Infinity!=game.resPool.get("ivory").value){var f=
Infinity==b.buys[0].val*d?1E307:b.buys[0].val*d-game.resPool.get("ivory").value,e=game.getEffect("hunterRatio")+game.village.getEffectLeader("manager",0);f/=e;if(0<f)if(0<game.resPool.get("manpower").value-100*f-d*game.diplomacy.getManpowerCost())game.resPool.addResEvent("manpower",100*-f),game.village.gainHuntRes(f);else return"manpower"}game.diplomacy.tradeAll(b)}}else if(!(game.resPool.get(a[c].name).value/10>a[c].val))return a[c].name;return"done"},infinityReset:async function(){var a=l.auto.infinity.items,
b=0,c=0,d;for(d in a)if(void 0!=a[d].doneMark&&a[d].enabled)if(b++,a[d].doneMark)c++;else return;c==b&&(game.workshop.get("fluxCondensator").researched?game.time.getVSU("usedCryochambers").on?Y("\u6709 \u7528\u8fc7\u7684\u51b7\u51bb\u4ed3 \u4e0d\u5141\u8bb8\u91cd\u7f6e"):game.bld.get("chronosphere").on<l.auto.infinity.items.buildChronosphere.subTrigger?Y("\u4f20\u9001\u4eea\u6570\u91cf < \u4fee\u5efa\u4f20\u9001\u4eea\u89e6\u53d1\u503c \u4e0d\u5141\u8bb8\u91cd\u7f6e"):game.resetAutomatic():Y("\u901a\u91cf\u51b7\u51dd\u5668 \u672a\u89e3\u9501\u4e0d\u5141\u8bb8\u91cd\u7f6e"))},
delay:function(a){if(a){let b=dojo.byId("tooltip").textContent;b=b.slice(0,Math.ceil(.4*b.length));if(l.renderTime+6E5<Date.now()||this.toolText!==b)this.renderID=setTimeout(()=>{"Nummon"!==game.ui.activeTabId&&(l.renderTime=Date.now(),this.toolText=b,game.ui.render())},Math.min(197,197-Date.now()+game.timer.timestampStart));game.updateResources()}else this.huntID=setTimeout(()=>{this.hunt()},.5*l.interval)},reset:async function(){},timeCtrl:function(){var a=l.auto.timeCtrl.items,b=0;if(a.accelerateTime.enabled&&
game.science.get("calendar").researched){var c=h.temporalFlux;c.value>=Math.max(c.maxValue*a.accelerateTime.subTrigger,1)&&!game.time.isAccelerated&&(game.time.isAccelerated=!0,L("act.accelerate",[],"accelerateFilter"),K("accelerate",1));l.interval!==100*Math.ceil(100/game.getTicksPerSecondUI())&&(R.stop(!1),l.auto.engine.enabled&&(2E3===l.interval?L("act.accelerate.acl"):L("act.accelerate.slow"),R.start(!1)))}a:if(a.timeSkip.enabled&&game.workshop.get("chronoforge").researched){c=h.timeCrystal.value;
var d=a.timeSkip.maximum,f=game.getEffect("heatMax"),e=game.time.heat;if(!d)return 0;let x=game.challenges.getChallenge("1000Years").researched?5:10;if(e-15*game.getEffect("heatPerTick")<.9*f){var g=50/x*game.getEffect("heatPerTick")/game.getTicksPerSecondUI();3<g&&(g=50);d=Math.ceil(Math.max(g,d))}var k=Math.max(a.timeSkip.subTrigger,this.craftManager.getStock("timeCrystal"),d);g=game.calendar.cycle;var m=game.calendar.year,p=game.calendar.day;if(!(c<k||0>p||!a.timeSkip[g]||e>=f)){p=game.prestige.getPerk("numerology").researched;
if(5===g&&a.timeSkip[g]&&p&&game.nummon){k=game.nummon.getTradeTC();var q=game.calendar.cycleEffectsFestival({unobtainium:1}).unobtainium,v=game.calendar.cycleEffectsBasics({unobtainiumPerTickSpace:1},"moonOutpost").unobtainiumPerTickSpace,n=(56.5+12*game.getEffect("festivalRatio"))/50;let w=game.calendar.cycleYear;if(1>k*n/(q*v)||.02>game.getEffect("heatPerTick")){w!==a.timeSkip.moonMsg&&(a.timeSkip.moonMsg=w,L("summary.time.skip.moon",[1]),K("time.skip.moon",1));break a}}k=game.timeTab.cfPanel.children[0].children[0];
if(!k.model.enabled)return k.controller.updateEnabled(k.model);q=game.calendar.season;v=a.timeSkip.wait;n=1>=game.getEffect("shatterTCGain")*(1+game.getEffect("rrRatio"))&&!1!==v&&5===g;if(!a.timeSkip[game.calendar.seasons[q].name]||n)if(1===v&&5===g){a.timeSkip.wait=game.calendar.year;break a}else if(!1===v||v===m||1===v)break a;else v!==m&&(a.timeSkip.wait=!1);m=4*d*x;m=game.time.heat>game.getEffect("heatMax")-Math.min(m,20*game.time.getCFU("blastFurnace").on+20);a.timeSkip[5]&&p&&!1===a.timeSkip.wait&&
m&&(a.timeSkip.wait=1,L("summary.moon",[1]),K("moon",1));p=game.calendar.yearsPerCycle;q=p-game.calendar.cycleYear;m=game.calendar.cyclesPerEra;f=Math.min(Math.floor((f-e)/x),d);d=0;if(f<q)d=f;else{d+=q;f-=q;for(e=1;f>p&&a.timeSkip[(g+e)%m];)d+=p,f-=p,e+=1;a.timeSkip[(g+e)%m]&&0<f&&(d+=f)}if(0<d){d=Math.min(d,Math.max(2500,25*game.getEffect("temporalPressCap")));if(game.time.getCFU("ressourceRetrieval").val&&(a.timeSkip.adore=!0,l.auto.options.items.hunt.time=!0,a=a.timeSkip,!a.craft)){let w="";"catnip coal iron oil uranium science".split(" ").forEach(t=>
{l.auto.craft.autoConsume[t]=!0;w=w+h[t].title+"\uff0c"});a.craft=!0;Z(u("summary.resource",[w]))}a=game.calendar.year;b=game.time.testShatter;1<d&&50>d&&(game.time.testShatter=2,E("lag",!1,"noFilter"));this.setTrait();k.controller.doShatterAmt(k.model,d);game.time.testShatter=b;d=game.calendar.year-a;if(!d)return;K("timeCrystal",c-h.timeCrystal.value,"resConsume");b=-100;L("act.time.skip",[d],"tcShatterFilter");K("time.skip",d)}}}return b},promote:function(){var a=game.village;let b=a.leader;if(game.science.get("civil").researched&&
b){var c=l.auto.distribute.items.leader,d=600<this.leaderTimer;c.enabled&&b.trait.name===c.leaderTrait||d?(d||(b.exp+=.1+5*game.getEffect("skillXP")),c=b.rank,d=this.craftManager.getValueAvailable("gold",!0),a.sim.goldToPromote(c,c+1,d)[0]&&1===a.sim.promote(b,c+1)&&b.rank>=this.leader&&(a=game.villageTab.censusPanel.census,L("act.promote",[c+1,25+25*c],"leaderFilter"),a.renderGovernment(a.container),a.update(),this.leader=b.rank,this.leaderTimer=0,K("gold",25+25*c,"resConsume"),K("promote",1),E("changeLeader",
!0))):this.leaderTimer++}},distribute:function(){const a=l.auto.distribute.items;var b=a.leader;let c=0,d=game.village;var f=d.sim,e=f.kittens,g=e.length;let k=game.challenges.isActive("anarchy"),m=game.religion.transcendenceTier;var p=d.getFreeKittens(),q=h.catnip,v=d.happiness,n=h.kittens.value,x=this.craftManager.getPotentialCatnip(!1);n=x<=.85*v&&4>n||0>h.catnip.value+4E3*(x-.85*(v*!k-1))||0===d.jobs[1].value&&a.farmer.enabled;v=l.auto.distribute;q=v.religion||n&&q.value<=q.maxValue;if(b.enabled&&
game.science.get("civil").researched&&!k&&!l.copyTrait){let C=b.leaderTrait;b=b.leaderJob;n=d.leader;("woodcutter"===b||"farmer"===b)&&"manager"===C&&6<m&&d.getJob("priest").unlocked&&(b="priest",n&&"priest"!==n.job&&E("leaderPriest"));if(null===n&&g)return game.villageTab.censusPanel.census.makeLeader(e[0]);x=!1;l.auto.upgrade.items.policies.enabled&&(x=void 0===l.policies?!1:l.policies.some(z=>"theocracy"===z));if(x||game.science.getPolicy("theocracy").researched)b="priest";x=d.getJob(b);if(null==
n||n.job!==b||n.trait.name!==C)n=e.filter(z=>z.trait.name===C),0!==n.length&&x.unlocked&&x.value<d.getJobLimit(b)&&(n=n.sort(function(z,A){return 0===A.rank-z.rank?A.exp-z.exp:A.rank-z.rank})[0],"farmer"===n.job&&(game.village.sim.removeJob("scholar",1),p=d.getFreeKittens()),d.unassignJob(n),n.job=b,d.getJob(b).value++,game.villageTab.censusPanel.census.makeLeader(n),c+=1,L("act.distributeLeader",[u("$village.trait."+C)],"distributeFilter"),K("distribute",1))}n=d.jobs[4];b=d.getJob("woodcutter").value;
if(!p)if(l.auto.distribute.items.miner.enabled&&n.unlocked&&!n.value&&1<b&&g&&f.removeJob("woodcutter"),q&&2<b&&game.science.get("agriculture").researched)for(f=g-1;0<f;f--){if(g=e[f],!g.isLeader&&"farmer"!==g.job){d.unassignJob(g);p=d.getFreeKittens();break}}else return c;if(q&&game.science.get("agriculture").researched)return v.religion=!1,d.assignJob(d.getJob("farmer"),1),L("act.distribute.catnip",[],"distributeFilter"),L("act.distribute",[u("$village.job.farmer")],"distributeFilter"),game.villageTab.updateTab(),
d.updateResourceProduction(),K("catnip",1),1;e="";f=Infinity;x=0;g=game.religion.getSolarRevolutionRatio();p=l.auto.faith.addition.autoPraise.expect;v=game.workshop.get("spaceManufacturing").researched||game.challenges.isActive("blackSky")&&game.workshop.get("orbitalGeodesy").researched||h.unobtainium.value&&m;p=p&&5<p&&g<.3*p&&d.jobs[5].unlocked&&!k;for(q=d.jobs.length-1;0<=q;q--)if(x=d.jobs[q],x.unlocked&&(n=x.name,"engineer"!==n)){var w=a[n];if(w.enabled){var t=d.getJobLimit(n);x=x.value;if(!(x>=
t)){t=Math.max(0,w.max);w=w.limited;if("hunter"===n){var r=game.getEffect("manpowerJobRatio");let C=.75>=r&&!game.science.get("navigation").researched;.5>r?t=10<d.maxKittens?2:0:C||p?(t=Math.round(.42*t),!p&&!M.other["auto.hunter"]&&x>=t-1&&(r=game.msg($I("village.job.hunter.flavor"),null,null,!0),$(r.span).css("color","#ff589c"),E("hunter"))):E("hunter",!0)}else game.challenges.isActive("atheism")&&(w=!1);"geologist"===n&&(r=game.workshop.get("geodesy").researched,7<m&&!k&&(t=Math.min(t,30)),!r&&
50>h.iron.perTickCached&&(t=Math.round(.5*t),.97<P("coal")&&(t=0)),7>m&&r&&(t=Math.max(50,t),40<=x&&50>x&&!E("geologist")&&($("#set-geologist-max")[0].innerText=u("ui.max",[Math.ceil(t)]))),game.science.get("mechanization").unlocked||r||(t=1),1E5<h.starchart.value&&!game.diplomacyTab.visible&&(t=1),b||(t=0));"scholar"===n&&w&&(r=.3,!game.getEffect("shatterTCGain")&&v&&g&&(r=.6),P("science")>r&&x||!b?t=0:.3<r&&(t=Math.max(t,24),x<t&&E("scholar")));"miner"===n&&(game.science.get("writing").researched||
(t=Math.round(.3*t)),game.workshop.get("geodesy").researched||(t=Math.round(.9*t)));"priest"===n&&(w&&3===t&&(w=!1,E("defaultPriest")),1E4<h.starchart.value&&3>g&&(t=Math.max(t,20)),!g&&3<m&&3===t&&3>x&&(x=0),b||(w=!0,t=0));if(!w||x<t)x/=t,x<f&&(f=x,e=n)}}}e&&(d.assignJob(d.getJob(e),1),c=1,L("act.distribute",[u("$village.job."+e)],"distributeFilter"),K("distribute",1));if(c)return game.villageTab.updateTab(),d.updateResourceProduction(),1},autofeed:function(){const a=game.diplomacy.get("leviathans"),
b=h.necrocorn;a.unlocked&&0<b.value&&a.energy!==game.diplomacy.getMarkerCap()&&(1<=b.value?(game.diplomacy.feedElders(),L("act.feed",[],"unicornSacrificeFilter"),K("feed",1)):1>.25*(1+game.getEffect("corruptionBoostRatio"))&&(K("feed",b.value),game.diplomacy.feedElders(),L("dispose.necrocorn")))},crypto:function(){let a=game.calendar.cryptoPrice;var b=h.relic.value,c=h.blackcoin.value;if(!(!game.science.get("blackchain").researched&&0< !c||!game.diplomacy.get("leviathans").unlocked)){var d=null==
l.auto.options.items.crypto.subTrigger?"1e6-860-1060":l.auto.options.items.crypto.subTrigger.toString().split("-"),f=parseFloat(d[0]),e=parseFloat(d[1]),g=parseFloat(d[2]);if(3!==d.length||!f||!e||!g)return f||=1E6,l.auto.options.items.crypto.subTrigger=f+"-881-1060",Q();a<e&&b>f?(game.diplomacy.buyBcoin(),c=game.getDisplayValueExt(h.blackcoin.value-c),L("blackcoin.buy",[c,game.getDisplayValueExt(b)],"tradeFilter"),K("blackcoin.buy",1)):a>g&&0<h.blackcoin.value&&(game.diplomacy.sellBcoin(),b=game.getDisplayValueExt(h.relic.value-
b),L("blackcoin.sell",[b,game.getDisplayValueExt(c)],"tradeFilter"),K("blackcoin.sell",1))}},worship:function(){var a=l.auto.faith.items,b=this.buildManager,c=this.craftManager,d=this.religionManager,f=l.auto.faith.addition,e=game.religion;let g=0;var k=game.prestige.getPerk("voidOrder").researched,m=game.prestige.getParagonProductionRatio(),p=game.time.getCFU("ressourceRetrieval").val;if(f.bestUnicornBuilding.enabled){var q=this.getBestUnicornBuilding(),v=game.bld.getBuildingExt("ziggurat").meta.on,
n=h.tears.value,x=h.unicorns.value,w=e.getZU("blackPyramid"),t=e.getZU("sunspire").on,r=game.prestige.getPerk("renaissance").researched;if(q&&(!r||!n||30<v)){r=!n&&1E3<=x&&v&&!game.ironWill;var C=w.getEffectiveValue(game);w=a.blackPyramid.enabled&&w.unlocked;if(w=1<t&&5>h.sorrow.value&&!C&&5E3<h.unobtainium.maxValue&&w)E("bls"),1E4<=h.tears.value&&(h.tears.value-=1E4,h.sorrow.value+=1,Z("\u5c0f\u55b5\u628a\u773c\u6cea\u70bc\u6210\u60b2\u4f24"));if("unicornPasture"!==q.name||r||w){if(r){var z=1;E("tear")}else{var A=
dojo.clone(q.prices);for(b=0;b<A.length;b++){var D=A[b];D.val*=Math.pow(1.15,q.on);"tears"===D.name&&(D.val+=c.getStock("tears")+.01,z=D.val);"gold"===D.name&&(D.val*=1-game.getEffect("goldCostReduction"))}}C&&(a.marker.enabled&&(C=e.getZU("marker").on,b=5E3*Math.pow(1.15,C),n<b&&t>Math.min(9+C,19)&&(z=Math.min(b,z))),1>game.calendar.day&&!game.calendar.season&&.1>Math.random()&&(game.diplomacy.unlockElders(),game.diplomacy.updateTab()));z=w?1E4:z;if(z>n&&(t=Math.floor((x-c.getStock("unicorns"))/
2500),n=Math.ceil((z-n)/v),n<=t)){z=game.religionTab.sacrificeBtn;if(!z||!z.model)return game.religionTab.render();t=z.model.prices[0].val*n;x>t&&(x=v*n,C=z.controller.controllerOpts,game.resPool.addResEvent(z.model.prices[0].name,-t),game.resPool.addResEvent(C.gainedResource,x),game.stats.getStat("unicornsSacrificed").val+=t,K("unicorns",t,"resConsume"),K("tears",x,"resGain"),x=game.getDisplayValueExt(x),t=game.getDisplayValueExt(t),game.msg($I(C.logTextID,[t,x]),"notice",C.logfilterID),Z(u("unicornSacrifice",
[game.getDisplayValueExt(n),x]),"unicornSacrificeFilter"))}!r&&!w&&game.resPool.hasRes(A)&&v&&(d.build(q.name,"z",1),g=1)}else x>=2*Math.pow(q.priceRatio+game.getEffect("priceRatio"),q.val)&&b.built(q.name,void 0,1)}}else{if(!h.alicorn.unlock||2>f.bestUnicornBuilding.confirm)$("#toggle-bestUnicornBuilding").click(),f.bestUnicornBuilding.confirm+=1;l.auto.unicorn.items.unicornPasture.enabled&&this.build({unicornPasture:{require:!1,enabled:!0}});var G=JSON.parse(JSON.stringify(l.auto.unicorn.items));
G=Object.assign(G,l.auto.faith.items);delete G.unicornPasture}g+=this._worship(G||a);a=c.getResource("faith");c=P("faith");var F=e.getRU("transcendence"),B=F.on,J=e.transcendenceTier,y=B?J:0;d=e.faith;w=e.faithRatio;G=e.getSolarRevolutionRatio();var H=game.getEffect("solarRevolutionLimit");n=10+H;z=d/1E6*(y+1)*(y+1)*1.01;q=.01+a.value*(1+.1*game.getUnlimitedDR(w+z,.1));C=game.getLimitedDR(game.getUnlimitedDR(q,1E3)/100,n);q=!1;v=f.autoPraise.enabled;let V=f.adore.enabled;b=(A=l.auto.timeCtrl.items.timeSkip.adore)&&
v&&V;r=f.autoPraise.subTrigger;var U=game.space.getBuilding("moonOutpost").val;D=U&&1E5<=d;var S=e.getRU("apocripha").on;D=D&&S&&(y||!w&&2E5<d)&&V;x=.98>r;t=M.adore[0];U&&D&&x&&r&&(f.autoPraise.subTrigger=.98);if(Math.min(.999,Math.max(.98,r))<=c||b){if(f.transcend.enabled&&B){var O;B=e._getTranscendTotalPrice(y+1)-e._getTranscendTotalPrice(y);B=this.catnipForReligion(B);B=0<=B||0>B&&0<h.catnip.value+4E3*B;10<y&&(O=1);for(11>y&&U&&1E5<d&&S&&B&&(O=4);O;){w=e.faithRatio;y=e.transcendenceTier;B=Math.pow((y+
2)/(y+1),2);S=U=e._getTranscendTotalPrice(y+1)-e._getTranscendTotalPrice(y);var W=e.getTU("blackObelisk").val;B*=(5*(y+1)*W+1E3)/(5*y*W+1E3);W=2.02*d*y+3.03*d>1E6*U&&w>U;if(w>(1-B+Math.sqrt(80*(B*B-1)*S+(B-1)*(B-1)))*B/(40*(B+1)*(B+1)*(B-1))+S+S/(B*B-1)&&d>Math.min(1E6*(y-3),0)+1E6||W){e.faithRatio-=U;e.tcratio+=U;e.transcendenceTier+=1;y=game.challenges.getChallenge("atheism");y.calculateEffects(y,game);W=e.getTU("blackObelisk");W.calculateEffects(W,game);game.msg($I("religion.transcend.msg.success",
[e.transcendenceTier]));y=e.transcendenceTier;9>y&&(q=!0);for(S=0;S<e.transcendenceUpgrades.length;S++)B=e.transcendenceUpgrades[S],!B.unlocked&&y>=B.tier&&"mausoleum"!==B.name&&(B.unlocked=!0,g=1);O--;L("act.transcend",[game.getDisplayValueExt(U),y],"transcendFilter");K("transcend",1)}else O=0}}O=game.resPool.isStorageLimited(F.prices);U=l.auto.faith.items.transcendence;!U.enabled&&d>F.faith&&V&&O&&(U.enabled=!0,oa(["\u5c0f\u732b\u8d34\u5fc3\u5f97\u65e0\u89c6\u8d85\u8d8a\u6309\u94ae\u7981\u7528",
"ks-default",l.activitycolor]));F=!e.faithRatio||y;O=this.catnipForReligion();O=0<O||0>O&&0<h.catnip.value+4E3*O;O=9<J||O;J=2>m?1+Math.min(2/game.prestige.getParagonProductionRatio(),.3):1;H=game.getLimitedDR(J*(11>F||p?1.3+Math.min(.6,.06*y)+Math.log1p(H):1.32)*Math.pow(Math.E,.65*(.5*Math.log(e.faithRatio)+3.45)),100*n);J=f.adore.subTrigger;.001===J&&D&&100*G<H&&y&&((y=100*C<=Math.max(1,Math.min(H-45-y,90*n+3*y,94*n)))&&(D=!1),H=Math.floor(100*H)/100,H===M.other["adore.solar"]||p&&k||!y||(Z(u("summary.adore.solar",
[H])),M.other["adore.solar"]=H));D&&.001!==J&&(D=10*J<C);if(D&&O||q)b&&(l.auto.timeCtrl.items.timeSkip.adore=!1),q=!0,e._resetFaithInternal(1.01),L("act.adore",[game.getDisplayValueExt(d),game.getDisplayValueExt(z)],"adoreFilter"),M.adore[1]+=z,M.adore[0]+=1}O=.65*(.525*Math.log(e.faithRatio)+3.45);z=k||t?1:.3;p=e.getRU("stainedGlass").on;z=z*game.prestige.getPerk("vitruvianFeline").researched?1:.5-.1*!p;z=6<e.getRU("solarchant").on?5-Math.sqrt(m):z;m=game.getLimitedDR(.3*Math.pow(Math.E,O)*z,(2E5<
h.starchart.value?90:80)*n);f.autoPraise.expect=.01*m;O=e.getRU("solarRevolution").on;p=p||200>h.gold.value||.9>game.getEffect("culturePerTickBase");n=e.getRU("basilica").on||675>h.gold.value||2.8>a.perTickCached||2.7>game.getEffect("culturePerTickBase");x=!x&&1>=r;O&&x&&G<.01*m&&p&&n&&(r=0);p=1+.1*game.getUnlimitedDR(w,.1);w=(w=a.value>(1E3-d)/p&&1E3>d)||a.value>(150-d)/p&&150>d&&!k;if(v&&c>=r&&.001<a.value&&(.98>c||!k||O)||q||w&(!G&&!k))x&&!q&&.98>c&&!A&&(Date.now()>f.autoPraise.time+4E5||!M.other["praise.msg"])&&
(f.autoPraise.time=Date.now(),f=game.getDisplayValueExt(m),Z(u("summary.praise.msg",[f])),M.other["praise.msg"]=f),k=e.getApocryphaBonus(),f=a.value,k=f*(1+k),M.praise[1]+=k,M.praise[0]+=1,K("faith",f,"resConsume"),L("act.praise",[game.getDisplayValueExt(a.value),game.getDisplayValueExt(k)],"faithFilter"),e.praise(),e=h.faith,e.value=Math.max(Math.min(h.faith.maxValue,e.value+2*h.faith.perTickCached),0);return g},_worship:function(a){var b=l.auto.faith.items;let c=JSON.parse(JSON.stringify(a||l.auto.faith.items));
a=this.religionManager;var d=this.bulkManager,f=game.religion,e=f.getRU("solarRevolution"),g=(f.faith>e.faith||game.prestige.getPerk("voidOrder").researched)&&750<h.faith.maxValue&&470<h.gold.maxValue,k=f.transcendenceTier,m=!e.on&&g&&f.getRU("solarchant").on&&k?1.1:l.auto.faith.trigger;this.setTrait("wise");game.getLimitedDR(.09+.01*(1+game.prestige.getBurnedParagonRatio()),1);!e.on&&g&&b.solarRevolution.enabled&&f.faith>e.faith&&a.build("solarRevolution","s",1);!f.getRU("solarchant").on&&100<h.faith.value&&
150<f.faith&&a.build("solarchant","s",1);b=f.getRU("basilica").on;!f.getRU("sunAltar").on&&b&&(c.goldenSpire.enabled=!1);!b&&c.basilica.enabled&&(b=game.religion.getRU("stainedGlass").on,5E4<game.religion.faith&&(2.4<game.village.happiness&&(c.sunAltar.enabled=!1),c.goldenSpire.enabled=!1),!b&&65E3<h.science.maxValue&&(c.scholasticism.enabled=!1));!game.ironWill&&.2>game.getEffect("faithRatioReligion")&&(c.templars.enabled=!1,!f.getRU("templars").on&&3E3<h.faith.value&&E("templars"),8<k&&!game.getEffect("calcinerRatio")&&
(c.sunAltar.enabled=!1,c.goldenSpire.enabled=!1));k&&!f.getRU("transcendence").on&&(c.apocripha.enabled=!1);f.getSolarRevolutionRatio()>9.98+.9*game.getEffect("solarRevolutionLimit")&&game.workshop.get("spaceManufacturing").researched&&M.adore[0]&&["scholasticism","goldenSpire","stainedGlass","basilica","templars"].forEach(q=>{c[q].max=-1});k=f.getZU("marker");!f.getZU("blackPyramid").getEffectiveValue(game)&&game.resPool.hasRes(k.prices)&&k.unlocked&&(E("marker"),c.marker.enabled=!1);k={};for(var p in c){b=
c[p];e=a.getBuild(p,b.variant);if("s"===b.variant){g=e.noStackable;if(e.on&&g||f.faith<e.faith)b.enabled=!1;g&&(b.max=1)}"z"!==b.variant||game.bld.getBuildingExt("ziggurat").meta.on||(b.enabled=!1);"c"!==b.variant||game.science.get("cryptotheology").researched||(b.enabled=!1);k[p]=e}p=d.bulk(c,k,m);d=0;for(let q in p)f=p[q],m=f.count,0<m&&(a.build(f.id,f.variant,m),d+=1);return d},chrono:function(){if(!game.timeTab.visible||!game.workshop.get("chronoforge").researched)return 0;let a=0;var b=JSON.parse(JSON.stringify(l.auto.time.items));
const c=this.timeManager;var d=this.bulkManager;let f=l.auto.time.trigger;var e=b.cryochambers,g=e.max;let k=game.bld.get("chronosphere").on+game.getEffect("cryochamberSupport");e.max=-1===g?k:Math.min(k,g);e=b.ressourceRetrieval;g=e.max;e.max=-1===g?100:Math.min(100,g);e={};for(let m in b)g=b[m],"chrono"!==g.variant||game.workshop.get("chronoforge").researched||(g.enabled=!1),"void"!==g.variant||game.science.get("voidSpace").researched||(g.enabled=!1),e[m]=c.getBuild(m,g.variant);b=d.bulk(b,e,f);
for(let m in b)d=b[m],0<d.count&&(c.build(d.id,d.variant,d.count),a=1);return a},upgrade:function(){let a;var b=l.auto.upgrade.items;const c=this.upgradeManager,d=this.craftManager,f=this.bulkManager,e=this.buildManager;var g=game.workshop.get("geodesy").researched,k=game.workshop.get("orbitalGeodesy").researched,m=game.religion.getSolarRevolutionRatio(),p=game.prestige.getParagonProductionRatio(),q=game.getEffect("priceRatio");let v=0;var n=game.bld.getBuildingExt("pasture").meta,x=game.bld.getBuildingExt("aqueduct").meta;
this.setTrait("scientist");if(b.techs.enabled&&game.libraryTab.visible){var w=game.science.techs;b.techs.limited=!0;var t=game.science.get("nanotechnology").researched;var r=h.titanium.value,C=!game.science.get("acoustics").researched&&6E4<h.science.value&&game.religion.transcendenceTier&&!r,z=h.relic.value,A=1E5<h.starchart.value&&!game.science.get("drama").researched;a:for(var D of w)if(!D.researched&&D.unlocked){if(b.techs.limited)switch(D.name){case "combustion":if(15E4<h.science.maxValue&&5E3>
r&&!game.science.get("metalurgy").researched)continue;break;case "biology":if(5E3>r)continue;case "dimensionalPhysics":case "rocketry":if(A)continue;break;case "biochemistry":if(7E3>r)continue;break;case "ecology":if(1E4>r||A)continue;break;case "ai":if(1E4>r||A)continue;break;case "physics":if(C&&(120>h.compedium.value||100>h.steel.value))continue;break;case "particlePhysics":if(!t&&2E3>r)continue;break;case "oilProcessing":if(!t&&1E4>r)continue;break;case "drama":if(3>d.getTickVal(h.parchment,!0)&&
13E4>h.parchment.value){E("drama");continue}break;case "cryptotheology":if(105>z&&4E3>h.antimatter.value)continue;break;case "blackchain":if(1E6>z)continue;break;case "antimatter":if(!game.workshop.get("chronoforge").researched)continue}w=dojo.clone(D.prices);w=game.village.getEffectLeader("scientist",w);for(let B of w)if(c.getValue(B.name)<B.val)continue a;v=1;c.build(D,"science")}}if(b.upgrades.enabled&&game.workshopTab.visible){game.workshopTab.domNode||(v=2);t=game.workshop.upgrades;r=[];C=h.starchart;
r=["biofuel","gmo","invisibleBlackHand"];.05>game.getEffect("shatterTCGain")&&r.push("steelPlants");n.on&&0!==n.stage||(r=r.concat(["photovoltaic","thinFilm","qdot"]));x.on&&0!==x.stage||r.push("hydroPlantTurbines");q&&(r.push("register"),-.08>q&&(r=r.concat(["neuralNetworks","voidReactors"])));z=["factoryAutomation","advancedAutomation","pneumaticPress"];A=game.challenges.isActive("pacifism");game.bld.get("steamworks").on<1+5*q?(A||(r=r.concat(["printingPress","offsetPress","photolithography"],z)),
game.bld.get("steamworks").on||r.push("combustionEngine")):game.opts.enableRedshift||(r=r.concat(z));A&&(r=r.concat("bolas huntingArmor steelArmor alloyArmor nanosuits silos".split(" ")));5>game.village.getJob("engineer").value&&(r=r.concat("spaceEngineers aiEngineers chronoEngineers amFission factoryRobotics factoryOptimization".split(" ")));!m&&750<=h.faith.maxValue&&1E3<game.religion.faith&&r.push("caravanserai");40>game.resPool.energyProd-game.resPool.energyCons&&(r=r.concat(["carbonSequestration",
"pumpjack"]));.02>game.globalEffectsCached.titaniumPerTickAutoprod&&32>h.ship.value&&2<m&&(r=r.concat("titaniumAxe silos astrolabe titaniumBarns alloyAxe alloyArmor alloyBarns alloyWarehouses".split(" ")));(6<m||k)&&!game.space.meta[0].meta[3].val&&1600>C.value&&(r=r.concat(["geodesy","titaniumWarehouses","titaniumBarns"]),!k&&1<game.getEffect("calcinerRatio")&&r.push("fuelInjectors"));g||(r=r.concat(["seti","refrigeration"]),6>m&&400<C.value&&r.push("titaniumSaw"),75E3>h.oil.value&&!k&&(r=r.concat(["offsetPress",
"photolithography"]),.8<P("coal")&&.95>P("oil")&&(r=r.concat(["fuelInjectors","pyrolysis","combustionEngine"]))),4<m&&!k&&.4<P("coal")&&r.push("fuelInjectors"));3>game.bld.getBuildingExt("factory").meta.val&&r.push("factoryLogistics");game.workshop.get("mWReactor").researched||(r=r.concat(["eludiumReflectors","amBases","coldFusion","amReactors","cryocomputing"]));0===game.bld.getBuildingExt("library").meta.stage&&(r=r.concat(["starlink","uplink","cryocomputing"]));5>game.bld.getBuildingExt("accelerator").meta.val&&
(r=r.concat(["darkEnergy","stasisChambers","voidEnergy","tachyonAccelerators","lhc"]));5>game.bld.getBuildingExt("aiCore").meta.val&&(r=r.concat(["machineLearning","aiBases"]),4<p&&(r=r.concat("stoneBarns reinforcedBarns reinforcedWarehouses titaniumBarns alloyBarns concreteBarns titaniumWarehouses alloyWarehouses concreteWarehouses storageBunkers energyRifts stasisChambers voidEnergy darkEnergy".split(" "))));if(!game.bld.getBuildingExt("reactor").meta.val||169>h.ship.value)r=r.concat(["reactorVessel",
"enrichedUranium"]),.7<P("oil")&&(r=r.concat(["oilDistillation","pumpjack"]));6>game.space.getBuilding("sattelite").val&&(r=r.concat(["solarSatellites","satelliteRadio"]));C.perTickCached?game.challenges.isActive("blackSky")&&1>C.perTickCached&&(r=r.concat(["geodesy"])):r=r.concat(["hubbleTelescope"]);z=game.bld.getBuildingExt("magneto").meta;z.val&&z.on===z.val&&r.push("carbonSequestration");(11E4>h.thorium.value||400<game.resPool.energyProd-game.resPool.energyCons)&&r.push("thoriumReactors");if(16E4<
h.science.maxValue&&2075>C.value||h.titanium.value<5+10*m)r=r.concat(["astrolabe","unobtainiumReflectors","lhc","titaniumMirrors"]);game.challenges.isActive("anarchy")&&(r=r.concat(["logistics","augumentation","internet","neuralNetworks","register"]));game.ironWill?r=r.concat("logistics augumentation internet neuralNetworks mineralHoes ironHoes miningDrill mineralAxes ironAxes steelAxe titaniumAxe alloyAxe ironwood concreteHuts unobtainiumHuts eludiumHuts geodesy register unobtainiumDrill assistance astrophysicists register".split(" ")):
game.workshop.get("concreteHuts").researched||(r=r.concat(["concreteWarehouses","concreteBarns","barges","seti"]));a:for(var G of t)if(!G.researched&&G.unlocked&&(C=G.name,-1===r.indexOf(C))){t=dojo.clone(G.prices);t=game.village.getEffectLeader("scientist",t);for(F of t)if(c.getValue(F.name,C)<F.val)continue a;v+=1;c.build(G,"workshop")}}b.policies.enabled&&game.libraryTab.visible&&function(){var B=game.science;const J=B.policies;let y=a=0;const H=J.length,V=[];B=B.get("astronomy").researched||!B.get("philosophy").researched?
1:3;for(a in l.policies){let U=l.policies[a];for(let S in J){S=parseInt(S);let O=J[(S+y)%H];if(O.name===U){y=S+y+1;if(!O.researched){if(O.blocked)break;O.unlocked&&(void 0===O.requiredLeaderJob||null!=game.village.leader&&game.village.leader.job===O.requiredLeaderJob)&&V.push(O)}break}}}a:for(a of V){for(let U of a.prices)if(d.getValueAvailable(U.name,!0)<U.val*B)continue a;c.build(a,"policy")}}();G=game.spaceTab;if(b.missions.enabled&&G.visible){r=b.missions.subTrigger;C=game.space.meta[0].meta.length;
z=game.workshop.get("spaceManufacturing").researched;4===r&&(h.starchart.value>1E5*(1+p)*(1+m)||h.alicorn.value)&&(r=7,26<h.relic.value&&(r=12));m=0;g=!k&&!game.ironWill&&!g;(k=G.GCPanel)||G.render();A=game.space.meta[0].meta;a=0;a:for(;a<C;a++)if(t=A[a],t.val&&7!==a&&m++,!(!t.unlocked||t.val||a>=r)){if(g)break;D=k.children[a];if(!D||!D.model.metadata){G.render();break}if((A[3].val||2!==a||3===r||game.challenges.isActive("blackSky"))&&!D.model.metadata.val&&!D.model.metadata.on){t=D.model.prices;
for(F of t)if(d.getValueAvailable(F.name,!0)<F.val)continue a;D.model.enabled?(D.controller.build(D.model,1),z=2,ia(t),7===a||12===a?Z(u("upgrade.space.mission",[A[a].label]),"spaceFilter"):Z(u("upgrade.space",[A[a].label]),"spaceFilter")):D.controller.updateEnabled(D.model)}}(G.planetPanels.length!==m&&!g||1<z)&&G.render()}if(b.races.enabled&&game.diplomacy.hasUnlockedRaces()){let B=game.diplomacy.get("leviathans").unlocked?8:7;if(game.diplomacyTab.racePanels.length<B){var F=function(J){!game.diplomacy.get(J).unlocked&&
1E3<=d.getValueAvailable("manpower",!0)&&(h.manpower.value-=1E3,B="render",L("upgrade.race",[game.diplomacy.unlockRandomRace().title],"tradeFilter"),K("manpower",1E3,"resConsume"))};if(game.challenges.isActive("pacifism")||!game.village.sim.kittens.length||15<h.gold.value)F("lizards"),F("sharks"),F("griffins");1500<=h.culture.value&&F("nagas");1<=h.ship.value&&F("zebras");100<=h.ship.value&&125E3<h.science.maxValue&&F("spiders");game.science.get("nuclearFission").researched&&F("dragons");game.diplomacyTab.racePanels.length&&
"render"!==B||game.diplomacyTab.render()}}if(b.buildings.enabled){b=l.auto.build.items;g=1===game.calendar.season?game.resPool.energyProd:game.resPool.energyWinterProd;k=game.challenges.isActive("energy");m=g&&g-10-10*p<game.resPool.energyCons||k;G=0===n.stage?n.val:0;t=0===x.stage?x.val:0;F=(B,J)=>{let y=J.stages[1].prices;if(f.singleBuildPossible(J,y,1))return e.sellBuild(B),game.resPool.payPrices(y),J.stage=1,J.on=1,J.val=1,J.upgrades&&(J.updateEffects&&J.updateEffects(J,game),xa(J.upgrades)),
game.bld.getBuildingExt(B)._metaCache=null,game.bld.getBuildingExt(B)._metaCacheStage=1,e.manager.render(),L("summary.upgrade.building."+B,[],"upgBldFilter"),K("upgrade.building."+B),E("upg"+B.charAt(0).toUpperCase()+B.slice(1),!0),2};if(0===n.stage&&n.stages[1].stageUnlocked){r=1===game.bld.getBuildingExt("amphitheatre").meta.stage;r=m&&r&&25<game.getResourcePerTick("titanium",!0);t=d.getPotentialCatnip(!0,0,t);if((t=0<t||0>t&&0<h.catnip.value+2E3*t)&&r&&b.solarFarm.enabled&&.4<P("titanium"))return F("pasture",
n);E("upgPasture","","upgBldFilter")}if(0===x.stage&&x.stages[1].stageUnlocked&&1===n.stage){q=250*Math.pow(n.stages[1].priceRatio+q,G.val)>h.titanium.maxValue||k;n=d.getPotentialCatnip(!0,G,0);if((0<n||0>n&&0<h.catnip.value+5E4*n)&&q&&m&&b.hydroPlant.enabled)return F("aqueduct",x);E("upgAqueduct","","upgBldFilter")}x=game.bld.getBuildingExt("library").meta;if(0===x.stage&&x.stages[1].stageUnlocked)if(p=.1*x.totalEffectsCached.scienceMax/(1+p),q=1+.01*game.bld.get("biolab").val,n=Math.max(1+game.prestige.getParagonProductionRatio(),
2)/2,q=3*h.compedium.value>p/q&&1E6<game.bld.getEffect("scienceMax"),(q|=d.getTickVal(h.concrate)>600*n)&&b.dataCenter.enabled&&2<game.space.getBuilding("moonOutpost").val){if(g>=game.resPool.energyCons+150&&!k&&.8<P("science"))return F("library",x)}else E("upgLibrary","","upgBldFilter");p=game.bld.getBuildingExt("amphitheatre").meta;if(0===p.stage&&p.stages[1].stageUnlocked){if(b.broadcastTower.enabled&&(2<game.getResourcePerTick("titanium",!0)||200<h.ship.value))return F("amphitheatre",p);E("upgAmphitheatre",
"","upgBldFilter")}}return v},build:function(a){const b=this.buildManager;var c=this.bulkManager,d=l.auto.build.trigger;let f=0;var e=game.workshop.get("geodesy").researched;let g=null!==game.village.leader,k={};if("object"!=typeof a){var m=this.craftManager,p=game.challenges.isActive("blackSky");game.prestige.getPerk("vitruvianFeline");var q=game.challenges.isActive("atheism"),v=game.prestige.getParagonProductionRatio(),n=game.workshop.get("orbitalGeodesy").researched;let y=game.workshop.get("spaceManufacturing").researched;
var x=game.religion.getRU("solarRevolution"),w=game.religion.getSolarRevolutionRatio(),t=game.science,r=game.religion,C=t.get("theology").researched;var z={};let H=JSON.parse(JSON.stringify(l.auto.build.items));var A=h.science;let V=A.value/A.maxValue;var D=(W,da,pa)=>{let qa=H[W],ea=qa.max;W&&(V<pa?(qa.max=-1===ea?da:Math.min(da,ea),game.bld.getBuildingExt(W).meta.val>=da&&!y&&E("scienceBld")):qa.max=-1===ea?game.bld.getBuildingExt(W).meta.val+3:ea)};50>w&&(D("observatory",(1E5<h.starchart.value?
200:300)+game.getEffect("timeRatio")+Math.pow(3,v),.95),D("academy",Math.max(22*(v+1),100),.98),D("biolab",200,.99));D=m.getPotentialCatnip(!1);m=t.get("machinery").researched;var G=t.get("astronomy");.98>V&&(!m||G.unlocked)&&h.minerals.value&&game.stats.getStat("totalResets").val&&!G.researched&&(H.academy.max=6*(v+1),12>game.getEffect("maxKittens")&&1.5<v&&(H.academy.max=3),G.unlocked&&E("academy"));y&&16>H.barn.max&&w&&(H.barn.max=-1);m=H.smelter;G=H.pasture;!game.workshopTab.visible&&t.get("animal").researched&&
(m.max=0,-1!==G.max||game.challenges.isActive("winterIsComing")||(H.pasture.enabled=!1,E("pasture")));if(C)E("pasture",!0);else{var F=game.bld.getBuildingExt("pasture").meta;F.unlocked&&10<F.val&&E("pasture");D||(H.pasture.max=20);F=game.bld.getBuildingExt("hut").meta.val-2;H.library.max=0<F?Math.floor(11*F):H.library.max;2.8<v&&4.5<D&&4>F&&10<r.transcendenceTier&&1<F&&!t.get("construction").researched&&(G.max=0,H.barn.max=0,2===F&&(H.library.max=18,H.mine.max=0),3===F&&(H.library.max=30))}!t.get("writing").researched&&
h.minerals.value?(H.workshop.max=1,E("workshop")):E("workshop",!0);G=H.reactor;D=game.space.getBuilding("sattelite").on;y||!(125E3<h.titanium.maxValue)&&D||(G.max=25+10*p);100>h.uranium.value&&(G.max=0);55E3>h.oil.maxValue&&(H.quarry.max=40/(1+v));G=game.getEffect("priceRatio");F=game.bld.getBuildingExt("ziggurat").meta;var B=Math.pow(F.priceRatio+G,F.val);10<F.val&&h.blueprint.value<2.5*B&&!h.alicorn.unlocked&&(H.ziggurat.max=0);p&&3E5<h.science.maxValue&&!n&&(H.observatory.max=3);F=H.steamworks;
game.challenges.isActive("pacifism")||game.bld.getBuildingExt("magneto").meta.val||game.ironWill?E("steamworks",!0):game.bld.get("steamworks").unlocked&&F.enabled&&19<h.gear.value&&(E("steamworks"),F.enabled=!1);B=H.brewery;if(!t.get("metalurgy").researched||1E3<h.spice.value&&1E4>h.spice.value)B.max=4;if(!game.calendar.festivalDays||h.spice.value<1E3+500*v)B.max=0;F=H.temple;w||(B.max=22,H.chapel.max=Math.max(Math.floor(1E-4*h.culture.value),65),F.max=35,B=game.bld.getBuildingExt("smelter").meta.val,
2*h.wood.perTickCached<B&&h.minerals.perTickCached<B&&B&&(m.max=0,E("smelter")));let U=game.bld.getBuildingExt("temple").meta.val;B=H.tradepost;r.faith>x.faith||game.prestige.getPerk("voidOrder");let S=h.gold.value/h.gold.maxValue;!game.getEffect("unobtainiumPerTickSpace")&&8E3>h.faith.maxValue&&(F.max=Math.max(25,10*(1+w)));let O=game.workshop.get("caravanserai");O.unlocked&&!O.researched&&1E4<h.ivory.value&&11<U&&(F.enabled=!1,B.max=21,E("caravanserai"));e?(g&&!n&&22>game.bld.get("hut").val&&game.workshop.get("concreteHuts").researched&&
(b.built("hut",void 0,1),b.built("logHouse",void 0,1)),E("smelter",!0)):(r.getRU("sunAltar").on&&r.getRU("sunAltar").on&&r.getRU("sunAltar").on&&!(3<w&&!D&&.2>game.getEffect("faithRatioReligion"))||!w||(F.max=21-3*v-2*(3<w),B.max=19+2*U-5*v-3*Math.sqrt(w)-2*g,E("religion")),w||(B.max=30-20*(4<v)-5*w));x.on||q||!C?C&&(E("temple",!0),E("tradepost",!0),!n&&25<U&&(F.enabled=!1)):(l.auto.faith.items.solarRevolution.enabled&&750<h.faith.maxValue&&530<h.gold.maxValue&&t.get("philosophy").researched&&(E("temple"),
F.max=Math.floor(7.5/(1+game.prestige.getParagonStorageRatio())),530<h.gold.value&&(F.max=U+1)),r.transcendenceTier&&(B.max=18-2*v+1*h.kittens.value<60-2*g,525<h.gold.value&&(B.max=Math.min(18,game.bld.getBuildingExt("tradepost").meta.val+1))),E("tradepost"));!C&&t.get("philosophy").researched&&.96>S&&!q&&(q=4>game.village.happiness&&1===U&&game.prestige.getPerk("renaissance").researched,F.max=q?1:Math.floor(7.5/(1+game.prestige.getParagonStorageRatio())),B.max=18-2*v-2*g,E("tradepost"));q=H.calciner;
x=q.max;if(n)y&&D||(A=Math.min(47,6*w+15+2*v),q.max=-1===x?Math.min(A+A*game.getEffect("productionRatio"),95-35*p+game.space.meta[0].meta[0].on*p*15):Math.min(50,x));else{r=21+10*(250<h.uranium.value)+5*(35E3<h.oil.value);if(2E5>A.maxValue||5E4>h.oil.maxValue)r=Math.min(10+3*v+2*Math.sqrt(w),r);q.max=-1===x?r:Math.min(r,x);game.workshop.get("fluidizedReactors").researched||(q.max=20);game.workshop.get("oxidation").researched||(q.max=5)}A=game.getResourcePerTick("oil",!0);.5>A&&(q.max=1,.1>A&&(H.magneto.max=
0));A=H.solarFarm;.9>P("titanium")&&game.resPool.energyProd-10>game.resPool.energyCons&&(A.enabled=!1);A=H.mansion;t.get("archeology");x=h.ship.value;x=n||600<x;t.get("electronics").researched&&!y?(E("broadcastTower"),A.max=80):E("broadcastTower",!0);r=h.titanium;C=H.biolab;e||n?(x&&!A.max&&1===P("titanium")&&(A.max=45),y?(E("biolab",!0),E("mansion",!0),E("scienceBld",!0)):.8>P("titanium")&&(C.max=Math.max(20-w-v,0),e||(A.max=Math.max(Math.floor(17*(v+1)),135-game.village.maxKittens)))):(!game.ironWill&&
1<r.value&&A.max&&(A.max=6*(1+w),H.quarry.max=6*(1+w),25===q.max&&(A.max=0)),25<h.alloy.value&&t.get("biology").researched&&(C.max=2,E("biolab")));t=H.broadcastTower;game.space.getProgram("moonMission").on&&.8<P("titanium")?1!==P("titanium")&&(w=t.max,t.max=-1===w?20:Math.min(20,w)):t.max=8+100*!w;1E4<h.starchart.value&&!y&&!game.calendar.festivalDays&&!game.ironWill&&1<v&&(H.observatory.max=70,H.chapel.max=10,H.amphitheatre.max=17,H.academy.max=60,H.harbor.max=10,H.logHouse.max=game.bld.getBuildingExt("logHouse").meta.val+
1,H.hut.max=game.bld.getBuildingExt("hut").meta.val+1,h.wood.perTickCached||(m.max=60),H.ziggurat.max=1);game.challenges.isActive("pacifism")||((v=H.mint,w=h.manpower.maxValue,t=game.bld.getBuildingExt("mint").meta.val,2E4>=w&&!game.workshop.get("unobtainiumDrill").researched)?v.enabled=!1:t&&D?n||(v.enabled=!1):v.max=2);G&&8794>h.unobtainium.value&&0>game.calendar.futureSeasonTemporalParadox&&!game.getEffect("resStasisRatio")&&(H.chronosphere.enabled=!1);game.challenges.isActive("anarchy")&&(H.aiCore.enabled=
!0,H.aiCore.max=1);n=game.bld.getBuildingExt("calciner").meta;p&&l.auto.build.items.calciner.enabled&&n.unlocked&&!n.val&&b.built("calciner",void 0,1);p="library academy pasture barn harbor oilWell warehouse broadcastTower accelerator mansion quarry aqueduct chapel lumberMill factory biolab".split(" ");for(var J in H)n=H[J],n.enabled&&n.max&&(-1===p.indexOf(J)?z[J]=n:k[J]=n)}J={};a=z||a;for(let y in a)z=a[y],p=b.getBuild(z.name||y).meta,p.almostLimited&&!e&&g&&(z.enabled=!1),p.stage!==z.stage&&(z.enabled=
!1),J[y]=p;if(a=c.bulk(a,J,d,"bonfire"))for(c=0;c<a.length;c++)d=a[c].count,e=a[c].id,d=b.count(e,d),0<d&&(b.built(a[c].name||e,a[c].stage,d),f+=1);"{}"!==JSON.stringify(k)&&(f+=this.build(k));return f},space:function(){if(game.spaceTab.visible){var a=JSON.parse(JSON.stringify(l.auto.space.items)),b=this.spaceManager,c=this.bulkManager,d=l.auto.space.trigger,f=game.challenges.isActive("blackSky"),e=game.religion.getSolarRevolutionRatio(),g=h.starchart.value;this.setTrait("chemist");var k=game.getEffect("unobtainiumPerTickSpace"),
m=game.prestige.getPerk("vitruvianFeline").researched;k=1.3<e&&k||2<e;f?(a.researchVessel.enabled=!1,a.spaceStation.enabled&&($("#toggle-spaceStation").click(),E("spaceStation"))):!d&&k&&!game.space.meta[0].meta[3].val&&2200>g&&(d=9,E("spaceTrigger"));k=f||5<e||game.workshop.get("spaceManufacturing").researched;var p=game.space.getBuilding("sattelite").val;if(!d){var q=game.resPool.energyProd,v=game.resPool.energyCons;let t=game.prestige.getParagonProductionRatio();var n=P("unobtainium"),x=game.space.getBuilding("spaceStation").val,
w=3E3*Math.pow(1.12,x);let r=2300*Math.pow(1.12,p);g>r&&2>e&&(a.sattelite.max=p+1);let C=.6>game.getEffect("productionRatio")&&0<n&&5<e;if(g<r&&2>e||!game.workshop.get("orbitalGeodesy").researched||C)a.sattelite.max=0;g>w&&(a.spaceStation.max=x+1);if(g<w||game.challenges.isActive("energy"))a.spaceStation.max=0;game.getEffect("lunarOutpostRatio")||1===n?e||(a.spaceElevator.max=22):(a.spaceElevator.max=8+t,!m&&.5>n&&(a.spaceElevator.max=0));m=game.getResourcePerTick("uranium",!0);game.getEffect("unobtainiumPerTickSpace")&&
.7>m&&(a.moonOutpost.max=0);.9>n?a.moonBase.max=0:(n=game.space.getBuilding("moonBase").val,n.val===n.on&&(a.moonBase.max=n.val+1,E("moonBase")));10<m&&1E6>g&&(a.planetCracker.max=0);g<3E4*e+e&&(a.hydrofracturer.max=100*game.getEffect("spaceRatio")-t-e);e||(a.hydrofracturer.max=0,a.researchVessel.max=50);1E5>g&&(a.spiceRefinery.max=0);g=game.space.getBuilding("cryostation").val;m=h.eludium.value;n=game.prestige.getParagonStorageRatio();n=25*Math.pow(1.12,3*(1<n)+9*(100<n)+g+t+Math.sqrt(.5*n));m>n&&
(a.cryostation.max=g+1);m<n&&(a.cryostation.max=0);g=a.containmentChamber;m=a.heatsink;n=h.antimatter;x=game.space.getBuilding("heatsink").val;w=game.space.getBuilding("containmentChamber").val;m.max=x+1;g.max=w+1;x=q<v+Math.max(50*(1+.01*x),5*w)+2;w=game.prestige.getPerk("numerology").researched&&(3===game.calendar.cycle||1===game.calendar.cycle);if(n.value+50*game.getEffect("antimatterProduction")<n.maxValue||x||w)g.enabled=!1,m.enabled=!1;q<v+10&&(a.spaceStation.max=0,a.moonOutpost.max=0,a.moonBase.max=
0);q=a.orbitalArray;if(v=game.nummon)g=game.space.getBuilding("orbitalArray").val,v.getBestUnobtainiumBuilding()===$I("space.planet.piscine.orbitalArray.label")?!game.getEffect("shatterTCGain")||39<g||2>t?q.max=g+1:q.max=40:0>q.max&&(q.max=0)}game.ironWill&&(a.spaceStation.max=0,a.terraformingStation.max=0);p<3+2*(9.7<e)&&k&&(b.build("sattelite",1),E("sattelite"));k&&(!f&&1>game.space.getBuilding("researchVessel").val&&a.sattelite.enabled&&b.build("researchVessel",1),4>game.space.getBuilding("researchVessel").val&&
(a.spaceStation.max=0));f={};for(let t in a)f[t]=b.getBuild(t);a=c.bulk(a,f,d,"space");c=0;for(let t in a)d=a[t],0<d.count&&(b.build(d.id,d.count),c=1);return c}},craft:function(){var a=l.auto.craft.items;const b=this.craftManager;var c="ship beam wood slab alloy gear concrate steel plate scaffold tanker parchment manuscript compedium blueprint kerosene megalith eludium thorium".split(" ");let d=l.auto.craft.trigger,f=!game.science.get("construction").researched||!game.bld.getBuildingExt("workshop").meta.on,
e,g;this.setTrait("metallurgist");this.setTrait("engineer");for(const k of c)e=a[k],g=e.require?b.getResource(e.require):"noRequire",c=0,!e.enabled||f&&"wood"!==k||!b.getCraft(k).unlocked||("noRequire"===g||g.value/g.maxValue>=d&&g.value<=2*g.maxValue?c=b.getLowestCraftAmount(k,e.limited,e.limRat,g.name):e.limited&&(c=b.getLowestCraftAmount(k,e.limited,e.limRat,!1)),1<=c&&b.craft(k,c));a=l.auto.upgrade.items.upgrades;a.cache&&game.workshop.get(a.cache).researched&&(a.cache=!1)},holdFestival:function(){let a=
game.prestige.getPerk("carnivals").researched;var b=a&&(1E4>h.parchment.value||15E3>h.culture.value);if(!(!game.science.get("drama").researched||400<=game.calendar.festivalDays||(!a||b)&&1<game.calendar.festivalDays||5>game.village.getKittens()&&!h.zebras.value)){var c=this.craftManager;b=1500<4E3*c.getTickVal(h.manpower,!0);var d=5E3<4E3*c.getTickVal(h.culture,!0);c=5E3<4E3*c.getTickVal(h.parchment,!0);c=7500<=h.parchment.value||c||18<h.manpower.perTickCached;if(b&&d&&c&&(!game.science.getPolicy("carnivale").researched||
h.furs.value&&h.ivory.value&&h.spice.value)){b=game.villageTab;d=b.festivalBtn;if(!d||!d.model)return b.render();b=d.model.prices;game.resPool.hasRes(b)?(game.resPool.payPrices(b),game.village.holdFestival(a&&1E6<h.culture.value?50:1),l.auto.trade.festival=void 0,K("festival",1),ia(b),400<game.calendar.festivalDays?L("festival.extend",[],"festivalFilter"):L("festival.hold",[],"festivalFilter")):l.auto.trade.festival=!0}}},observeStars:function(){var a=game.calendar;if(null!=a.observeBtn){var b=h.science.value,
c=h.starchart.value;a.observeHandler();var d="";(b=h.science.value-b)&&(d+="\uff0c\u83b7\u5f97\u4e86 "+game.getDisplayValueExt(b)+" \u79d1\u5b66");(c=h.starchart.value-c)&&(d+="\uff0c\u83b7\u5f97\u4e86 "+c+" \u4e2a\u661f\u56fe");L("act.observe",[d],"astronomicalEventFilter");d=1;.1>Math.random()&&(d=dojo.byId("observeButton"),a.observeBtn=dojo.create("input",{id:"observeBtn",type:"button",value:$I("navbar.observe")},d),a.observeHandler(),d=2);K("science",b*d,"resGain");K("starchart",c*d,"resGain");
K("stars",1)}game.ironWill&&(a=h.catnip,game.resPool.addRes(a,a.perTickCached+10))},hunt:function(){var a=this.craftManager.getResource("manpower");if(!(100>a.value||game.challenges.isActive("pacifism")||3<P("manpower")&&3>game.getEffect("hunterRatio"))){var b=h.unicorns.value,c=game.achievements.get("unicornConspiracy").unlocked||b,d=!game.bld.getBuildingExt("unicornPasture").meta.val&&c&&1E3<a.value&&3>b&&.06<game.getEffect("craftRatio"),f=l.auto.options.items.hunt;c=f.subTrigger;var e=f.subTrigger<=
a.value/a.maxValue,g=!e&&l.auto.trade.cache;b=this.craftManager.getAverageHunt();a.value+=2*a.perTickCached*(.9<c);c=Math.floor(a.value/100);var k=game.science.get("writing").researched,m=!h.furs.value||25>h.parchment.value||game.ironWill?Math.max(30,Math.floor(.5*c)):0;k=k&&c>m&&0<m&&1!==P("culture");if(e||k||d||g||f.time)if(k&&(c=m,L("act.hunt.mint","","huntFilter")),d&&(c=10,Z(u("act.hunt.unicorn"))),g&&!f.time&&(c=Math.min(c,Math.max(Math.floor(a.perTickCached/50),1)),l.auto.trade.cache=!1,L("act.hunt.trade",
"","huntFilter")),f.time&&(f.time=!1),!(0>=c)){d=game.ironWill?h.zebras.title:$I("effectsMgr.statics.maxKittens.title");game.resPool.addResEvent("manpower",100*-c);K("manpower",100*c,"resConsume");a={};for(var p in b)a[p]=h[p].value;this.setTrait("manager");game.village.gainHuntRes(c);this.setTrait();1E3<=c&&(game.challenges.getChallenge("pacifism").unlocked=!0);l.auto.cache.trait.manager?(L("act.hunt",["\u7ba1\u7406\u8005\u6d3e\u51fa "+c,d],"huntFilter"),K("hunt.manager",c)):(K("hunt",c),L("act.hunt",
[c,d],"huntFilter"));p={};for(let q in b)b=h[q].value-a[q],p[q]=b,K(q,b,"resGain");this.cacheManager.pushToCache({materials:p})}}},trade:function(){let a={};var b=!M.other["auto.ksHelp"];b=M.other["auto.changeLeader"]?0:1+b;for(var c in h){var d=h[c];game.resPool.addRes(d,Math.max(b*d.perTickCached+game.getEffect(c+"PerTickCon"),0),!1);a[c]=d.value}var f=this.craftManager,e=this.tradeManager;c=this.cacheManager;f.getResource("gold");let g=[],k=l.auto.trade;var m=k.trigger;if(e.singleTradePossible(void 0)){var p=
game.calendar,q=p.getCurSeason().name,v=P("gold"),n=P("titanium");b=m<=v;var x;this.setTrait("merchant");var w=0;var t=game.religion.getSolarRevolutionRatio(),r=h.faith.value,C=game.challenges.anyChallengeActive();d=game.prestige.getPerk("vitruvianFeline").researched;var z=t||C&&!r||470>h.gold.maxValue,A=!game.ironWill&&game.workshop.get("spaceManufacturing").researched&&t&&h.concrate.value>1E4/(1+t);r=game.religion.getRU("stainedGlass").on||!t||200>r;var D=l.auto.faith.items,G=game.religion.getRU("transcendence").on||
!D.transcendence.enabled||!game.space.getBuilding("moonOutpost").val;D=game.religion.getRU("apocripha").on||!D.apocripha.enabled||.22<game.religion.faithRatio||1E5>game.religion.faith;game.workshop.get("miningDrill");var F=G&&D||9<game.religion.transcendenceTier||130>game.village.sim.kittens.length,B=k.items;for(y in B)if(!("nagas"===y&&A||"dragons"===y&&2<t&&1>n||"lizards"===y&&.2<t||"sharks"===y&&1<t&&!C)){G=B[y];var J=e.getRace(y);J.unlocked&&(game.diplomacyTab.racePanels[w]||game.diplomacyTab.render(),
w++,G.enabled&&G[q]&&e.getTradeButton(J.name)&&(D=G.require?f.getResource(G.require):!1,(!D||m<=D.value/D.maxValue)&&b?g.push(y):G.limited&&z&&F&&r&&!("sharks"===y&&10>J.embassyLevel)&&e.getProfitability(y)&&(g.push(y),"leviathans"!==y&&(x=!0))))}var y=h.catnip.value+100*game.getResourcePerTick("catnip",!0);0>y&&1E3>game.deadKittens&&!game.ironWill&&(w=game.diplomacy.get("sharks"),w.unlocked&&(q=e.getLowestTradeAmount("sharks"),w=e.getAverageTrade(w).catnip,e.trade("sharks",Math.max(Math.ceil(y/-w),
q,1)),L("trade.catnip")));if(0!==g.length&&(x=x&&!b?.3+.1*d+.1*!t:1,q=Math.floor(e.getLowestTradeAmount(void 0,!0,!1)*x),!(C&&game.science.get("architecture").researched&&!h.furs.value||k.festival&&!p.festivalDays&&2500<h.parchment.value||1>q))){C=[];for(w=0;w<g.length;w++)y=g[w],G=l.auto.trade.items[y],D=G.require?f.getResource(G.require):!1,y=Math.floor(e.getLowestTradeAmount(y,G.limited,(!D||m<=D.value/D.maxValue)&&m<=v)*x),1>y?(g.splice(w,1),w--):C[w]=y;if(y=g.length){f=game.getEffect("shatterTCGain");
x=h.steel.value>h.plate.value&&!f&&2!==p.season;f=.4<P("uranium")&&1<y&&!f;m=h.plate.value>10*h.steel.value&&.5<n;p=2===p.season&&.5<n;for(n={};0<g.length&&1<=q;)if(q<g.length)y=Math.floor(Math.random()*g.length),n[g[y]]||(n[g[y]]=0),n[g[y]]+=1,--q,g.splice(y,1),C.splice(y,1);else{z=Math.floor(q/g.length);for(w=A=0;w<g.length;w++)C[w]<z&&(z=C[w],A=w);y=g[A];"spiders"===y&&x&&(z=Math.floor(.2*z));"dragons"===y&&f&&(z=Math.floor(.2*z));"zebras"===y&&(m&&(z=Math.floor(.3*z)),p&&(z=Math.min(Math.ceil(t),
z)));n[y]||(n[y]=0);n[y]+=z;q-=z;g.splice(A,1);C.splice(A,1)}if(0!==n.length){.98<=v&&(k.cache=!0);for(var H in n)0<n[H]&&e.trade(H,n[H]);e=l.auto.cache.cacheSum.manpower;H={};b=b||!e?.01:1-.4*d;for(let V in h)if(d=h[V].value-a[V])H[V]=d*b,0<d&&K(V,d,"resGain"),0>d&&K(V,-d,"resConsume");c.pushToCache({materials:H})}}}}},miscOptions:function(){var a=this.craftManager;const b=this.buildManager;var c=l.auto.options.items,d=0,f=l.auto.cache,e=f.dataTimer,g=game.timer.ticksTotal,k=e.ticksTotal,m=game.calendar.trueYear(),
p=game.telemetry.guid;if(0>g-k||e.trueYear>m||e.saveId!==p)f.dataTimer={},f.cacheSum={},l.auto.filter.console={},Ga(),Ha(),f.resUpg={},this.leaderTimer=0,l.auto.upgrade.items.upgrades.cache=null,f=f.dataTimer,f.saveId=p,f.ticksTotal=g,f.trueYear=m;2E4<g-k&&(e.ticksTotal=g,l.auto.cache.cacheSum={},E("changeLeader",!0));k=l.auto.filter;g=game.religion.transcendenceTier;if(c.filterGame.enabled&&k.enabled&&3<g){e=k.items;k=k.console;m=game.console.filters;for(var q in m)p=e[q+"Filter"],f=m[q],!f.unlocked||
p&&!p.enabled||k[q]||(f.enabled=!1,k[q]=!0,d=1);d&&game.ui.renderFilters()}if(c.buildEmbassies.enabled&&game.diplomacy.races[0].embassyPrices&&(m=h.culture,k=m.value/m.maxValue,q=k>Math.max(.96,l.auto.craft.trigger),e=Math.sqrt(game.religion.getSolarRevolutionRatio()+1),g=m.value>5E3+5E3*(5<g)+5E3*Math.sqrt(2*game.religion.getSolarRevolutionRatio()),c.buildEmbassies.subTrigger<=k&&2>k||g)){f=game.diplomacyTab.racePanels;g=a.getValueAvailable("culture",!0);k={};m=[];p=f.length-(game.diplomacy.get("leviathans").unlocked?
1:0);var v=l.auto.trade.items;for(--p;-1<p;p--)if(f[p].embassyButton){var n=f[p].race.name;var x=game.diplomacy.get(n);if(q||v[n].enabled){var w=1-game.getEffect("embassyCostReduction");k[n]={val:0,basePrice:x.embassyPrices[0].val*w,currentEm:x.embassyLevel,priceSum:0,race:x};m.push(n)}}else game.diplomacyTab.render();if(0!==m.length){for(f=game.science.get("astronomy").researched;0<m.length;)for(p=0;p<m.length;p++){n=m[p];v=k[n];x=v.currentEm+v.val;w=v.basePrice*Math.pow(1.15,x+game.getEffect("embassyFakeBought"));
let r=!0,C="sharks"===n&&2<e&&!game.getEffect("unobtainiumPerTickSpace")&&h.furs.value,z="dragons"===n&&!game.getEffect("unobtainiumPerTickSpace");if(x>14+e-10*("zebras"===n)&&f&&!q||z||C)r=!1;w<=g&&r?(g-=w,v.priceSum+=w,v.val+=1,q&&(m.splice(p,1),p--)):(m.splice(p,1),p--)}for(n in k)v=k[n],0!==v.val&&(g=a.getValueAvailable("culture",!0),v.priceSum>g||(h.culture.value-=v.priceSum,K("culture",v.priceSum,"resConsume"),v.race.embassyLevel+=v.val,K("embassy",v.val),d+=1,1===v.val?Z(u("build.embassy",
[v.val,v.race.title]),"embassyFilter"):Z(u("build.embassies",[v.val,v.race.title]),"embassyFilter")))}}if(c.fixCry.enabled&&0<game.time.getVSU("usedCryochambers").val){c=0;for(n=game.timeTab.vsPanel.children[0].children[0];n.controller.buyItem(n.model,{},function(){});)c+=1;0<c&&(L("act.fix.cry",[c],"ks-fixCry"),K("fix.cry",c))}let t;c=(r,C,z)=>{Z(u("summary."+r,[C]));K(r,C);if(z&&(t=b.getBuildButton(r)))t.controller.onAll(t.model)};n=game.bld.getBuildingExt("mint").meta;n.on!==n.val&&3E4<h.manpower.maxValue&&
(n.on=n.val);1<n.on&&2E4>h.manpower.maxValue&&!game.challenges.isActive("pacifism")&&!game.opts.enableRedshift&&(n.on=0,c("mint"));q=game.bld.getBuildingExt("factory").meta;q.val&&q.on!==q.val&&game.workshop.get("spaceManufacturing").researched&&c("factory",void 0,!0);n=game.bld.getBuildingExt("magneto").meta;e=game.getResourcePerTick("oil",!0)>.05*n.val;g=5E6<game.bld.cathPollution&&50<game.bld.cathPollutionPerTick;n.val&&!n.on&&e&&g&&!q.isAutomationEnabled&&c("magneto",void 0,!0);q=game.bld.getBuildingExt("steamworks").meta;
q.val&&q.on!==q.val&&9<n.on&&c("steamworks",void 0,!0);n=game.bld.getBuildingExt("reactor").meta;q=game.getResourcePerTick("uranium",!0);n.val&&n.on!==n.val&&0<q&&c("reactor",void 0,!0);n=game.time.getCFU("temporalAccelerator");n.on&&!game.time.testShatter&&(n.isAutomationEnabled=!0,game.time.testShatter=1,c("temporalAccelerator"));q=game.resPool.energyProd;n=game.bld.getBuildingExt("biolab").meta;e=n.on&&game.workshop.get("biofuel").researched;a=a.getPotentialCatnip();a=l.auto.distribute.religion||
0>a&&0>h.catnip.value+1E3*a;e&&a&&(Z(u("summary.biolab.test",[""])+"(\u732b\u8584\u8377\u4ea7\u91cf\u8fc7\u4f4e)"),n.on=0);if(q&&q<game.resPool.energyCons){if(e&&n.on)return d="\u51ac\u5b63\u4ea7\u51fa\u7535:"+game.getDisplayValueExt(q)+"\uff0c\u6d88\u8017\u7535:"+game.getDisplayValueExt(game.resPool.energyCons)+"\uff0c\u5c0f\u732b\u62c5\u5fc3\u7535\u4e0d\u591f\u5e76\u5173\u95ed\u4e86",a=n.on,L("summary.biolab.test",[d+a]),n.on=0,K("biolab.test",d+a),1;a=game.bld.getBuildingExt("oilWell").meta;if(a.isAutomationEnabled&&
game.workshop.get("pumpjack").researched)return a.isAutomationEnabled=!1,game.upgrade({buildings:["oilWell"]}),game.resPool.update(),c("pumpjack",1),1;a=game.bld.getBuildingExt("accelerator").meta;a.on&&(--a.on,c("accelerator",1))}a=h.spice.value;a=[{name:"brewery",metadata:game.bld.get("brewery"),Button:b.getBuildButton("brewery"),conditionOn:game.calendar.festivalDays&&1E4<a,conditionOff:game.bld.get("brewery").on&&(!game.calendar.festivalDays||!a)}];game.opts.enableRedshift||(a.push({name:"chronocontrol",
metadata:game.time.getVSU("chronocontrol"),Button:this.timeManager.getBuildButton("chronocontrol"),conditionOn:1>game.calendar.futureSeasonTemporalParadox&&98<game.calendar.day,conditionOff:game.time.getVSU("chronocontrol").on&&0<game.calendar.day}),n=game.bld.getBuildingExt("calciner").meta,!game.time.getCFU("ressourceRetrieval").on&&n.isAutomationEnabled&&(n.isAutomationEnabled=!1,game.upgrade({buildings:["calciner"]}),c("calciner")));for(c=0;c<a.length;c++)n=a[c],0<n.metadata.val&&(n.conditionOn?
n.metadata.val-n.metadata.on&&(n.Button.controller.onAll(n.Button.model),Z(u("summary."+n.name+"On")),K(n.name)):n.conditionOff&&(n.Button.controller.offAll(n.Button.model),Z(u("summary."+n.name+"Off")),K(n.name)));return d},gameUpgrade:function(){var a=performance.now(),b=l.auto;let c=b.upgrade.items.upgrades;b=b.cache;let d=b.upgrade;if(d){game.upgrade(d);for(let f in d)delete d[f];b.upgrade=null}else game.updateCaches();c.update&&(game.updateCaches(),c.update=null);a=performance.now()-a;this.time+=
a},calculateTime:function(){var a=this.time;a=performance.now()-a;M.ksTime+=a;M.totalTicks++;l.auto.cache.stocks=null},setTrait:function(a){let b=game.village.leader;var c=l.auto,d=c.distribute;if(!(c.options.items.promote.enabled&&d.enabled&&d.items.leader.enabled)&&b)return E("changeLeader");if(a){if(game.science.get("civil").researched&&b&&!game.challenges.isActive("anarchy")){c=l.auto.cache;d=game.village.traits.some(e=>e.title===$I("village.trait."+a));if(!c.trait[a]&&d){c.trait[a]=!0;var f=
$I("village.bonus.desc."+a);f=["\u5f53"+f.slice(0,2)+"\u9879\u76ee\u65f6"+$I("village.trait."+a)+"\u732b\u732b\u81ea\u89c9\u9876\u66ff\u5f53\u524d\u9886\u8896\uff0c\u5176\u6548\u679c\u4e3a"+f];1E4<game.ticks?E("leader",!0):E("leader","","leaderFilter");L("set.leader",[f],"leaderFilter")}l.copyTrait||(f=b.trait.name,l.copyTrait=f,c.trait[f]=!0);d||(c.trait[a]=!1);if(d||l.copyTrait===a)b.trait.name=a}}else l.copyTrait&&b&&$I("village.trait."+l.copyTrait)===b.trait.title&&(b.trait.name=l.copyTrait,l.copyTrait=
void 0)},catnipForReligion:function(a){a=a||0;let b=1;var c=game.religion.getRU("transcendence").on?game.religion.transcendenceTier:0;a&&(c+=1);var d=.01+h.faith.value*(1+.1*game.getUnlimitedDR(game.religion.faithRatio+game.religion.faith/1E6*(c+1)*(c+1)*1.01-a,.1));d=game.getLimitedDR(game.getUnlimitedDR(d,1E3)/100,10+game.getEffect("solarRevolutionLimit"));10>c&&(b=game.village.getResConsumption().catnip*(1+game.getEffect("catnipDemandRatio")),0<game.village.sim.kittens.length&&1<game.village.happiness&&
(b+=b*Math.max(game.village.happiness*(1+game.getEffect("hapinnessConsumptionRatio"))-1,0)*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))),c=1+game.religion.getSolarRevolutionRatio()*(1+game.bld.pollutionEffects.solarRevolutionPollution),b=(h.catnip.perTickCached-b)*(1+d)/c+b+game.globalEffectsCached.catnipPerTickCon);0>b&&0>h.catnip.value+1E3*b&&(l.auto.distribute.religion||(l.auto.distribute.religion=!0),a&&(L("summary.transcend.catnip",[game.getDisplayValueExt(5*b)]),M.other["transcend.catnip"]=
5*b),a||(L("summary.adore.catnip",[game.getDisplayValueExt(5*b)]),M.other["adore.catnip"]=5*b));return b},getBestUnicornBuilding:function(){var a=game.bld.getBuildingExt("unicornPasture").meta;if(a.unlocked){var b=Infinity,c="",d=1-game.getEffect("goldCostReduction"),f=game.bld.getBuildingExt("ziggurat").meta.on,e=Math.max(f,1),g=game.getEffect("unicornsRatioReligion")+1,k=500*(.9+.1*g),m=game.prestige.getPerk("unicornmancy").researched?1.1:1,p=game.getEffect("riftChance")*m/2E4*k;k="unicorns";var q=
h.unicorns,v=q.perTickCached,n=game.calendar.cycleEffectsFestival({unicorns:1}).unicorns,x=q.perTickCached*game.getTicksPerSecondUI()/n;if(!x)return a;var w=x/Math.max(1,a.val),t=2*Math.pow(a.priceRatio+game.getEffect("priceRatio"),a.val);w=t/w;var r=1.5*game.prestige.getParagonProductionRatio()+1.5,C=h.tears.value+2500*q.value/e>Math.max(1E6,r*h.ivory.value);C=C||h.ivory.perTickCached*r*n<v&&2E4<h.manpower.maxValue;C&=h.alicorn.unlocked;v="tears";C&&(k=v="ivory");w=C?3E3*w:w;w<b&&(b=w,c=a);a:for(w=
0;6>w;w++)if(n=game.religion.meta[0].meta[w],n.unlocked){let F;r=0;var z=g;if(n.effects.unicornsRatioReligion&&(!C||n.effects.alicornChance)){var A=Math.pow(1.15,n.on);for(var D=0;D<n.prices.length;D++){var G=n.prices[D];let B=G.name;G=G.val;B===v&&(r+=G*A*2500/e,z+=n.effects.unicornsRatioReligion);if("gold"===B&&G*d*A>h.gold.maxValue)continue a;"tears"===B&&(F=G*A*2500/e)}D=game.getEffect("riftChance");A=n.effects;A.riftChance&&(D+=A.riftChance);D=D*m/2E4*(50*z+450);D-=p;z=x*z/g;z-=x;z+=D;z=r/z;
C&&A.tcRefineRatio&&(z*=.5-A.tcRefineRatio);z<b&&(b=z,c=n);C&&q.value>F+t&&(c=a)}}f&&(a=c.label||"\u72ec\u89d2\u517d\u7267\u573a",a+="("+u("$resources."+k+".title")+"\u6027\u4ef7\u6bd4)",M.other["auto.unicorn"]!==a&&(M.other["auto.unicorn"]=a,L("summary.auto.unicorn",[a],"unicornSacrificeFilter")));return c}}};let ca=function(a){this.setTab(a)};ca.prototype={tab:void 0,render:function(){this.tab&&game.ui.activeTabId!==this.tab.tabId&&!this.tab._inherited&&setTimeout(()=>{this.tab.render()},200+Math.max(-Date.now()+
game.timer.timestampStart,-200))},setTab:function(a){for(const b in game.tabs)if(game.tabs[b].tabId===a){this.tab=game.tabs[b];break}this.tab?this.render():ka("unable to find tab "+a)}};let Da=function(){this.manager=new ca("Religion");this.bulkManager=new ma};Da.prototype={manager:void 0,bulkManager:void 0,build:function(a,b,c){var d=this.getBuild(a,b);a=this.getBuildButton(a,b);if(!a||!a.model.metadata)return game.religionTab.render();let f=a.model;if(!f.enabled&&(f.prices=a.controller.getPrices(f),
a.controller.updateEnabled(f),!f.enabled))return;c=this.bulkManager.construct(f,a,c);if(0!==c)if(ia(f.prices),game.stats.getStat("totalClicks").val+=1,d=d.label,"s"===b){if(l.auto.cache.trait.wise)return K("\u54f2\u5b66\u5bb6\u5c0f\u732b\u7977\u544a\u4e86 "+d,c,"faith"),L("act.sun.discovers.leader",[d,c],"faithBuildFilter");1===c?L("act.sun.discover",[d],"faithBuildFilter"):L("act.sun.discovers",[d,c],"faithBuildFilter");K("\u5c0f\u732b\u7977\u544a\u4e86 "+d,c,"faith")}else K(d,c,"build"),1===c?L("act.build",
[d],"buildFilter"):L("act.builds",[d,c],"buildFilter")},getBuild:function(a,b){switch(b){case "z":return game.religion.getZU(a);case "s":return game.religion.getRU(a);case "c":return game.religion.getTU(a)}},getBuildButton:function(a,b){let c;switch(b){case "z":c=this.manager.tab.zgUpgradeButtons;break;case "s":c=this.manager.tab.rUpgradeButtons;break;case "c":c=this.manager.tab.children[0].children[0].children}let d=this.getBuild(a,b);for(a=0;a<c.length;a++)if(c[a]&&(b=c[a].model.name,-1!==b.indexOf(d.label)))return c[a]}};
let Ea=function(){this.manager=new ca("Time");this.crafts=new ha;this.bulkManager=new ma};Ea.prototype={manager:void 0,crafts:void 0,bulkManager:void 0,build:function(a,b,c){var d=this.getBuild(a,b);a=this.getBuildButton(a,b);if(!a||!a.model.metadata)return game.timeTab.render();if(!a.model.enabled)return a.controller.updateEnabled(a.model);d=d.label;c=this.bulkManager.construct(a.model,a,c);0!==c&&(ia(a.model.prices),K(d,c,"build"),1===c?L("act.build",[d],"buildFilter"):L("act.builds",[d,c],"buildFilter"))},
getBuild:function(a,b){return"chrono"===b?game.time.getCFU(a):game.time.getVSU(a)},getBuildButton:function(a,b){let c;c="chrono"===b?this.manager.tab.children[2].children[0].children:this.manager.tab.children[3].children[0].children;a=this.getBuild(a,b);for(let d in c)if(-1!==c[d].model.name.indexOf(a.label))return c[d]}};let Ka=function(){this.workManager=new ca("Workshop");this.sciManager=new ca("Science");this.crafts=new ha};Ka.prototype={manager:void 0,crafts:void 0,build:function(a,b){var c,
d=this.getBuildButton(a,b);if(d&&d.model.metadata){if(!d.model.enabled&&(d.model.prices=d.controller.getPrices(d.model),d.controller.updateEnabled(d.model),!d.model.enabled))return;if("policy"===b){var f=d.model.metadata;if("theocracy"===f.name&&!game.village.leader)return;if(game.village.leader&&f.requiredLeaderJob&&game.village.leader.job!==f.requiredLeaderJob){var e=game.village.getJob(f.requiredLeaderJob).title;game.msg($I("msg.policy.wrongLeaderJobForResearch",[f.label,e]),"important");return}if("transkittenism"===
f.name&&15<=game.bld.getBuildingExt("aiCore").meta.effects.aiLevel){game.msg($I("msg.policy.aiNotMerges"),"alert","ai");return}if(!1===f.blocked)for(c=0;c<f.blocks.length;c++)if(game.science.getPolicy(f.blocks[c]).researched){f.blocked=!0;return}}f=l.auto.upgrade.items.upgrades;d.model.prices=d.controller.getPrices(d.model);d.controller.payPrice(d.model,{},function(){});ia(d.model.prices);d=d.model.metadata;d.researched=!0;d.handler&&d.handler(game,d);d.unlocks&&game.unlock(d.unlocks);if(d.blocks)for(c in d.blocks)game.science.getPolicy(d.blocks[c]).blocked=
!0;if(d.onResearch)d.onResearch(game);d.upgrades&&("workshop"!==b||f.update||(f.update=!0),xa(d.upgrades));game.stats.getStat("totalClicks").val+=1;c=a.label;var g=(d=l.auto.cache.trait.scientist)?"\u79d1\u5b66\u5bb6\u5c0f\u732b":"\u5c0f\u732b";d=d?1:0;if("workshop"===b){if(K(c,d,"upgrade"),L("upgrade.upgrade",[c,g],"upgradeFilter"),a.name===f.cache)for(e in f.cache=!1,a=l.auto.cache.resUpg,l.auto.cache.resUpg)delete a[e]}else"science"===b?(K(c,d,"research"),L("upgrade.tech",[c,g],"researchFilter")):
"policy"===b&&L("upgrade.policy",[c],"policyFilter")}else"workshop"===b?game.workshopTab.render():game.libraryTab.render()},getValue:function(a,b){var c=l.auto.resources[a];c=c&&c.enabled?c.stock:0;let d=l.auto.upgrade.items.upgrades.cache;l.auto.craft.oxidation&&"oxidation"!==b&&("science"===a&&5E3<h.steel.value&&5E4<h.science.value&&(c+=1E5),"steel"===a&&(c+=5E3));"titanium"===a&&"rotaryKiln"!==b&&("rotaryKiln"!==b&&!game.workshop.metaCache.rotaryKiln.researched&&game.workshop.get("orbitalGeodesy").researched&&
(c+=5E3),"orbitalGeodesy"===d&&d!==b&&"pumpjack"!==b&&(c+=1E3));"iron"===a&&"ironwood"!==b&&M.other["auto.ironwood"]&&1E4<h.science.value&&(c+=3E3);"alloy"===a&&d&&d!==b&&(c+=l.auto.cache.resUpg[a]);"oil"===a&&"orbitalGeodesy"!==b&&20<game.bld.get("calciner").val&&!game.workshop.metaCache.orbitalGeodesy.researched&&(c+=35E3);return Math.max(h[a].value-c,0)},getBuildButton:function(a,b){let c;"workshop"===b?c=this.workManager.tab.buttons:"science"===b?c=this.sciManager.tab.buttons:"policy"===b&&(c=
this.sciManager.tab.policyPanel.children);for(let d of c)if(d.model.name===a.label)return d}};let Ba=function(){this.manager=new ca("Bonfire");this.crafts=new ha;this.bulkManager=new ma};Ba.prototype={manager:void 0,crafts:void 0,bulkManager:void 0,built:function(a,b,c){let d=this.getBuild(a);a=this.getBuildButton(a,b);if(d.meta.unlocked){if(!a||!a.model.metadata)if(game.bldTab.activeGroup="all",!a||!a.model.metadata)return game.bldTab.render();if(!a.model.enabled)return a.controller.updateEnabled(a.model);
b=d.meta.label?d.meta.label:d.meta.stages[b].label;c=this.bulkManager.construct(a.model,a,c);0!==c&&(ia(a.model.prices),K(b,c,"build"),game.stats.getStat("totalClicks").val+=1,1===c?L("act.build",[b],"buildFilter"):L("act.builds",[b,c],"buildFilter"))}},count:function(a,b){if(b){game.religion.getRU("solarRevolution");var c=game.workshop,d=c.get("geodesy").researched,f=c.get("orbitalGeodesy").researched,e=c.get("spaceManufacturing").researched,g=game.prestige.getPerk("vitruvianFeline").researched,
k=.9<P("titanium");game.space.getProgram("moonMission");var m=game.religion.getSolarRevolutionRatio();switch(a){case "field":if(game.bld.getBuildingExt(a).meta.val>35+85*g){if(.5>game.getEffect("scienceRatio")){b=Math.floor(.3*b);var p=!0}}else return b;break;case "chapel":"chapel"!==a||game.bld.getBuildingExt(a).meta.val<17+m||(game.calendar.festivalDays||(b=0),f||(b*=.34,p=!0));break;case "aqueduct":if(2>this.crafts.getPotentialCatnip(!1)||game.challenges.isActive("winterIsComing"))break;else e||
(b=Math.floor(.4*b));case "library":if(k=game.science.metaCache,"library"===a&&!k.writing.unlocked)break;case "academy":case "pasture":case "barn":if("barn"===a&&1600>h.minerals.maxValue)break;k=h.wood.value>.94*h.wood.maxValue;if(h.minerals.value>.94*h.minerals.maxValue&&k)break;case "warehouse":if("warehouse"===a)if(5E4>h.minerals.maxValue){if(c.get("deepMining").researched||20>game.bld.getBuildingExt(a).meta.val)break}else g&&!e&&(b=Math.floor(.3*b));case "lumberMill":if("lumberMill"===a)if(game.bld.getBuildingExt(a).meta.val<
55-12*g-10*!d){if(!game.getEffect("lumberMillRatio")&&3.1<game.bld.getEffect("woodRatio")&&1200<h.iron.maxValue&&(b=0),h.gold.value||.3>game.getEffect("ironPerTickAutoprod"))break}else!e&&.5>P("iron")&&(p=!0,E("lumberMill"));case "mine":if("mine"===a&&g&&(game.bld.getBuildingExt("logHouse").meta.val||game.ironWill))break;case "oilWell":if("oilWell"===a){e=game.bld.getBuildingExt(a).meta.val;c=h.oil;k=h.oil.value;if(9>e||2E4>c.maxValue)break;55E3<c.maxValue&&3E4<k&&199>e&&(b=Math.floor(.5*b));if(1<
game.getEffect("calcinerRatio")&&!f&&3E4>k)return b}case "quarry":g&&(!f&&game.bld.get(a).val?(p=!0,E("lower")):f&&E("lower",!0));break;case "harbor":"harbor"===a&&(g=game.bld.getBuildingExt(a).meta.val,k=game.bld.getBuildingExt("reactor").meta.val,8>g?(E("harbor"),p=!0):20>k&&7.5<m?(p=!0,Math.floor(.2*b)):f||c.get("geodesy").researched?e&&E("harbor",!0):p=!0,g>60+k&&.9>P("iron")&&(b=Math.floor(.5*b)));break;case "logHouse":f=game.bld.getBuildingExt("amphitheatre").meta;if(5>f.val&&!f.stage&&f.unlocked&&
3>game.village.happiness&&18<game.village.maxKittens)return 0;break;case "biolab":e||(b=1);break;case "factory":f=game.bld.getBuildingExt(a).meta.val;if(e){if(game.space.getBuilding("sattelite").val||!f||m||(l.auto.space.items.sattelite.enabled=!0,b=0),1>game.getEffect("productionRatio")&&(p=!0,.5>game.getEffect("productionRatio")))return 0}else k||(f?(b=Math.floor(.4*b),p=!0,E("factory")):b=1);break;case "accelerator":if(!g)break;c.get("energyRifts").researched||(b=0);e?game.space.getProgram("piscineMission").on?
!k&&13E4<h.titanium.maxValue&&(p=!0):b=0:13E4<h.titanium.maxValue&&(b=0);break;case "mansion":g=g||!g&&c.get("geodesy").researched&&140<game.village.sim.kittens.length,!e&&1<game.stats.getStat("totalResets").val&&!k&&g&&(E("mansion"),p=!0),4>h.starchart.perTickCached&&"mansion"===a&&!k&&g&&(p=!0)}p?b=Math.floor(.5*b):m||d||(b=Math.ceil(.5*b));"hut"!==a&&"logHouse"!==a||!b||(a=h.catnip,p=this.crafts.getPotentialCatnip(!1),m=game.challenges.isActive("anarchy"),f=game.village.happiness,(a.value<5E3+
100*f&&a.perTickCached<1.7*f&&(!game.science.get("agriculture").researched||m)||1>p&&0>a.value+1E3*p-1E3)&&!d?(b=0,E("kittens")):E("kittens",!0));return b}},getBuild:function(a){return game.bld.getBuildingExt(a)},getBuildButton:function(a,b){let c=this.manager.tab.children;a=this.getBuild(a);b="undefined"===typeof b?a.meta.label:a.meta.stages[b].label;for(const d in c)if(-1!==c[d].model.name.indexOf(b))return c[d]},getSumPrices:function(a,b){let c=(a.priceRatio?a.priceRatio:a.stages[a.stage].priceRatio)+
game.getEffect("priceRatio");return(b.val-b.val*Math.pow(c,a.val-1))/(1-c)},sellBuild:function(a){a=this.getBuild(a).meta;let b=a.stages[a.stage].prices;for(let c=0;c<b.length;c++){let d=b[c];if(h[d.name].isRefundable()&&!d.isTemporary&&a.val){let f=this.getSumPrices(a,d);game.resPool.addResEvent(d.name,.5*f)}}a.on=0;a.val=0}};let Ca=function(){this.manager=new ca("Space");this.crafts=new ha;this.bulkManager=new ma};Ca.prototype={manager:void 0,crafts:void 0,bulkManager:void 0,build:function(a,b){let c=
this.getBuild(a),d=this.getBuildButton(a);if(c.unlocked&&l.auto.space.items[a].enabled){if(!d||!d.model.metadata)return game.spaceTab.render();if(!d.model.enabled)return d.controller.updateEnabled(d.model);a=c.label;b=this.bulkManager.construct(d.model,d,b);0!==b&&(ia(d.model.prices),K(a,b,"build"),game.stats.getStat("totalClicks").val+=1,1===b?L("act.build",[a],"spaceFilter"):L("act.builds",[a,b],"spaceFilter"))}},getBuild:function(a){return game.space.getBuilding(a)},getBuildButton:function(a){const b=
this.manager.tab.planetPanels;for(const c in b)for(let d in b[c].children)if(b[c].children[d].id===a)return b[c].children[d]}};let ha=function(){this.cacheManager=new Fa};ha.prototype={craft:function(a,b){b=Math.floor(b);if(a&&!(1>b)&&this.canCraft(a,b)){var c=this.getCraft(a),d=game.getResCraftRatio(c.name)+1,f=l.auto.cache.trait.engineer&&game.village.leader,e=f?"\u5de5\u5320\u5c0f\u732b\u5236\u4f5c\u4e86 ":"\u5c0f\u732b\u5236\u4f5c\u4e86 ";b=Math.ceil(b);d*=b;var g=dojo.clone(game.workshop.getCraftPrice(c));
for(var k=g.length-1;0<=k;k--){let m=g[k];m.val*=b;K(m.name,m.val,"resConsume")}f&&(k=game.village.getEffectLeader("engineer",0),f&&"metallurgist"===h[a].tag&&l.auto.cache.trait.metallurgist&&(d+=b*k,e="\u51b6\u91d1\u5b66\u5bb6\u5c0f\u732b\u5236\u4f5c\u4e86 "),"chemist"===h[a].tag&&l.auto.cache.trait.chemist&&(d+=.5*b*k,e="\u5316\u5b66\u5bb6\u5c0f\u732b\u5236\u4f5c\u4e86 "));game.resPool.payPrices(g);game.resPool.addResEvent(c.name,d);c.upgrades&&xa(c.upgrades);b=game.stats;b.getStat("totalCrafts").val++;
b.getStatCurrent("totalCrafts").val++;b.getStat("totalClicks").val+=1;a=h[a].title;b=d;f?K(a,b,"craftLeader"):K(a,b,"craft");L("act.craft",[e+game.getDisplayValueExt(b),a],"craftFilter")}},canCraft:function(a,b){var c=this.getCraft(a);a=!1;if(c.unlocked){a=!0;c=game.workshop.getCraftPrice(c);for(let d in c){let f=c[d];h[f.name].value<f.val*b&&(a=!1)}}return a},getCraft:function(a){return game.workshop.getCraft(a)},getLowestCraftAmount:function(a,b,c,d){var f=Number.MAX_VALUE;let e=game.workshop;var g=
e.get("geodesy").researched,k=this.getMaterials(a);if(!k||Infinity===h[a].value)return 0;let m=this.getValueAvailable(a,!0);let p;var q=game.bld.getBuildingExt("temple").meta,v=game.getEffect("priceRatio"),n=Math.pow(q.priceRatio+v,q.val),x=game.prestige.getPerk("renaissance").researched,w=this.getCraft(a);let t=l.auto.craft,r=game.getResCraftRatio(w.name)+1;var C=t.trigger,z=h.ship.value;if("ship"===a&&b){p=85>z||1E5<h.science.maxValue;var A=game.religion.getSolarRevolutionRatio();w=game.religion.transcendenceTier;
var D=30/Math.max(.17,Math.log1p(A));game.bld.getBuildingExt("calciner").meta.val&&(D*=.9);A=!e.get("oxidation").researched&&!t.oxidation||!A||6>w;p&&A&&g&&(D=243,game.religion.faithRatio&&6>w&&g&&(D=-100*w+750-250*!w));p=p&&z<D&&A&&3.3<r}let G=Number.MAX_VALUE/r+Number.MAX_VALUE/Math.pow(2,53)/r;var F=game.science,B=F.meta[0];A=F.get("navigation").researched;let J=l.auto.cache;if("beam"===a||"slab"===a){var y=Object.keys(k)[0];2>P(y)&&(t.autoConsume[y]=0,500<h.scaffold.value&&.9<C&&b&&(t.autoConsume[y]=
1,C=.9),!h[a].value&&h.slab.value&&(p=!0))}"megalith"===a&&b&&(w=h[a].unlocked&&15<game.diplomacy.get("nagas").embassyLevel&&!game.calendar.season&&!m,10<r&&40>m||w)&&(f=1,p=!0);D=l.auto.options.items.hunt;w="fullIron"===D.time&&D.enabled;if("plate"===a&&b){var H=game.getResourcePerTick("coal",!0);C*=this.getResource("coal").maxValue;var V=game.bld.getBuildingExt("reactor").meta;v=Math.pow(v+V.priceRatio,V.val);V=h.titanium.value>3500*v&&300<h.uranium.value&&m<5E3*v;0<H&&h.iron.value!==h.iron.maxValue&&
150<m&&!V&&.8<this.getValueAvailable("plate")/this.getValueAvailable("steel")&&t.items.steel.enabled&&(f=(C-this.getValue("coal"))/H*Math.max(game.getResourcePerTick("iron",!0),0),f=.008*(this.getValueAvailable("iron")-Math.max(C-f,0)));if(V||.89<P("iron")&&h.titanium.maxValue<3500*v)p=!0;23>h[a].value&&750>h.faith.maxValue&&30<h.gold.value&&17>h.manuscript.value&&23>h[a].value&&(2.8<r||10<h.iron.value/125*r)&&(p=!0);!z&&3<r&&25<=h.starchart.value&&150>m&&(f=Math.ceil(Math.min(h.iron.value/100,(150-
m)/r)),p=!0);w&&(p=!0)}v=this.getValueAvailable("science",!0);C=P("science");H=P("culture");z=S=>{var O=J.science?J.science:"\u79d1\u5b66";p=!0;"\u6cb9\u6c14\u5904\u7406"!==O&&(l.auto.filter.items.miscFilter.enabled||(O=game.msg(u("craft.force",[h[S].title,O]),null,null,!0),$(O.span).css("color","#ff589c")),K("craft"+aa(S),1))};if("manuscript"===a&&b){var U=J.resources.manuscript;V=U?17:19;for(y=16;y<V;y++){let S=B.meta[y],O=U||S.prices[1].val;if(!S.researched||0<U){O=(q=(q=16===y&&4>game.village.happiness&&
1===q.val&&4<r)||750<h.faith.maxValue||50>h.gold.value)?O:10*n;n=game.science.getPolicy("tradition").researched?20:25;f=Math.ceil((O-m)/r);this.getValueAvailable("parchment",!0)>f*n&&1<=f&&h.culture.value>16*n*f&&(J.science=0<U?J.science:S.label,J.science=q?J.science:"\u795e\u6bbf",z("manuscript"),J.resources.manuscript=0);break}}.9<H&&2>H&&(14>h.manpower.perTickCached||!A)&&1E3>m&&(p=!0);!game.calendar.festivalDays&&h.unobtainium.value&&F.get("drama").unlocked&&(f=0)}n=500>h.gold.maxValue||game.religion.getRU("solarRevolution").on||
game.religion.transcendenceTier;if("compedium"===a&&b&&A&&n){V=(n=J.resources.compedium)?19:27;for(y=18;y<V&&(!game.prestige.getPerk("numerology").researched||game.calendar.festivalDays||!game.science.get("drama").unlocked);y++)if(q=B.meta[y],(!q.researched||0<n)&&"metaphysics"!==q.name&&"drama"!==q.name){if(q.prices[1].name===a||n)f=Math.ceil(((n||q.prices[1].val)-m)/r),V=this.getValueAvailable("manuscript",!0),U=v>1E4*f||1<=C,V>50*f&&1<=f&&U?(J.science=0<n?J.science:q.label,1>C&&z("compedium"),
J.resources.manuscript=0,J.resources.compedium=0):1<=f&&(J.resources.manuscript=50*f,J.science=0<n?J.science:q.label);break}20===y&&60>h[a].value&&game.religion.transcendenceTier&&(p=!0,f=1);!F.get("metalurgy").researched&&.98<H&&100>m&&.98<C&&(p=!0);!d&&3>r&&(f=0)}if("blueprint"===a&&b&&F.get("electricity").researched)for(y=30;44>y;y++)if(F=B.meta[y],!(F.researched||-1<["quantumCryptography","blackchain","ecology","ai"].indexOf(F.name))){F.prices[1].name===a&&(f=Math.ceil((F.prices[1].val-m)/r),
B=this.getValueAvailable("compedium",!0),n=v>25E3*f||1<=C,B>25*f&&1<=f&&n?(J.science=F.label,z("blueprint"),J.resources.manuscript=0,J.resources.compedium=0):1<=f&&(J.resources.compedium=25*f,J.science=F.label));break}c=this.getLimRat(a,b,c);"parchment"===a&&(b=2.1>r,m=h[a].value,5>m&&1.5<r&&(p=!0,f=1),A||(300<m&&(b=!0),500<m&&(f=0,E("parchment"))));for(y in k)A=0,A=k[y],A=!b||p||0<h[y].maxValue&&d?this.getValueAvailable(y,p)/A:c*((this.getValueAvailable(y,!0)+A/r*m)/A)-m/r,G=Math.min(A,G,f);if("steel"===
a&&b){A=game.bld.getBuildingExt("calciner").meta;let S=h.steel.value;k=this.getValueAvailable("steel");h.plate.value<.375*Math.min(1,h.coal.perTickCached/h.iron.perTickCached)*h.steel.value&&!t.oxidation&&t.items.plate.enabled&&k&&(G=0);f=l.auto.upgrade.items.upgrades;k=(O,W)=>{let da;if(O&&(da=e.get(O),W=da.prices,!da.unlocked))return;if(!O||!da.researched){for(let qa in W){let ea=W[qa];if("steel"===ea.name)var pa=ea.val;if("science"===ea.name&&h.science.value<.95*ea.val)return}W=Math.ceil((pa-S)/
r);pa=h.iron.value>100*W&&h.coal.value>100*W;0<W&&pa&&(G=W,p=!0,O&&Z(u("craft.forceSteel",[da.label])))}};f.cache||t.oxidation||game.ironWill||(k("steelAxe"),k("steelArmor"));y=this.getUnResearched("oxidation");if(c=A.on){if(A.isAutomationEnabled)5>game.time.getCFU("ressourceRetrieval").on&&E("ironFactory");else if(A=.0015*(1+.1*game.bld.get("reactor").on)*(game.getEffect("calcinerRatio")+1)*game.bld.getAutoProductionRatio()*(game.getEffect("ironPolicyRatio")+1)*game.calendar.cycleEffectsFestival({iron:1}).iron*
c,G=Math.max(0,G)+A,125>S&&(G+=1),A=.01*Math.min(h.coal.value,h.iron.value),G>A||t.oxidation)G=A;k("oxidation");A=h.titanium.value;y&&(B=Math.ceil((5E3-m)/r),F=(100*B-h.iron.value)/h.iron.perTickCached,n=2E4<h.science.value||1E4>h.starchart.value,q=6E3-1500*!g+1E3*(4<c),(100*B-h.coal.value)/h.coal.perTickCached<q&&F<q&&n&&(t.oxidation=!0,E("oxidation")));B=h.alloy.value;F=this.getUnResearched("fluidizedReactors");this.getUnResearched("orbitalGeodesy")&&3E4<h.oil.value&&35E3<h.oil.maxValue&&1E3>h.uranium.value&&
!F&&(n=Math.ceil((1E3-B)/r),q=h.titanium.value>10*n||300<h.alloy.value&&20<c||600>(10*n-A)/h.titanium.perTickCached||19<c,0<n&&q&&!f.cache&&(l.auto.cache.resUpg.alloy=1E3,f.cache="orbitalGeodesy",Z(u("craft.CacheSteel",["\u8f68\u9053\u6d4b\u5730\u5b66"]))));F&&!f.cache&&(F=Math.ceil((200-B)/r),A=A>10*F||100<h.alloy.value||600>(10*F-A)/h.titanium.perTickCached||14<c,0<F&&6<c&&A&&(l.auto.cache.resUpg.alloy=200,f.cache="fluidizedReactors",Z(u("craft.CacheSteel",["\u6d41\u5316\u53cd\u5e94\u5668"]))));
this.getUnResearched("miningDrill")&&1E5<h.science.value&&1750<m&&g&&!f.cache&&k("miningDrill");(g=l.auto.cache.resUpg.alloy)&&k("",[{name:"steel",val:75*Math.ceil((g-B)/r)}])}else game.challenges.isActive("blackSky")&&k("",[{name:"steel",val:1100}]);y||(t.oxidation=null,E("oxidation",!0));D.time&&.98<P("iron")&&(D.time="fullIron")}"alloy"===a&&b&&(g=(S,O)=>{S=e.get(S);if(!S.researched&&S.unlocked){var W=Math.ceil((O-h.alloy.value)/r);1<W&&h.steel.value>75*W&&h.titanium.value>10*W&&!t.oxidation&&
(G=W,p=!0,(7>game.religion.getSolarRevolutionRatio()||25<O)&&Z(u("craft.forceSteel",[S.label])))}},35E3<h.oil.value&&g("orbitalGeodesy",1E3),g("fluidizedReactors",200),g("alloyAxe",25),g("alloySaw",75));"eludium"===a&&b&&!d&&w&&game.time.getCFU("ressourceRetrieval").on>8-2*x&&(G=Math.max(G,1));if(1>G)return 0;x=h[a].maxValue;a=h[a].value;0<x&&G*r>x-a&&(G=(x-a)/r);!b||p||d&&"noRequire"!==d||(G*=Math.max(Math.min(Math.log(r-1),1),.2));return G},getMaterials:function(a){let b={};if(a=this.getCraft(a)){a=
game.workshop.getCraftPrice(a);for(const c in a){let d=a[c];b[d.name]=d.val}return b}},getTickVal:function(a,b){let c=a.name,d=game.getResourcePerTick(c,!0);if("timeCrystal"===c){var f=game.getEffect("alicornChance"),e=game.getResourcePerTick("alicorn"),g=.04*(1+game.getEffect("tcRefineRatio"));f*=1+game.getLimitedDR(game.getEffect("alicornPerTickRatio"),1.2);f=.2*Math.min(f,1)*(1+game.timeAccelerationRatio());d+=(f+e)*g}if(a.craftable){a=Number.MAX_VALUE;e=this.getMaterials(c);g=1+game.getResCraftRatio(c);
for(let k in e){f=g/e[k];let m=this.getTickVal(this.getResource(k));a=Math.min(m*f,a)}d+=a===Number.MAX_VALUE?0:a}if(0>=d&&("spice"===c||"blueprint"===c))return"ignore";b||(b=1,"unobtainium"===c&&M.other["time.skip"]&&(b=.4),d+=this.cacheManager.getResValue(c)*b);return d},getAverageHunt:function(){let a={},b=game.getEffect("hunterRatio")+game.village.getEffectLeader("manager",0);a.furs=40+32.5*b;a.ivory=50*Math.min(.225+.01*b,.5)+40*b*Math.min(.225+.01*b,.5);a.unicorns=.05;10<=this.getValue("zebras")&&
(a.bloodstone=0===this.getValue("bloodstone")?.05:5E-4);game.ironWill&&game.workshop.get("goldOre").researched&&(a.gold=.625+.625*b);return a},getResource:function(a){let b=h[a];if(b)return b;ka("unable to find resource "+a);return null},getValue:function(a){return this.getResource(a).value},getStock:function(a){var b=l.auto.resources[a];b=b&&b.enabled?b.stock:0;let c=l.auto.cache.stocks;c||(this.getAutoStocks(),c=l.auto.cache.stocks);c[a]&&(b+=c[a]);return b},getAutoStocks:function(){let a=game.workshop,
b=l.auto.cache;b.stocks={};if(!a.get("spaceManufacturing").researched){var c=a.get("orbitalGeodesy").researched,d=game.village.leader,f=game.ironWill,e=game.village.sim.kittens.length,g=l.auto.cache.resUpg.alloy;"wood iron alloy steel titanium gear beam blueprint".split(" ").forEach(k=>{let m=b.stocks[k]=0;switch(k){case "wood":this.getUnResearched("ironwood")&&3E3<h.iron.value&&20<e&&(m+=15E3);23>game.bld.get("hut").val&&a.get("concreteHuts").researched&&!f&&!game.getEffect("priceRatio")&&!h.uranium.value&&
1>P(k)&&(m+=587E3);break;case "iron":var p=game.bld.get("lumberMill").val>19-40*game.getEffect("priceRatio"),q=50>h.gold.value&&p;if(2<game.bld.getBuildingExt("temple").meta.on||749<h.faith.maxValue||q||18<h.plate.value){q=(x,w,t)=>{x&&1E4>h.iron.value&&115>e&&(b.stocks[k]+=w,E(t))};var v=this.getUnResearched("reinforcedSaw")&&200<h[k].value&&1E3<h[k].maxValue;p=this.getUnResearched("crossbow")&&p&&1500<h[k].maxValue;let n=this.getUnResearched("ironwood")&&750<h[k].value&&3E3<h[k].maxValue&&3E4<h.science.maxValue&&
20<e;q(v,1E3,"reinforcedSaw");q(p,1500,"crossbow");q(n,3E3,"ironwood");a.get("spaceManufacturing").researched&&(E("ironwood",!0),E("crossbow",!0),E("ironwood",!0))}break;case "alloy":g&&(m+=g);break;case "steel":q=game.challenges.isActive("blackSky");this.getUnResearched("steelAxe")&&3E3<h.coal.value&&!f&&(30<game.bld.get("lumberMill").val||10<h[k].value)&&(b.stocks[k]+=75,E("steelAxe"));this.getUnResearched("steelSaw")&&250<h[k].value&&!h.titanium.value&&!q&&(b.stocks[k]+=750,E("steelSaw"));l.auto.craft.oxidation&&
this.getUnResearched("oxidation")&&(m+=5E3);q&&!h.titanium.perTickCached&&1100>h.steel.value&&6E3<h.oil.value&&(m+=1100);(q=l.auto.cache.resUpg.steel)&&(m+=q);g&&(m+=75*g/(1+game.getEffect("craftRatio")));break;case "titanium":q=game.bld.getBuildingExt("calciner").meta.val;this.getUnResearched("rotaryKiln")&&(20<q&&a.get("geodesy").researched||c)&&(b.stocks[k]+=5E3,E("rotaryKiln"));v=game.religion.getSolarRevolutionRatio();q=2.5>v&&(2<q||100<h.titanium.value)&&d;v=game.challenges.isActive("anarchy")&&
6>v;(p=this.getUnResearched("geodesy"))&&450<h.starchart.value&&(q||v)&&(m+=250);this.getUnResearched("concreteHuts")&&!p&&500<h.titanium.value&&!f&&45<h.concrate.value&&12E4<h.science.maxValue&&250>h.uranium.value&&(m+=3E3);this.getUnResearched("spaceManufacturing")&&24<game.bld.getBuildingExt("reactor").meta.val&&125E3<h.titanium.maxValue&&(m+=13E5);g&&(m+=5*g);break;case "gear":this.getUnResearched("rotaryKiln")&&4E3<h.titanium.value&&(m+=500);this.getUnResearched("fuelInjectors")&&2E4<h.oil.value&&
1>game.getEffect("calcinerRatio")&&(m+=250);this.getUnResearched("pumpjack")&&200<h.titanium.value&&.8>P("oil")&&(m+=125);this.getUnResearched("logistics")&&1E3<h.scaffold.value&&d&&(m+=100);this.getUnResearched("oilRefinery")&&1250<h.titanium.value&&(m+=500);break;case "beam":this.getUnResearched("deepMining")&&1200<h.iron.value&&(m+=5E3);break;case "blueprint":75<h.alloy.value&&!game.science.get("nanotechnology").researched&&2E5<h.science.maxValue&&a.get("rotaryKiln").researched&&!h.unobtainium.value&&
(m+=150)}b.stocks[k]+=m})}},getValueAvailable:function(a,b,c){let d=this.getValue(a),f=this.getStock(a);d=0!==this.getResource(a).maxValue&&Infinity==d?Number.MAX_VALUE:d;var e=c||0===c?c:void 0===c?1:l.auto.craft.trigger;if("catnip"===a){var g=this.getPotentialCatnip(!1);e=0!==game.calendar.season||this.getResource(a).maxValue*e<d||0>game.getResourcePerTick("catnip",!0);0>g&&e&&(f-=1500*g,l.auto.options.catnipMsg+4E6<Date.now()||!M.other["auto.craftCatnip"])&&(5>game.stats.getStat("totalResets").val&&
Z(u("msg.catnip")),E("craftCatnip"),l.auto.options.catnipMsg=Date.now())}d=Math.max(d-f,0);g=c&&!b?d:this.getResource(a).maxValue;if(!b&&0<g){b=(b=l.auto.resources[a])&&b.enabled&&void 0!==b.consume?b.consume:l.consume;if(l.auto.craft.autoConsume[a]&&!c||"coal"===a)b=1;d-=Math.min(g,d)*(1-b);"unobtainium"===a&&1E3>d+f&&this.getResource(a).value===g&&1E3<=this.getResource(a).value&&(d=this.getResource(a).value)}return d},getUnResearched:function(a){a=game.workshop.metaCache[a];return!a.researched&&
a.unlocked},getLimRat:function(a,b,c){if(!b)return c;let d=game.science.get("navigation");b=h[a];var f=h.ship.value;let e=game.space,g=e.getProgram("piscineMission"),k=game.prestige.getPerk("renaissance").researched;var m=game.bld,p=m.getBuildingExt("reactor").meta,q=game.getEffect("priceRatio");let v=m.get("steamworks"),n=m.getBuildingExt("magneto").meta;const x=m.getBuildingExt("temple").meta;let w=Math.pow(x.priceRatio+q,x.val);var t=game.religion.getSolarRevolutionRatio();switch(a){case "wood":p=
h.catnip;c=.09+b.perTickCached<p.perTickCached/game.workshop.getCraft("wood").prices[0].val&&this.getPotentialCatnip();f=!game.getEffect("scienceRatio")&&1E3<p.value&&game.ironWill;c=c||f?1:.5;m=m.getBuildingExt("field").meta;c=p.maxValue>10*Math.pow(m.priceRatio+q,m.val)&&1<t&&!game.ironWill&&b.value?0:c;break;case "beam":b=d.unlocked||500>h.gold.maxValue||1E3<h.iron.value&&!h.coal.value;c=h.scaffold.value<500+500*t+4500*!t?c:.02;c=b?c:.005;break;case "slab":q=750>h.faith.maxValue&&51>b.value&&35<
h.gold.value;c=h.scaffold.value||q||p.val&&2500>b.value?c:.005;c=500>h.scaffold.value?c:.1;c=2500<h.scaffold.value&&b.value>2500*(1+t)?.04:c;break;case "ship":q=5*p.val+225;p=h.titanium.maxValue;m=(b=!g.on&&9>e.getBuilding("sattelite").val&&b.value)&&5.5<t&&125E3>p&&!g.val;b=b&&6<t&&12E4<p;c=game.workshop.get("geodesy").researched&&!e.getProgram("moonMission").val&&4>t?.7:.4;c=f>.75*q&&3<t&&1E5>h.starchart.value?.3:c;c=m||.8<P("titanium")?.05:c;c=b&&(!game.workshop.get("satnav").researched||123E3<
p)?0:c;c=f>Math.max(400,p)?0:c;break;case "plate":q=3500<h.titanium.value&&250<h.uranium.value&&!p.val;t=x.on&&x.on<15-3*k&&t&&b.value<15*w;c=game.getEffect("calcinerRatio")||t?c:.3;c=150>b.value&&d.researched&&10<h.starchart.value&&50<h.scaffold.value||q?.9:c;c=l.auto.craft.oxidation&&!game.workshop.get("oxidation").researched?0:c;break;case "alloy":t=m.getBuildingExt("calciner").meta.val;f=Math.pow(n.priceRatio+q,n.val);c=v.on<n.on||2>t?.45:.76;q=!p.val&&31<n.val;c=b.value>Math.max(1250,10*f)&&
l.auto.build.items.magneto.enabled||q?.01:c;b=6>t&&game.challenges.isActive("blackSky");c=17>h.titanium.value&&!t||b||!game.science.get("electricity").researched?0:c;break;case "steel":c=l.auto.craft.oxidation?1:.65;break;case "eludium":c=5<game.time.getCFU("ressourceRetrieval").on?.1:.6;c=125>b.value&&-1.06<game.getEffect("hutPriceRatio")?1:c;break;case "megalith":t=m.getBuildingExt("ziggurat").meta;f=Math.pow(t.priceRatio+q,t.val);q=Math.pow(p.priceRatio+q,p.val);c=game.workshop.get("spaceManufacturing").researched?
c:.15;c=b.value>Math.max(100,50*f)?.005:c;c=h.plate.value<Math.max(5E3,50*q)?.1:c;if(50<b.value||t.on||1E3>h.unicorns.value)game.workshop.get("orbitalGeodesy").researched||(c=.001);break;case "concrate":t=e.getBuilding("moonOutpost").val;t=150*Math.pow(1.12,t);f=Math.pow(p.priceRatio+q,p.val);c=m.getBuildingExt("library").meta;q=Math.pow(c.priceRatio+q,c.val)*c.stage;m=10<game.diplomacy.get("nagas").embassyLevel;c=p.val&&m?.6:.15;c=b.value>Math.max(t,50*f,10*q)?.01:c;c=!b.unlocked&&m&&!game.calendar.season&&
500<h.titanium.value?1:c;break;case "gear":f=Math.pow(v.priceRatio+q,v.val);c=this.getUnResearched("logistics")&&1E3<h.scaffold.value;q=this.getUnResearched("fuelInjectors")&&.8>P("oil")&&.5>P("coal")&&250>b.value&&200<h.titanium.value;t=this.getUnResearched("offsetPress")&&15E3<h.oil.value&&1>t;c=q||c||t?.75:.3;c=b.value>Math.max(500,20*f)?.005:c;c=v.val||game.science.get("chemistry").researched||game.challenges.isActive("pacifism")&&50>b.value?c:0;break;case "kerosene":c=!g.val&&1400<h.starchart.value&&
250>b.value&&3<t?.8:.25;c=!g.on&&250<b.value?0:c;c=e.getProgram("moonMission").val?c:0;break;case "manuscript":c=game.prestige.getPerk("numeromancy").researched&&!game.calendar.festivalDays&&game.science.get("drama").unlocked?.25:.47;c=p.val?.4:c;b=m.getBuildingExt("chapel").meta;b=Math.pow(b.priceRatio+q,b.val);t=m.getBuildingExt("brewery").meta;h.culture.maxValue>Math.pow(t.priceRatio+q,t.val)&&.5<P("culture")&&(c=h.parchment.value>Math.max(1E6,250*b)&&p.val?1:c);break;case "compedium":c=game.science.get("architecture").unlocked?
c:0;c=h.manuscript.value>Math.max(1E4,100*w)?.9:c;10*b.value>Math.max(2E4,this.getCompendiaMax())&&1===P("science")&&(c=0);break;case "blueprint":c=game.science.get("industrialization").unlocked?c:0;10*h.compedium.value>Math.max(2E4,this.getCompendiaMax())&&1===P("science")&&(c=1);break;case "scaffold":p=b.value;m=m.get("observatory");f=Math.pow(m.priceRatio+q,m.val);q=p<50*f&&5E5<h.minerals.maxValue;b=1E3>b.value&&!game.getEffect("skillMultiplier")&&game.village.leader&&1E5<h.science.maxValue;c=
q||h.beam.value>20*h.slab.value||b?.75:c;c=game.science.get("navigation").unlocked&&750<h.iron.value||2<f?c:0;c=p<100+100*t&&game.science.get("navigation").unlocked&&750<h.iron.value?1:c;break;case "tanker":c=.1;break;case "thorium":c=b.value?.01:1E-4}return c},getCompendiaMax:function(){let a=game.bld.getEffect("scienceMax"),b=game.getEffect("scienceMaxCompendia");game.ironWill&&(a*=10);if(game.prestige.getPerk("codexLeviathanianus").researched){var c=game.religion.getTU("blackLibrary");c=1+c.val*
(c.effects.compendiaTTBoostRatio+game.getEffect("blackLibraryBonus"));a*=1+.05*c*game.religion.transcendenceTier}return a+b},getPotentialCatnip:function(a,b,c){var d=game.getEffect("catnipPerTickBase");a?(d=.1*d*(1+game.getLimitedDR(game.getEffect("coldHarshness"),1)),game.getEffect("factoryCostReduction")&&(d=0)):d*=game.calendar.seasons[3].modifiers.catnip-(4>game.calendar.year?0:.15);game.village.resourceProduction||game.village.updateResourceProduction();a=(a=game.village.resourceProduction.catnip)?
a*(1+game.getEffect("catnipJobRatio")):0;d+=a;if(void 0===c)d*=1+game.getEffect("catnipRatio");else{a=game.space.getBuilding("hydroponics");let f=a.effects.catnipRatio;d*=1+game.bld.getBuildingExt("aqueduct").meta.stages[0].effects.catnipRatio*c+f*a.val}c=game.challenges.isActive("winterIsComing")?0:game.prestige.getParagonProductionRatio();d=d*(1+c)*(1+game.religion.getSolarRevolutionRatio()*(1+game.bld.pollutionEffects.solarRevolutionPollution));d*=1+game.getEffect("blsProductionBonus")*h.sorrow.value;
d=game.calendar.cycleEffectsFestival({catnip:d}).catnip;d*=1+game.bld.pollutionEffects.catnipPollutionRatio;c=game.village.getResConsumption().catnip;a=game.bld.getBuildingExt("unicornPasture").meta.val;c=void 0===b?c*(1+game.getEffect("catnipDemandRatio")):c*(1+game.getLimitedDR(-.005*b+-.0015*a,1));0<game.village.sim.kittens.length&&1<game.village.happiness&&(b=Math.max(game.village.happiness*(1+game.getEffect("hapinnessConsumptionRatio"))-1,0),c=game.challenges.isActive("anarchy")?c*(1+b*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))):
c*(1+b*(1+game.getEffect("catnipDemandWorkerRatioGlobal"))*(1-game.village.getFreeKittens()/game.village.sim.kittens.length)));return d=d+c+game.getResourcePerTickConvertion("catnip")}};let ma=function(){this.craftManager=new ha};ma.prototype={craftManager:void 0,bulk:function(a,b,c,d){const f=[],e=[];var g=0;for(var k in a){var m=a[k];if(m.enabled){var p=b[k];if(!(-1!==m.max&&m.max<=p.val)&&!1!==p.unlocked){var q=m.require?h[m.require]:!1;if(!q||c<=q.value/q.maxValue){var v=p.stages?p.stages[p.stage].prices:
p.prices;"s"===m.variant&&(v=game.village.getEffectLeader("wise",dojo.clone(p.prices)));q=this.getPriceRatio(p,d);f[g]={};var n=f[g];n.id=k;n.label=m.label;n.name=m.name;n.stage=m.stage;n.variant=m.variant;e[g]={};n=e[g];n.id=k;n.name=m.name;n.count=0;n.spot=g;n.prices=[];let t=1-game.getLimitedDR(game.getEffect(k+"CostReduction"),1);for(w in v){let r=v[w],C=1-game.getLimitedDR(game.getEffect(r.name+"CostReduction"),1);n.prices.push({val:r.val*t*C,name:r.name})}n.priceRatio=q;n.source=d;n.limit=isNaN(m.max)?
-1:m.max;n.val=p.val;this.singleBuildPossible(p,n.prices,q,d)?g++:e.pop()}}}}if(0!==e.length){a={};for(var x in h)a[x]=this.craftManager.getValueAvailable(x,!0);for(x=0;0!==e.length;){a:for(c=0;c<e.length;c++){var w=e[c];p=b[w.id];m=x+p.val;p=w.prices;q=w.priceRatio||Number.MAX_VALUE;d=w.source;for(g=0;g<p.length;g++){k=p[g];let t,r,C;n=!1;"space"===d&&"oil"===k.name?(t=!0,C=k.val*(1-game.getLimitedDR(game.getEffect("oilReductionRatio"),.75))):"cryochambers"===w.id&&"karma"===k.name&&(r=!0,n=k.val*
(1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1)));if(v=t?a.oil<C*Math.pow(1.05,m):r?a.karma<n*Math.pow(q,m):a[k.name]<k.val*Math.pow(q,m)){for(k=0;k<g;k++)d&&"space"===d&&"oil"===p[k].name?(v=p[k].val*(1-game.getLimitedDR(game.getEffect("oilReductionRatio"),.75)),a.oil+=v*Math.pow(1.05,m)):"cryochambers"===w.id&&"karma"===p[k].name?(v=p[k].val*(1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1)),a.karma+=v*Math.pow(q,m)):(v=p[k].val*Math.pow(q,m),a[p[k].name]+="void"===
p[k].name?Math.ceil(v):v);-1!==w.limit&&(w.count=Math.max(0,Math.min(w.count,w.limit-w.val)));f[w.spot].count=w.count;e.splice(c,1);c--;continue a}t?a.oil-=C*Math.pow(1.05,m):r?a.karma-=n*Math.pow(q,m):(v=k.val*Math.pow(q,m),a[k.name]-="void"===k.name?Math.ceil(v):v,a[k.name]=a[k.name]?a[k.name]:0)}w.count++}x++}return f}},construct:function(a,b,c){const d=a.metadata;let f=0;"number"==typeof d.limitBuild&&d.limitBuild-d.val<c&&(c=d.limitBuild-d.val);a.enabled||b.controller.updateEnabled(a);if(a.enabled&&
b.controller.hasResources(a)||game.devMode){for(;b.controller.hasResources(a)&&0<c;)a.prices=b.controller.getPrices(a),b.controller.payPrice(a),b.controller.incrementValue(a),f++,c--;d.breakIronWill&&(game.ironWill=!1,a=game.science.getPolicy("liberty"),a.calculateEffects(a,game));d.unlockScheme&&d.val>=d.unlockScheme.threshold&&game.ui.unlockScheme(d.unlockScheme.name);d.unlocks&&game.unlock(d.unlocks);d.upgrades&&(d.updateEffects&&d.updateEffects(d,game),xa(d.upgrades))}return f},getPriceRatio:function(a,
b){let c=a.stages?a.priceRatio||a.stages[a.stage].priceRatio:a.priceRatio,d=0;"bonfire"===b&&(d=game.getEffect(a.name+"PriceRatio")+game.getEffect("priceRatio")+game.getEffect("mapPriceReduction"),d=game.getLimitedDR(d,c-1));return c+d},singleBuildPossible:function(a,b,c,d){let f=1-game.getLimitedDR(game.getEffect(a.name+"CostReduction"),1);for(let k in b){var e=b[k],g=1-game.getLimitedDR(game.getEffect(e.name+"CostReduction"),1);g*=e.val*f;if("space"===d&&"oil"===e.name){if(e=g*(1-game.getLimitedDR(game.getEffect("oilReductionRatio"),
.75)),this.craftManager.getValueAvailable("oil",!0)<e*Math.pow(1.05,a.val))return!1}else if("cryochambers"===a.name&&"karma"===e.name){if(e=g*(1-game.getLimitedDR(.01*game.prestige.getBurnedParagonRatio(),1)),this.craftManager.getValueAvailable("karma",!0)<e*Math.pow(c,a.val))return!1}else if(this.craftManager.getValueAvailable(e.name,!0)<g*Math.pow(c,a.val))return!1}return!0}};let La=function(){this.craftManager=new ha;this.manager=new ca("Trade")};La.prototype={craftManager:void 0,manager:void 0,
trade:function(a,b){(!a||1>b)&&ka(a+"-"+b+"\u8d38\u6613\u53ef\u80fd\u51fa\u70b9\u95ee\u9898");let c=this.getRace(a),d=this.getTradeButton(c.name),f=l.auto.cache.trait.merchant?"\u5546\u4eba\u5c0f\u732b\u4e0e ":"\u5c0f\u732b\u4e0e ";if(!d.model.enabled)return d.controller.updateEnabled(d.model);"sharks"===a||l.auto.trade.items[a].enabled||ka("\u8d38\u6613\u53ef\u80fd\u51fa\u70b9\u95ee\u9898");game.diplomacy.tradeMultiple(c,b);game.stats.getStat("totalClicks").val+=1;K(f+" "+c.title,b,"trade");L("act.trade",
[b,f+aa(c.title)],"tradeFilter")},getProfitability:function(a){var b;let c=this.getRace(a);if("leviathans"===a&&(game.time.getCFU("ressourceRetrieval").val&&.6<P("unobtainium")||400>c.duration&&(5>h.relic.value||200>h.timeCrystal.value)))return!0;var d=this.getMaterials(a);let f=0;for(var e in d)if("ivory"!==e){var g=this.craftManager.getTickVal(this.craftManager.getResource(e),!1);if(0>=g)return!1;f+=d[e]/g}e=this.getAverageTrade(c);d=0;for(var k in e){var m=h[k];g=this.craftManager.getTickVal(m);
"ignore"!==g&&(0>g&&(b=!0),d+=0<m.maxValue?Math.min(e[k],Math.max(m.maxValue-m.value,0))/g:e[k]/g)}m=!0;let p=game.calendar.season,q=0>h.spice.value+100*game.getResourcePerTick("spice",!0);g=game.religion.getSolarRevolutionRatio();k=P("titanium");if("nagas"===a){h.concrate.unlocked||game.ironWill||(m=!1);if(30>h.ship.value&&10>c.embassyLevel&&!game.ironWill)return!1;var v=1+game.prestige.getParagonProductionRatio(),n=h.concrate.value;n<100*v&&10<c.embassyLevel&&n&&(h.titanium.value>30*v||q&&game.calendar.festivalDays||
50>n)&&(b=!0);n>250*(1+g)*(1+v)&&.8>k&&(m=!1)}v=h.titanium;"griffins"===a&&(h.ship.value&&2!==p&&(200<h.ship.value||game.getEffect("productionRatio"))&&(m=!1),500>v.value&&2===p&&2<g&&g&&(m=!1),game.challenges.isActive("blackSky")&&500>v.value&&game.religion.getRU("basilica").on&&2===p&&(b=!0),h.steel.value>5*h.plate.value&&500<v.value&&2===p&&(b=!0),b=b||q&&game.calendar.festivalDays);if("zebras"===a){n=game.bld.getBuildingExt("calciner").meta.val;var x=l.auto.trade.items.griffins;x.enabled&&x.autumn&&
2===p&&2<n&&m&&(m=this.craftManager.getTickVal(h.iron),x=Math.min(Math.max(v.maxValue-v.value,0),e.titanium)/v.perTickCached,m=this.getAverageTrade(this.getRace("griffins")).iron/m<e.iron/m+x&&.3>k);if((200<h.gold.value||b&&450<h.faith.value)&&!game.religion.getRU("stainedGlass").on&&g)return;if(game.religion.getRU("basilica").on){if(30>v.value||1E3>l.auto.cache.resUpg.alloy)b=!0}else n&&3.5<g&&(m=!1);1===p&&(game.workshop.get("geodesy").researched&&(!game.workshop.get("concreteHuts").researched||
.5>P("titanium"))&&(b=!0),240<h.ship.value&&(h.steel.value>h.plate.value||.5>k)&&(b=!0));if(!game.workshop.get("caravanserai").researched&&4>g&&1>e.titanium)return!1;b=b||q&&game.calendar.festivalDays}if("spiders"===a&&(m=2===p?.4<k:.5<k&&.5>P("coal"),3===p&&(m=.9<k&&.5>P("coal")&&.95<P("gold")),b||(b=game.prestige.getParagonProductionRatio()+1,b=1>P("coal")&&h.steel.value<.8*b*h.plate.value&&v.value>600*(1+g)*b&&h.iron.value>1E4+1E4*g,m||b||(b=game.challenges.isActive("atheism")&&4<c.embassyLevel)),
h.scaffold.value<7E3+7E3*g))return!1;"dragons"===a&&(a=game.science.get("nanotechnology").researched,m=game.space.getProgram("centaurusSystemMission").on&&.5<k||a&&.35>P("uranium")&&.1<P("iron")||200<h.ship.value&&!g,b=b&&a&&h.titanium.value>5E3*g);return b||f<=d&&m},getAverageTrade:function(a){var b=game.getEffect("standingRatio")+game.diplomacy.calculateStandingFromPolicies(a.name,game),c=1+.02*a.energy;let d=1+game.diplomacy.getTradeRatio()+game.diplomacy.calculateTradeBonusFromPolicies(a.name,
game)+game.challenges.getChallenge("pacifism").getTradeBonusEffect(game);var f=0>a.standing?a.standing+b:0;f=0>f?1+f:1;let e=0<a.standing?Math.min(a.standing+b/2,1):0;b={};for(var g of a.sells){if(!this.isValidTrade(g,a))continue;let k=g.minLevel?g.chance*(1+game.getLimitedDR(.01*a.embassyLevel,.75)):g.chance,m=g.seasons?1+g.seasons[game.calendar.getCurSeason().name]:1;b[g.name]=((f-e)*Math.min(k,1)+1.25*e*Math.min(k,1))*g.value*c*m*d}"zebras"===a.name&&(c=h.ship.value,g=game.getEffect("zebraRelationModifier")*
game.bld.getBuildingExt("tradepost").meta.effects.tradeRatio,b.titanium=(1.5+.03*c)*(1+g)*Math.min(.15+.0035*c,1)*f,1>game.religion.getSolarRevolutionRatio()&&50>c&&.003>game.getEffect("titaniumPerTickAutoprod")&&(b.titanium*=.5));a=f*Math.min(a.embassyPrices?.35*(1+.01*a.embassyLevel):.35,1);b.spice=25*a+50*a*d/2;b.blueprint=.1*f;return b},isValidTrade:function(a,b){return!(a.minLevel&&b.embassyLevel<a.minLevel)&&(h[a.name].unlocked||"titanium"===a.name||"uranium"===a.name||"leviathans"===b.name)},
getLowestTradeAmount:function(a,b,c){let d,f,e;let g=this.getMaterials(a);c=this.getRace(a);for(k in g)d="manpower"===k?this.craftManager.getValueAvailable(k,!0)/g[k]:this.craftManager.getValueAvailable(k,!b,l.auto.trade.trigger)/g[k],d=Infinity==d?Number.MAX_VALUE/g[k]:d,f=void 0===f||d<f?d:f;f=Math.floor(f);if(0===f)return 0;if(null===c||l.auto.trade.items[a].allowCapped)return f;a=this.getAverageTrade(c);for(let m in c.sells){b=c.sells[m];var k=this.craftManager.getResource(b.name);k.maxValue&&
(b=Math.max((k.maxValue-k.value-Math.max(0,9*k.perTickCached))/a[b.name],0),e=b<e?e:b)}e=Math.ceil(e);if(0===e)return 0;f=e<f?Math.max(e-1,1):f;return Math.floor(f)},getMaterials:function(a){var b=game.challenges.isActive("postApocalypse")?game.bld.getPollutionLevel():1;b={manpower:b*(50-game.getEffect("tradeCatpowerDiscount")),gold:b*(15-game.getEffect("tradeGoldDiscount"))};if(void 0===a)return b;a=this.getRace(a).buys;for(const c in a){let d=a[c];b[d.name]=d.val}return b},getRace:function(a){return void 0===
a?null:game.diplomacy.get(a)},getTradeButton:function(a){for(let b in this.manager.tab.racePanels){let c=this.manager.tab.racePanels[b];if(c.race.name===a)return c.tradeBtn}},singleTradePossible:function(a){a=this.getMaterials(a);for(let b in a)if(this.craftManager.getValueAvailable(b,!0)<a[b])return!1;return!0}};let Fa=function(){};Fa.prototype={pushToCache:function(a){let b=l.auto.cache.cacheSum;a=a.materials;for(let c in a)b[c]||(b[c]=0),b[c]+=a[c]},getResValue:function(a){let b=l.auto.cache,c=
b.cacheSum;return c[a]?c[a]/(game.timer.ticksTotal-b.dataTimer.ticksTotal):0}};var T=function(a){document.styleSheets[0].insertRule(a,0)};T("body {font-family: inherit;font-size: inherit;}");T("body[data-ks-style]:not(.scheme_sleek) #game {min-width: 1300px;top: 32px;}");T("body[data-ks-style]:not(.scheme_sleek) .column {min-height: inherit;max-width: inherit !important;padding: 1%;margin: 0;overflow-y: auto;}");T("body[data-ks-style]:not(.scheme_sleek) #leftColumn {height: 92%;width: 26%;}");T("body[data-ks-style]:not(.scheme_sleek) #midColumn {height: 90%;width: 49%;}");
T("body[data-ks-style]:not(.scheme_sleek) #rightColumn {overflow-y: auto;height: 92%;width: 19%;top: 5px;font-size: 12px;font-family: -apple-system,BlinkMacSystemFont,Helvetica Neue,Helvetica,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,sans-serif;}");T("body #gamePageContainer #game #rightColumn {overflow-y: auto;}");T("body[data-ks-style]:not(.scheme_sleek) #gameLog {overflow-y: hidden !important;width: 100% !important;padding-top: 5px !important;}");T("body[data-ks-style]:not(.scheme_sleek) #resContainer .maxRes {color: #676766;}");
T("body[data-ks-style]:not(.scheme_sleek) #game .btn {border-radius: 0px;font-family: monospace;font-size: 12px !important;margin: 0 5px 7px 0;width: 290px;}");T("body[data-ks-style]:not(.scheme_sleek) #game .map-viewport {height: 340px;max-width: 500px;overflow: visible;}");T(" #game .map-dashboard {height: 120px;width: 292px;}");T("#ks-options ul {list-style: none;margin: 0 0 5px;padding: 0;}");T('#ks-options ul:after {clear: both;content: " ";display: block;height: 0;}');T("#ks-options ul li {display: block;float: left;width: 100%;}");
T("#ks-options #toggle-list-resources .stockWarn *,#ks-options #toggle-reset-list-resources .stockWarn * {color: "+l.stockwarncolor+";}");T(".right-tab {height: unset !important;}");let I,Na=()=>{I={version:3,toggles:{},items:{},resources:{},triggers:{},reset:{reset:!1,times:0,paragonLastTime:0,paragonTotal:0,karmaLastTime:0,karmaTotal:0},policies:[]}};Na();let Ia="build space craft upgrade trade faith time timeCtrl distribute options filter".split(" "),Oa=function(){Ia.forEach(a=>{$("#items-list-"+
a).find("input[id^='toggle-']").each(function(){let b=$(this);"radio"!==$(this).attr("type")&&(I.items[b.attr("id")]=b.prop("checked"))})});I.items["toggle-leaderJob-farmer"]=!0;I.items["toggle-leaderTrait-manager"]=!0;game.ironWill||(1<game.stats.getStat("totalResets").val&&game.msg("\u6ce8\u610f\uff1a\u975e\u94a2\u94c1\u610f\u5fd7\u6a21\u5f0f\uff0c\u6545\u52fe\u4e0a\u4e86\u55b5\u55b5\u5efa\u7b51","alert"),["hut","logHouse","mansion"].forEach(a=>{l.auto.build.items[a].enabled||$("#toggle-"+a).click()}));
Q()},Q=function(){I.toggles={infinity:l.auto.infinity.enabled,build:l.auto.build.enabled,space:l.auto.space.enabled,craft:l.auto.craft.enabled,upgrade:l.auto.upgrade.enabled,trade:l.auto.trade.enabled,faith:l.auto.faith.enabled,time:l.auto.time.enabled,timeCtrl:l.auto.timeCtrl.enabled,distribute:l.auto.distribute.enabled,options:l.auto.options.enabled,filter:l.auto.filter.enabled};I.resources=l.auto.resources;I.triggers={faith:l.auto.faith.trigger,time:l.auto.time.trigger,build:l.auto.build.trigger,
space:l.auto.space.trigger,craft:l.auto.craft.trigger,trade:l.auto.trade.trigger};I.policies=l.policies;localStorage["cbc.kitten-scientists"]=JSON.stringify(I)},Qa=function(){let a=JSON.parse(localStorage["cbc.kitten-scientists"]||"null");if(!a||3<a.version)return Oa();1===a.version&&(a.version=2,a.reset={reset:!1,times:0,paragonLastTime:0,paragonTotal:0,karmaLastTime:0,karmaTotal:0});2===a.version&&(a.version=3,a.policies=[]);if(3===a.version){I=a;if(a.toggles)for(var b in a.toggles)if("engine"!==
b&&l.auto[b]){l.auto[b].enabled=!!a.toggles[b];var c=$("#toggle-"+b);c.prop("checked",l.auto[b].enabled)}for(var d in I.items){b=I.items[d];c=$("#"+d);var f=c.data("option"),e=d.split("-");if(void 0===f)delete I.items[d];else if("set"===e[0]?(c[0].title=b,"max"===e[e.length-1]?c.text(u("ui.max",[b])):"min"===e[e.length-1]&&c.text(u("ui.min",[b]))):c.prop("checked",b),2===e.length)f.enabled=b;else if("reset"===e[1]&&4<=e.length)switch(c=e[2],f=e[3],e[0]){case "toggle":l.auto[c].items[f].checkForReset=
b;break;case "set":l.auto[c].items[f].triggerForReset=b}else"limited"===e[1]?f.limited=b:"leaderJob"===e[1]&&b?f[e[1]]=e[2]:"leaderTrait"===e[1]&&b?f[e[1]]=e[2]:f[e[2]]=b}d=$("#toggle-list-resources");b=$("#toggle-reset-list-resources");for(const g in I.resources)e=I.resources[g],e.enabled&&(0===$("#resource-"+g).length&&d.append(ra(g)),"stock"in e&&Ja(g,e.stock),"consume"in e&&Pa(g,e.consume)),e.checkForReset&&(0===$("#resource-reset-"+g).length&&b.append(ra(g,void 0,!0)),"stockForReset"in e&&Ja(g,
e.stockForReset?e.stockForReset:Infinity,!0));a.triggers&&(l.auto.faith.trigger=a.triggers.faith,l.auto.time.trigger=a.triggers.time,l.auto.build.trigger=a.triggers.build,l.auto.space.trigger=a.triggers.space,l.auto.craft.trigger=a.triggers.craft,l.auto.trade.trigger=a.triggers.trade,$("#trigger-faith")[0].title=l.auto.faith.trigger,$("#trigger-time")[0].title=l.auto.time.trigger,$("#trigger-build")[0].title=l.auto.build.trigger,$("#trigger-space")[0].title=l.auto.space.trigger,$("#trigger-craft")[0].title=
l.auto.craft.trigger,$("#trigger-trade")[0].title=l.auto.trade.trigger);l.policies=a.policies}},aa=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},X={cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"},Ra=function(a,b,c=!1){c=c?"#resource-reset-"+a:"#resource-"+a;$(c).removeClass("stockWarn");let d=game.resPool.resources.filter(f=>f.name===a)[0].maxValue;(b>d&&0!==d||Infinity===b)&&$(c).addClass("stockWarn")},Ja=function(a,b,c=!1){let d=
Number(b);isNaN(d)||0>d?ka("ignoring non-numeric or invalid stock value "+b):(l.auto.resources[a]||(l.auto.resources[a]={}),c?(b="#resource-reset-"+a+" #stock-value-"+a,d=0>d?Infinity:d,l.auto.resources[a].checkForReset=!0,l.auto.resources[a].stockForReset=d):(b="#resource-"+a+" #stock-value-"+a,l.auto.resources[a].enabled=!0,l.auto.resources[a].stock=d),$(b).text(u("resources.stock",[Infinity===d?"\u221e":game.getDisplayValueExt(d)])),Ra(a,d,c))},Pa=function(a,b){let c=parseFloat(b);isNaN(c)||0>
c||1<c?ka("ignoring non-numeric or invalid consume rate "+b):(l.auto.resources[a]||(l.auto.resources[a]={}),l.auto.resources[a].consume=c,$("#consume-rate-"+a).text(u("resources.consume",[c.toFixed(2)])))},cb=function(a,b=!1){let c=l.auto.resources[a];b?c.checkForReset=!1:c.enabled=!1;c.enabled||c.checkForReset||delete l.auto.resources[a]},ra=function(a,b,c=!1){let d;var f=h[a];b=b||f.title||aa(a);let e=l.auto.resources[a];d=c&&e&&e.stockForReset?e.stockForReset:!c&&e&&e.stock?e.stock:0;let g=e&&
void 0!==e.consume?e.consume:l.consume,k=$("<div/>",{id:(c?"resource-reset-":"resource-")+a,css:{display:"inline-block",width:"100%"}});var m;"uncommon"===f.type&&(m="#FF7F50");"rare"===f.type&&(m="#FFA500");m=f.color||m;f=$("<div/>",{id:"resource-label-"+a,text:b,css:{display:"inline-block",color:m,width:"95px"}});d=$("<div/>",{id:"stock-value-"+a,text:u("resources.stock",[Infinity===d?"\u221e":game.getDisplayValueExt(d)]),css:{cursor:"pointer",display:"inline-block",width:"80px"}});g=$("<div/>",
{id:"consume-rate-"+a,text:u("resources.consume",[g.toFixed(2)]),css:{cursor:"pointer",display:"inline-block"}});m=$("<div/>",{id:"resource-delete-"+a,text:u("resources.del"),css:X});c?k.append(f,d,m):k.append(f,d,g,m);void 0!==e&&void 0!==e.stock&&Ra(a,e.stock);(function(p,q){p.on("click",function(){R.stop(!1);let v=window.prompt(u("resources.stock.set",[b]));l.auto.engine.enabled&&R.start(!1);null!==v&&(Ja(a,v,q),Q())})})(d,c);g.on("click",function(){R.stop(!1);let p=window.prompt(u("resources.consume.set",
[b]));l.auto.engine.enabled&&R.start(!1);null!==p&&(Pa(a,p),Q())});(function(p,q){p.on("click",function(){"\u6bdb\u76ae"!==b&&window.confirm(u("resources.del.confirm",[b]))&&(k.remove(),cb(a,q),Q())})})(m,c);return k};["workshopTab","libraryTab","villageTab"].forEach(a=>{game[a]&&game.ui.activeTabId!==game[a].tabId&&!game[a]._inherited&&game[a].render()});(()=>{let a,b,c;var d=new Da;let f=l.auto.faith.items;for(e in f)if(c=f[e],b=d.getBuild(c.name||e,c.variant))f[e].label=b.label;d=new Ea;f=l.auto.time.items;
for(e in f)if(c=f[e],b=d.getBuild(c.name||e,c.variant))f[e].label=b.label;d=new Ba;f=l.auto.build.items;for(e in f)if(c=f[e],b=d.getBuild(c.name||e))f[e].label="stage"in c?b.meta.stages[c.stage].label:b.meta.label;var e=new Ca;f=l.auto.space.items;for(a in f)if(b=e.getBuild(a))f[a].label=b.title?b.title:b.label})();let db=function(a){let b=[],c=a?"#resource-reset-":"#resource-",d=game.resPool.resources,f=l.auto.resources,e="elderBox burnedParagon blackcoin gflops hashrates wrappingPaper kittens paragon alicorn zebras".split(" ");
for(let k in d){let m=d[k],p=m.name;var g=f[p];g=g&&g.enabled;if((a||!(-1<e.indexOf(m.name)||g))&&p&&0===$(c+p).length){let q;"uncommon"===m.type&&(q="#FF7F50");"rare"===m.type&&(q="#FFA500");q=m.color||q;g=$("<div/>",{id:"resource-add-"+p,text:aa(m.title?m.title:p),css:{cursor:"pointer",color:q}});(function(v,n,x){n.on("click",function(){n.remove();f[p]||(f[p]={});x?(f[p].checkForReset=!0,f[p].stockForReset=Infinity,$("#toggle-reset-list-resources").append(ra(p,v.title,x))):(f[p].enabled=!0,f[p].stock=
0,f[p].consume=l.consume,$("#toggle-list-resources").append(ra(p,v.title,x)));Q()})})(m,g,a);b.push(g)}}return b},Sa=function(a=!1){let b=$("<ul/>",{id:a?"toggle-reset-list-resources":"toggle-list-resources",css:{display:"none",paddingLeft:"20px"}});var c=$("<div/>",{id:"resources-add",text:u("resources.add"),css:{cursor:"pointer",display:"inline-block",textShadow:"3px 3px 4px gray",borderBottom:"1px solid rgba(185, 185, 185, 0.7)"}});let d=$("<ul/>",{id:"available-resources-list",css:{display:"none",
paddingLeft:"20px"}});(function(f,e){f.on("click",function(){d.toggle();d.empty();"none"!==d[0].style.display&&db(e).forEach(g=>{d.append(g)})})})(c,a);b.append(c,d);for(let f in l.auto.resources)c=l.auto.resources[f],(a&&c.checkForReset||!a&&c.enabled)&&b.append(ra(f,void 0,a));return b},na=function(a){let b=$("<ul/>",{id:"items-list-"+a,css:{display:"none",paddingLeft:"20px"}});if("distribute"===a)return b;let c=$("<div/>",{id:"toggle-all-disable-items-"+a,text:u("ui.disable.all"),css:{cursor:"pointer",
display:"inline-block",textShadow:"3px 3px 4px gray",marginRight:"8px"}});c.on("click",function(){let d=b.children().children(":checkbox");d.prop("checked",!1);d.change();b.children().children(":checkbox").change()});b.append(c);a=$("<div/>",{id:"toggle-all-enable-items-"+a,text:u("ui.enable.all"),css:{cursor:"pointer",display:"inline-block",textShadow:"3px 3px 4px gray"}});a.on("click",function(){let d=b.children().children(":checkbox");d.prop("checked",!0);d.change();b.children().children(":checkbox").change()});
b.append(a);return b},eb=function(){let a=na("faith-addition"),b=l.auto.faith.addition;for(let d in b){let f=ba(d,b[d]);if("bestUnicornBuilding"===d){f.children("label").prop("title",u("option.faith.best.unicorn.desc"));var c=f.children("input");c.unbind("change");c.on("change",e=>{let g=b.bestUnicornBuilding;e.target.checked&&!g.enabled?(g.enabled=!0,N("status.sub.enable",[u("option.faith.best.unicorn")]),N("option.faith.best.unicorn.desc")):!e.target.checked&&g.enabled&&(g.enabled=!1,N("status.sub.disable",
[u("option.faith.best.unicorn")]));I.items[e.target.id]=g.enabled;Q()})}void 0!==b[d].subTrigger&&(c=$("<div/>",{id:"set-"+d+"-subTrigger",text:u("ui.trigger"),title:b[d].subTrigger,css:X}).data("option",b[d]),function(e,g){if("adore"===e)g.on("click",function(){let k;R.stop(!1);k=window.prompt(u("adore.trigger.set"),b[e].subTrigger);l.auto.engine.enabled&&R.start(!1);null!==k&&(b[e].subTrigger=parseFloat(k),I.items[g[0].id]=b[e].subTrigger,Q(),g[0].title=b[e].subTrigger)});else if("autoPraise"===
e)g.on("click",function(){let k;R.stop(!1);k=window.prompt(u("praise.trigger.set",[u("option.praise")]),b[e].subTrigger);l.auto.engine.enabled&&R.start(!1);null!==k&&(b[e].subTrigger=parseFloat(k),I.items[g[0].id]=b[e].subTrigger,Q(),g[0].title=b[e].subTrigger)})}(d,c),f.append(c));a.append(f)}return a},sa=function(a){let b;let c,d,f=aa(u("ui."+a)),e=l.auto[a],g=$("<li/>",{id:"ks-"+a}),k=$("<label/>",{"for":"toggle-"+a,text:f}),m=$("<input/>",{id:"toggle-"+a,type:"checkbox"});e.enabled&&m.prop("checked",
!0);if("engine"!==a)m.on("change",function(){if(m.is(":checked")&&!e.enabled){e.enabled=!0;"filter"===a||"options"===a?N("status.sub.enable",[f]):N("status.auto.enable",[f]);if("infinity"===a){var v=l.auto,n;for(n in v)v[n].enabled&&"infinity"!==n&&$("#toggle-"+n).click();$("#toggle-all-disable-items-infinity").click();$("#toggle-all-disable-items-options").click();$("#toggle-all-enable-items-filter").click();$("#toggle-useWorkers").click();$("#toggle-options").click();$("#toggle-filter").click()}Q()}else!m.is(":checked")&&
e.enabled&&(e.enabled=!1,"filter"===a||"options"===a?N("status.sub.disable",[f]):N("status.auto.disable",[f]),Q())});g.append(m,k);if(e.items){g.css("borderBottom","1px  solid rgba(185, 185, 185, 0.7)");c=$("<div/>",{css:{display:"inline-block",float:"right"}});d=$("<div/>",{id:"toggle-items-"+a,text:u("ui.items"),css:X});g.append(d);b=na(a);if("faith"===a)for(q in l.auto.unicorn.items)b.append(ba(q,l.auto.unicorn.items[q]));for(q in e.items)switch(a){case "infinity":b.append(fb(q,e.items[q]));break;
case "trade":b.append(gb(q,e.items[q]));break;case "craft":b.append(hb(q,e.items[q]));break;case "timeCtrl":b.append(ib(q,e.items[q]));break;case "options":b.append(jb(q,e.items[q]));break;case "upgrade":b.append(kb(q,e.items[q]));break;case "distribute":b.append(lb(q,e.items[q]));break;case "build":case "faith":case "space":b.append(Ta(q,e.items[q]));break;case "time":b.append(Ta(q,e.items[q]));break;default:b.append(ba(q,e.items[q]))}d.on("click",function(){b.toggle()})}if(void 0!==e.trigger){let v=
$("<div/>",{id:"trigger-"+a,text:u("ui.trigger"),title:e.trigger,css:X});v.on("click",function(){let n;R.stop(!1);n="faith"===a?window.prompt(u("ui.trigger.set",[f+"("+$I("resources.faith.title")+")"]),e.trigger.toString()):"trade"===a?window.prompt(u("ui.trigger.set",[f+" \u7684\u89e6\u53d1\u503c\n\u9700\u540c\u65f6\u6ee1\u8db3 \u79cd\u65cf\u89e6\u53d1\u8d44\u6e90 \u548c "+$I("resources.gold.title")+" \u7684"]),e.trigger.toString()):window.prompt(u("ui.trigger.set",[f]),e.trigger.toString());l.auto.engine.enabled&&
R.start(!1);null!==n&&(e.trigger=parseFloat(n),Q(),v[0].title=e.trigger)});g.append(v)}if("craft"===a){var p=$("<div/>",{id:"toggle-resource-controls",text:u("ui.craft.resources"),css:X});const v=Sa();d.on("click",function(){v.toggle(!1)});p.on("click",function(){b.toggle(!1);v.toggle()});g.append(p);g.append(v)}else if("faith"===a){var q=$("<div/>",{id:"toggle-addition-controls",text:u("ui.faith.addtion"),title:"\u592a\u9633\u6559\u56e2\u7684\u81ea\u52a8\u5316\u9879\u76ee",css:X});const v=eb();d.on("click",
function(){v.toggle(!1)});q.on("click",function(){b.toggle(!1);v.toggle()});g.append(q);for(p in l.auto.unicorn.items)b.children().children("#toggle-"+p).on("change",function(n){$(n.target).is(":checked")||(n=$("#toggle-bestUnicornBuilding"),n.prop("checked",!1),n.trigger("change"))});g.append(v)}e.items&&g.append(c,b);return g};var fb=function(a,b){var c=u("ui.infinity."+a);c=mb(a,b,c);if(void 0!==b.subTrigger){var d=$("<div/>",{id:"set-"+a+"-subTrigger",text:u("ui.trigger"),title:b.subTrigger,css:{cursor:"pointer",
display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}).data("option",b);d.on("click",function(){R.stop(!1);var f=window.prompt(u("ui.trigger."+a+".set"),b.subTrigger);l.auto.engine.enabled&&R.start(!1);null!==f&&(b.subTrigger=1==f.split("-").length?parseFloat(f):f,I.items[d.attr("id")]=b.subTrigger,Q(),d[0].title=b.subTrigger)});c.append(d)}return c},mb=function(a,b,c){var d=$("<li/>"),f=$("<label/>",{"for":"toggle-"+a,text:c,css:{display:"inline-block",minWidth:"80px"}}),
e=$("<input/>",{id:"toggle-"+a,type:"checkbox"}).data("option",b);b.enabled&&e.prop("checked",!0);e.on("change",function(){if(e.is(":checked")&&0==b.enabled){b.enabled=!0;var g=l.auto;switch(a){case "cryoFix":g.infinity.items.buildChronosphere.enabled&&$("#toggle-buildChronosphere").click();$("#toggle-all-disable-items-time").click();var k=game.time.getCFU("temporalBattery"),m=game.resPool.get("timeCrystal").value/1E20;m=Infinity==m?Number.MAX_VALUE:m;l.auto.time.items.temporalBattery.max=Math.floor(Math.log(m/
k.prices[0].val)/Math.log(k.priceRatio));I.items["set-temporalBattery-max"]=l.auto.time.items.temporalBattery.max;l.auto.time.items.chronocontrol.max=1;I.items["set-chronocontrol-max"]=l.auto.time.items.chronocontrol.max;$("#toggle-temporalBattery").click();$("#toggle-chronocontrol").click();g.time.enabled||$("#toggle-time").click();break;case "buildChronosphere":g.infinity.items.cryoFix.enabled&&$("#toggle-cryoFix").click(),g.time.enabled&&$("#toggle-time").click()}switch(a){case "autohunt":case "autoTransform":case "autoCT":case "skiptime":case "autoReset":break;
default:$("#toggle-all-disable-items-build").click(),l.auto.build.items.workshop.max=1,I.items["set-workshop-max"]=l.auto.build.items.workshop.max,l.auto.build.items.chronosphere.max=1,I.items["set-chronosphere-max"]=l.auto.build.items.chronosphere.max,$("#toggle-workshop").click(),$("#toggle-chronosphere").click(),g.build.enabled||$("#toggle-build").click(),$("#toggle-all-enable-items-upgrade").click(),$("#toggle-policies").click(),g.upgrade.enabled||$("#toggle-upgrade").click(),$("#toggle-all-disable-items-distribute").click(),
$("#toggle-farmer").click(),$("#toggle-leader").click(),$("#toggle-leaderTrait-manager").click(),g.distribute.enabled||$("#toggle-distribute").click()}N("status.sub.enable",[c])}else e.is(":checked")||1!=b.enabled||(b.enabled=!1,N("status.sub.disable",[c]));I.items[e.attr("id")]=b.enabled;Q()});d.append(e,f);return d};let gb=function(a,b){let c=aa(u("$trade.race."+a)),d=ba(a,b,c);d.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");var f=$("<label/>",{"for":"toggle-limited-"+a,title:u("trade.limited",
[c]),text:u("ui.limit")});let e=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!1===b.limited?(b.limited=!0,N("trade.limited",[c])):!e.is(":checked")&&b.limited&&(b.limited=!1,N("trade.unlimited",[c,b.require?"\u9700\u540c\u65f6\u6ee1\u8db3\u8d44\u6e90\u9ec4\u91d1\u548c"+h[b.require].title+"\u7684\u89e6\u53d1\u6761\u4ef6\u624d":"\u8d44\u6e90\u6ee1\u8db3\u9ec4\u91d1\u7684\u89e6\u53d1\u6761\u4ef6\u5c31\u4f1a"]));
I.items[e.attr("id")]=b.limited;Q()});d.append(e,f);f=$("<div/>",{id:"toggle-seasons-"+a,text:u("trade.seasons"),css:X});let g=$("<ul/>",{id:"seasons-list-"+a,css:{display:"none",paddingLeft:"20px"}});g.append(ya(a,"spring",b));g.append(ya(a,"summer",b));g.append(ya(a,"autumn",b));g.append(ya(a,"winter",b));f.on("click",function(){g.toggle()});d.append(f,g);return d},ya=function(a,b,c){let d=aa(u("$trade.race."+a)),f=aa(u("$calendar.season."+b)),e=$("<li/>"),g=$("<label/>",{"for":"toggle-"+a+"-"+
b,text:aa(f)}),k=$("<input/>",{id:"toggle-"+a+"-"+b,type:"checkbox"}).data("option",c);c[b]&&k.prop("checked",!0);k.on("change",function(){k.is(":checked")&&!c[b]?(c[b]=!0,N("trade.season.enable",[d,f])):!k.is(":checked")&&c[b]&&(c[b]=!1,N("trade.season.disable",[d,f]));I.items[k.attr("id")]=c[b];Q()});e.append(k,g);return e},za=function(a,b){let c=aa(u("$calendar.season."+a)),d=$("<li/>"),f=$("<label/>",{"for":"toggle-timeSkip-"+a,text:aa(c)}),e=$("<input/>",{id:"toggle-timeSkip-"+a,type:"checkbox"}).data("option",
b);b[a]&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!b[a]?(b[a]=!0,N("time.skip.season.enable",[c])):!e.is(":checked")&&b[a]&&(b[a]=!1,N("time.skip.season.disable",[c]));I.items[e.attr("id")]=b[a];Q()});d.append(e,f);return d},ba=function(a,b,c){let d=$("<li/>"),f=c||b.label||aa(a);c=(c=b.require)?game.resPool.get(b.require).title:u("ui.none");c=u("ui.trigger.resource")+": "+c;void 0===b.require&&(c=null);c=$("<label/>",{"for":"toggle-"+a,text:f,title:c,css:{display:"inline-block",
minWidth:"80px"}});let e=$("<input/>",{id:"toggle-"+a,type:"checkbox"}).data("option",b);b.enabled&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!b.enabled?(b.enabled=!0,-1<a.indexOf("Filter")?N("filter.enable",[f]):b.misc?N("status.sub.enable",[f]):(N("status.auto.enable",[f]),"wood"===a&&N("msg.catnip"))):!e.is(":checked")&&b.enabled&&(b.enabled=!1,-1<a.indexOf("Filter")?N("filter.disable",[f]):b.misc?N("status.sub.disable",[f]):N("status.auto.disable",[f]));I.items[e.attr("id")]=
b.enabled;"saves"!==a&&Q()});d.append(e,c);return d},Ua=function(a){a=[];for(let b in l.policies){let c=l.policies[b];"authocracy"===c&&(c="autocracy");a.push($("<div/>",{id:"policy-"+c,text:u("$policy."+c+".label"),css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}}))}return a},kb=function(a,b){let c=u("ui.upgrade."+a),d=ba(a,b,c);if("policies"===a){let e=$("<ul/>",{id:"items-list-policies",css:{display:"none",paddingLeft:"20px"}});var f=$("<a/>",{id:"toggle-upgrade-policies-wiki",text:"\u767e\u79d1\u653f\u7b56\u63a8\u8350",
href:"https://petercheney.gitee.io/baike/?file=000-%E7%8C%AB%E5%9B%BD%E8%90%8C%E6%96%B0%E6%8C%87%E5%AF%BC/02-%E6%94%BF%E7%AD%96%E6%95%88%E6%9E%9C%E8%A7%A3%E6%9E%90#%E5%86%85%E4%BA%8B",target:"_blank",css:X});let g=$("<div/>",{id:"toggle-upgrade-policies-load",text:u("ui.upgrade.policies.load"),css:X}),k=$("<div/>",{id:"toggle-upgrade-policies-show",text:u("ui.upgrade.policies.show"),css:X});g.on("click",function(){const m=[];for(const p in game.science.policies){let q=game.science.policies[p];q.researched&&
m.push(q.name)}l.policies=m;Q();e.empty();Ua().forEach(p=>{e.append(p)})});k.on("click",function(){e.toggle();e.empty();Ua().forEach(m=>{e.append(m)})});d.append(k,g,f,e)}if(void 0!==b.subTrigger&&"missions"===a){let e=$("<div/>",{id:"set-"+a+"-subTrigger",text:u("ui.trigger"),title:b.subTrigger,css:X}).data("option",b);e.on("click",function(){let g;R.stop(!1);g="missions"===a?window.prompt(u("ui.trigger.missions.set"),b.subTrigger.toString()):window.prompt(u("ui.trigger.set"),b.subTrigger.toString());
l.auto.engine.enabled&&R.start(!1);null!==g&&(b.subTrigger=parseFloat(g),I.items[e.attr("id")]=b.subTrigger,Q(),e[0].title=b.subTrigger)});d.append(e)}if("upgrades"===a||"techs"===a){f=$("<label/>",{"for":"toggle-limited-"+a,text:u("ui.upgradesLimit")});let e=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!b.limited?(b.limited=!0,N("upgrade.limited",[c])):!e.is(":checked")&&b.limited&&(b.limited=!1,
N("upgrade.unlimited",[c]));I.items[e.attr("id")]=b.limited;Q()});d.append(e,f)}return d},Ta=function(a,b,c){let d=$("<li/>"),f=c||b.label||aa(a);c=(c=b.require)?game.resPool.get(b.require).title:u("ui.none");c=$("<label/>",{"for":"toggle-"+a,text:f,title:u("ui.trigger.resource")+": "+c,css:{display:"inline-block",minWidth:"80px"}});let e=$("<input/>",{id:"toggle-"+a,type:"checkbox"}).data("option",b);b.enabled&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!b.enabled?(b.enabled=
!0,-1<a.indexOf("Filter")?N("filter.enable",[f]):b.misc?N("status.sub.enable",[f]):(N("status.auto.enable",[f]),"field"===a&&N("msg.catnip"))):!e.is(":checked")&&b.enabled&&(b.enabled=!1,-1<a.indexOf("Filter")?N("filter.disable",[f]):b.misc?N("status.sub.disable",[f]):N("status.auto.disable",[f]));I.items[e.attr("id")]=b.enabled;Q()});let g=$("<div/>",{id:"set-"+a+"-max",text:u("ui.max",[b.max]),title:b.max,css:X}).data("option",b);g.on("click",function(){let k;R.stop(!1);k=window.prompt(u("ui.max.set",
[b.label])+"\n -1\u4e3a\u6ca1\u6709\u4e0a\u9650",b.max.toString());l.auto.engine.enabled&&R.start(!1);null!==k&&(b.max=parseInt(k),I.items[g.attr("id")]=b.max,Q(),g[0].title=b.max,g[0].innerText=u("ui.max",[b.max]))});d.append(e,c,g);return d},hb=function(a,b){let c=aa(u("$resources."+a+".title"));"ship"===a&&(c=aa(u("$workshop.crafts."+a+".label")));let d=ba(a,b,c);if("parchment"===a)return d;let f=$("<label/>",{"for":"toggle-limited-"+a,title:u("craft.limitedTitle"),text:u("ui.craftLimit")}),e=
$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!b.limited?(b.limited=!0,N("craft.limited",[c]),E("craftLimited")):!e.is(":checked")&&b.limited&&(b.limited=!1,N("craft.unlimited",[c,b.require?h[b.require].title+"\u6ee1\u8db3\u89e6\u53d1\u8d44\u6e90\u7684\u89e6\u53d1\u6761\u4ef6\u624d\u4f1a\u5236\u4f5c\uff0c":"\u65e0\uff0c\u5f53\u8d44\u6e90\u6ee1\u8db3\u5236\u4f5c\u6761\u4ef6\u5c31\u4f1a\u5236\u4f5c"]));
I.items[e.attr("id")]=b.limited;Q()});d.append(e,f);return d},nb=function(a,b){let c=game.calendar.cycles[a],d=$("<li/>"),f=$("<label/>",{"for":"toggle-timeSkip-"+a,text:c.title}),e=$("<input/>",{id:"toggle-timeSkip-"+a,type:"checkbox"}).data("option",b);b[a]&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&!b[a]?(b[a]=!0,N("time.skip.cycle.enable",[c.title])):!e.is(":checked")&&b[a]&&(b[a]=!1,N("time.skip.cycle.disable",[c.title]));I.items[e.attr("id")]=b[a];Q()});d.append(e,f);return d},
ta=function(a,b,c){let d=$("<li/>"),f=c.label,e=$("<label/>",{"for":"toggle-reset-"+b+"-"+a,text:f,css:{display:"inline-block",minWidth:"80px"}}),g=$("<input/>",{id:"toggle-reset-"+b+"-"+a,type:"checkbox"}).data("option",c);c.checkForReset&&g.prop("checked",!0);g.on("change",function(){g.is(":checked")&&!c.checkForReset?(c.checkForReset=!0,N("status.reset.check.enable",[f])):!g.is(":checked")&&c.checkForReset&&(c.checkForReset=!1,N("status.reset.check.disable",[f]));I.items[g.attr("id")]=c.checkForReset;
Q()});let k=$("<div/>",{id:"set-reset-"+b+"-"+a+"-min",text:u("ui.min",[c.triggerForReset]),title:c.triggerForReset,css:X}).data("option",c);k.on("click",function(){let m;m=window.prompt(u("reset.check.trigger.set",[c.label]),c.triggerForReset.toString());null!==m&&(c.triggerForReset=parseInt(m),I.items[k.attr("id")]=c.triggerForReset,Q(),k[0].title=c.triggerForReset,k[0].innerText=u("ui.min",[c.triggerForReset]))});d.append(g,e,k);return d},ib=function(a,b){let c,d=ba(a,b);if("timeSkip"===a){c=$("<div/>",
{id:"set-timeSkip-subTrigger",text:u("ui.trigger"),title:b.subTrigger,css:X}).data("option",b);c.on("click",function(){let p;R.stop(!1);p=window.prompt(u("time.skip.trigger.set",[]),b.subTrigger);l.auto.engine.enabled&&R.start(!1);null!==p&&(b.subTrigger=parseFloat(p),I.items[c.attr("id")]=b.subTrigger,Q(),c[0].title=b.subTrigger)});let g=$("<div/>",{id:"set-timeSkip-maximum",text:u("ui.maximum"),title:b.max,css:X}).data("option",b);g.on("click",function(){let p;R.stop(!1);p=window.prompt(u("ui.max.set",
["\u6bcf\u6b21\u71c3\u70e7\u65f6\u95f4\u6c34\u6676"]),b.maximum.toString());l.auto.engine.enabled&&R.start(!1);null!==p&&(b.maximum=parseFloat(p),I.items[g.attr("id")]=b.maximum,Q(),g[0].title=b.maximum)});var f=$("<div/>",{id:"toggle-cycle-"+a,text:u("ui.cycles"),css:X});let k=$("<ul/>",{id:"cycles-list-"+a,css:{display:"none",paddingLeft:"20px"}});for(var e in game.calendar.cycles)k.append(nb(e,b));e=$("<div/>",{id:"toggle-seasons-"+a,text:u("trade.seasons"),css:X});let m=$("<ul/>",{id:"seasons-list-"+
a,css:{display:"none",paddingLeft:"20px"}});m.append(za("spring",b));m.append(za("summer",b));m.append(za("autumn",b));m.append(za("winter",b));f.on("click",function(){k.toggle();m.toggle(!1)});e.on("click",function(){k.toggle(!1);m.toggle()});d.append(f,e,g,c,k,m)}else if("reset"===a){let g=na("reset-build"),k=na("reset-space"),m=Sa(!0),p=na("reset-religion"),q=na("reset-time");for(f in l.auto.build.items)g.append(ta(f,"build",l.auto.build.items[f]));for(f in l.auto.space.items)k.append(ta(f,"space",
l.auto.space.items[f]));for(f in l.auto.unicorn.items)p.append(ta(f,"unicorn",l.auto.unicorn.items[f]));for(f in l.auto.faith.items)p.append(ta(f,"faith",l.auto.faith.items[f]));for(f in l.auto.time.items)q.append(ta(f,"time",l.auto.time.items[f]));a=$("<div/>",{id:"toggle-reset-build",text:u("ui.build"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});f=$("<div/>",{id:"toggle-reset-space",text:u("ui.space"),css:{cursor:"pointer",display:"inline-block",
float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});e=$("<div/>",{id:"toggle-reset-resources",text:u("ui.craft.resources"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});let v=$("<div/>",{id:"toggle-reset-religion",text:u("ui.faith"),css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}}),n=$("<div/>",{id:"toggle-reset-time",text:u("ui.time"),css:{cursor:"pointer",display:"inline-block",
float:"right",paddingRight:"5px",textShadow:"3px 3px 4px gray"}});a.on("click",function(){g.toggle();k.toggle(!1);m.toggle(!1);p.toggle(!1);q.toggle(!1)});f.on("click",function(){g.toggle(!1);k.toggle();m.toggle(!1);p.toggle(!1);q.toggle(!1)});e.on("click",function(){g.toggle(!1);k.toggle(!1);m.toggle();p.toggle(!1);q.toggle(!1)});v.on("click",function(){g.toggle(!1);k.toggle(!1);m.toggle(!1);p.toggle();q.toggle(!1)});n.on("click",function(){g.toggle(!1);k.toggle(!1);m.toggle(!1);p.toggle(!1);q.toggle()});
d.append(a,f,e,v,n,g,k,m,p,q)}else c=$("<div/>",{id:"set-"+a+"-subTrigger",text:u("ui.trigger"),title:b.subTrigger,css:X}).data("option",b),c.on("click",function(){let g;g=window.prompt(u("ui.trigger.set",[b.label]),b.subTrigger);null!==g&&(b.subTrigger=parseFloat(g),I.items[c.attr("id")]=b.subTrigger,Q(),c[0].title=b.subTrigger)}),d.append(c);return d},jb=function(a,b){let c,d=ba(a,b);"style"===a&&(c=d.children("input"),c.unbind("change"),c.on("change",function(e){b.enabled=c.prop("checked");I.items[c.attr("id")]=
b.enabled;e.isTrusted&&Q();e=document.getElementById("toggleCenter").style;b.enabled?(document.body.setAttribute("data-ks-style",""),game.ui.fullWidth=!0,game.ui.isCenter||(e.display="none")):(document.body.removeAttribute("data-ks-style"),e.display="",game.ui.fullWidth=void 0)}));"useWorkers"===a&&(c=d.children("input"),c.on("click",function(){let e=confirm(u("ui.trigger.useWorkers.alert"));e&&!b.enabled?(R.stop(),b.enabled=!0,I.items[c.attr("id")]=b.enabled,l.auto.engine.enabled&&R.start()):e&&
b.enabled&&(R.stop(),b.enabled=!1,I.items[c.attr("id")]=b.enabled,l.auto.engine.enabled&&R.start())}));if("saves"===a){c=d.children("input");c.on("click",function(){R.stop(!1);if(window.confirm("\u70b9\u51fb\u786e\u8ba4\u4f1a\u5bfc\u51fa\u73c2\u5b66\u5bb6\u7684\u914d\u7f6e.txt\u6587\u4ef6")){let k=$("#download-link");var g=JSON.stringify(window.localStorage["cbc.kitten-scientists"]);g=game.compressLZData(g,!1);g=new Blob([g],{type:"text/plain"});k.attr("href",window.URL.createObjectURL(g));g="\u5c0f\u732b\u73c2\u5b66\u5bb6\u914d\u7f6e"+
(game.stats.getStat("totalResets").val+1)+"\u5468\u76ee";k.attr("download",g+".txt");k.get(0).dispatchEvent(new MouseEvent("click"))}l.auto.engine.enabled&&R.start(!1)});var f=$("<div/>",{id:"loadKS",text:"\u5bfc\u5165\u914d\u7f6e",css:X}).data("option",b);f.on("click",function(){R.stop(!1);let g=window.prompt("\u7a97\u53e3\u5185\u586b\u5165\u540e\u4f60\u9700\u8981\u5bfc\u5165\u7684\u73c2\u5b66\u5bb6\u914d\u7f6e\uff0c\u786e\u8ba4\u540e\u4f1a\u5bfc\u5165\u914d\u7f6e","");l.auto.engine.enabled&&R.start(!1);
if(g&&10<=g.length){let k;"{"!==g.charAt(0)&&(k=JSON.parse(LZString.decompressFromBase64(g)));window.localStorage["cbc.kitten-scientists"]=k;Qa()}});let e=$("<div/>",{id:"ressetKS",text:"\u6062\u590d\u521d\u59cb\u9ed8\u8ba4\u914d\u7f6e",css:{cursor:"pointer",display:"inline-block",float:"right",paddingRight:"5px",color:"#FF6347"}});e.on("click",function(){if(confirm("\u786e\u5b9a\u8981\u521d\u59cb\u5316\u73c2\u5b66\u5bb6\u914d\u7f6e\u5417\uff0c\u70b9\u51fb\u786e\u8ba4\u540e\u521d\u59cb\u5316\u73c2\u5b66\u5bb6\u914d\u7f6e(\u6700\u597d\u5237\u65b0\u4e0b\u9875\u9762)\n\u4e3a\u4e86\u7167\u987e\u94a2\u94c1\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u914d\u7f6e\u5c0f\u5c4b\u3001\u6728\u5c4b\u3001\u5b85\u90b8\u9ed8\u8ba4\u4e0d\u52fe\uff0c\u8bf7\u6709\u9700\u8981\u7684\u81ea\u884c\u52fe\u4e0a")){R.stop();
let g=sessionStorage.getItem("options");delete localStorage["cbc.kitten-scientists"];g?($("#ks-options").remove(),l.auto=JSON.parse(g).auto,Na(),ua=$("<div/>",{id:"ks-options",css:{marginBottom:"10px"}}),fa=$("<ul/>"),fa.append(sa("engine")),Ia.forEach(k=>{fa.append(sa(k))}),ua.append(fa),Va.prepend(ua),Wa(),Oa()):(game.save(),window.location.reload())}});d.append(f);d.append(e)}"donate"===a&&(c=d.children("input"),c.unbind("change"),c.on("change",function(e){b.enabled=c.prop("checked");I.items[c.attr("id")]=
b.enabled;e.isTrusted&&Q();document.getElementById("ks-donate").style.display=b.enabled?"block":"none"}));"wiki"===a&&(f=$("<label/>",{css:{display:"inline-block",transformOrigin:"bottom",fontStyle:"italic",transform:"scale(0.63)"},text:"Cheney"}),d.append(f),c=d.children("input"),c.on("click",function(){window.open().location="https://petercheney.gitee.io/baike/?file=004-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7/02-%E5%B0%8F%E7%8C%AB%E7%A7%91%E5%AD%A6%E5%AE%B6";oa(["\u5982\u679c\u8fd8\u6709\u95ee\u9898\u53ef\u4ee5\u5728\u732b\u56fd\u7fa4\u8be2\u95ee\uff0c\u6709BUG\u6216\u610f\u89c1\u53ef\u4ee5\u8054\u7cfbCheney\u3002\u521d\u59cb\u9ed8\u8ba4\u914d\u7f6e\u5373\u63a8\u8350\u6302\u673a\u9ad8\u6548\u914d\u7f6e",
"ks-default",l.activitycolor])}));if(void 0!==b.subTrigger){let e=$("<div/>",{id:"set-"+a+"-subTrigger",text:u("ui.trigger"),title:b.subTrigger,css:X}).data("option",b);e.on("click",function(){let g;R.stop(!1);g="crypto"===a?window.prompt(u("ui.trigger.crypto.set",[b.label]),b.subTrigger):"filterGame"===a?window.prompt(u("ui.trigger.filterGame.set"),b.subTrigger):window.prompt(u("ui.trigger.set",[b.label]),b.subTrigger);l.auto.engine.enabled&&R.start(!1);null!==g&&("crypto"===a?b.subTrigger=g:"filterGame"===
a?(b.subTrigger=parseFloat(g),Xa()):b.subTrigger=parseFloat(g),I.items[e.attr("id")]=b.subTrigger,Q(),e[0].title=b.subTrigger)});d.append(e)}return d},lb=function(a,b){if("leader"===a)return ob(a,b);let c=aa(u("$village.job."+a)),d=ba(a,b,c);d.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");let f=$("<label/>",{"for":"toggle-limited-"+a,text:u("ui.limit")}),e=$("<input/>",{id:"toggle-limited-"+a,type:"checkbox"}).data("option",b);b.limited&&e.prop("checked",!0);e.on("change",function(){e.is(":checked")&&
!b.limited?(b.limited=!0,N("distribute.limited",[c])):!e.is(":checked")&&b.limited&&(b.limited=!1,N("distribute.unlimited",[c]));I.items[e.attr("id")]=b.limited;Q()});d.append(e,f);let g=$("<div/>",{id:"set-"+a+"-max",text:u("ui.max",[b.max]),title:b.max,css:X}).data("option",b);(function(k){g.on("click",function(){let m;R.stop(!1);m=window.prompt(u("ui.max.set",[k])+" \uff08\u6309max\u6bd4\u4f8b\u5206\u914d\uff09",b.max.toString());l.auto.engine.enabled&&R.start(!1);null!==m&&(b.max=Math.max(0,parseInt(m)),
I.items[g.attr("id")]=b.max,Q(),g[0].title=b.max,g[0].innerText=u("ui.max",[b.max]))})})(c);d.append(g);return d},ob=function(a,b){let c;var d=aa(u("distribute.makeLeader"));d=ba(a,b,d);d.css("borderBottom","1px solid rgba(185, 185, 185, 0.7)");let f=$("<ul/>",{id:"items-list-traits",css:{display:"none",paddingLeft:"20px"}}),e=$("<div/>",{id:"toggle-leaderTrait"+a,text:u("$village.trait.filter.all"),css:X});for(c in window.com.nuclearunicorn.game.village.Kitten().traits)f.append(pb(c,b));e.on("click",
function(){g.toggle(!1);f.toggle()});let g=$("<ul/>",{id:"items-list-jobs",css:{display:"none",paddingLeft:"20px"}});a=$("<div/>",{id:"toggle-leaderJob"+a,text:u("$village.panel.job"),css:X});for(c in game.village.jobs)g.append(qb(c,b));a.on("click",function(){f.toggle(!1);g.toggle()});d.append(e,a,f,g);return d},qb=function(a,b){let c=game.village.jobs,d=c[a];a=$("<li/>");let f=$("<label/>",{"for":"toggle-leaderJob-"+d.name,text:d.title,css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}}),e=$("<input/>",
{id:"toggle-leaderJob-"+d.name,name:"leaderJob",value:d.name,type:"radio"}).data("option",b);e.prop("value")===b.leaderJob&&e.prop("checked",!0);e.on("change",function(){N("distribute.leaderJob",[d.title]);b.leaderJob=$("input[name='leaderJob']:checked").val();c.forEach(g=>{delete I.items["toggle-leaderJob-"+g.name]});I.items["toggle-leaderJob-"+b.leaderJob]=!0;Q()});a.append(e,f);return a},pb=function(a,b){let c=window.com.nuclearunicorn.game.village.Kitten().traits;const d=c[a];a=$("<li/>");const f=
$("<label/>",{"for":"toggle-leaderTrait-"+d.name,text:d.title,css:{cursor:"pointer",textShadow:"3px 3px 4px gray"}}),e=$("<input/>",{id:"toggle-leaderTrait-"+d.name,name:"leaderTrait",value:d.name,type:"radio"}).data("option",b);e.prop("value")===b.leaderTrait&&e.prop("checked",!0);e.on("change",function(){N("distribute.leaderTrait",[d.title]);b.leaderTrait=$(this).val();c.forEach(g=>{delete I.items["toggle-leaderTrait-"+g.name]});I.items["toggle-leaderTrait-"+b.leaderTrait]=!0;Q()});a.append(e,f);
return a},Va=$("#rightColumn"),ua=$("<div/>",{id:"ks-options",css:{marginBottom:"10px",display:"none"}}),fa=$("<ul/>");fa.append(sa("engine"));l.auto.infinity.allow&&fa.append(sa("infinity"));Ia.forEach(a=>{fa.append(sa(a))});(function(){let a=$("<li/>",{id:"ks-donate"}).append($("<a/>",{href:"bitcoin:1HDV6VEnXH9m8PJuT4eQD7v8jRnucbneaq?amount=0.00048&label=Kittens Donation",target:"_blank",text:"1HDV6VEnXH9m8PJuT4eQD7v8jRnucbneaq"}));a.css("padding","5px");fa.append(a)})();ua.append(fa);Va.prepend(ua);
T=l.auto.build.items;l.auto.build.items=Object.assign({amphitheatre:T.amphitheatre,reactor:T.reactor,magneto:T.magneto,steamworks:T.steamworks},T);T=null;let E=(a,b,c)=>{if(b)M.other["auto."+a]=null;else{if(M.other["auto."+a])return!0;c||="miscFilter";Z(u("summary.auto."+a),c);K("auto."+a)}},ia=a=>{for(let b in a){let c=a[b];K(c.name,c.val,"resConsume")}},M,Ga=function(){let a=game.calendar;M={lastYear:a.year,lastTrueYear:a.trueYear(),lastDay:a.day,lastSeason:a.season,ksTime:0,totalTicks:0,praise:[0,
0],adore:[0,0],craft:{},trade:{},build:{},other:{},resGain:{},resConsume:{},research:{}}};Ga();let K=function(a,b,c){void 0===b&&(b=1);void 0===c&&(c="other");void 0===M[c]&&(M[c]={});M[c][a]=void 0===M[c][a]?parseFloat(b):M[c][a]+parseFloat(b)},Ya=a=>{var b=M[a];let c=b[0];b=game.getDisplayValueExt(b[1]);c&&la("summary."+a,[game.getDisplayValueExt(c),b])};T=$("<div/>",{id:"activity-box",css:{display:"inline-block",verticalAlign:"top"}});let Za=$("<a/>",{id:"showActivityHref",text:u("summary.show"),
href:"#",css:{verticalAlign:"top"}});Za.on("click",function(){game.console.messages.length>game.console.maxMessages-250&&game.clearLog();Ha();let a="=".repeat(24);var b=M.resGain;for(e in b){var c=b[e];if(c){var d=game.msg("\u5c0f\u55b5\u5171\u83b7\u5f97\u4e86 "+game.getDisplayValueExt(c)+" "+$I("resources."+e+".title"),null,null,!0);$(d.span).css("color","#ff589c")}}d&&(game.msg(a,"notice"),d=null);b=M.resConsume;c=game.resPool.resources;for(var f=c.length-1;0<f&&b;f--){var e=c[f].name;var g=b[e];
g&&(d=game.msg("\u5c0f\u55b5\u5171\u6d88\u8017\u4e86 "+game.getDisplayValueExt(g)+" "+$I("resources."+e+".title"),null,null,!0),$(d.span).css("color","#DC143C"))}d&&game.msg(a,"notice");d=M.other;for(k in d)if(b=d[k])b="number"===typeof b?game.getDisplayValueExt(b):b,la("summary."+k,[b]);Ya("praise");Ya("adore");d=M.research;for(e in d){var k=(k=d[e])?"\u79d1\u5b66\u5bb6":"";la("summary.tech",[k+"\u5c0f\u732b\u7814\u7a76\u4e86 "+aa(e)])}for(e in M.upgrade)k=(k=M.upgrade[e])?"\u79d1\u5b66\u5bb6":"",
la("summary.upgrade",[k+"\u5c0f\u732b\u53d1\u660e\u4e86 "+aa(e)]);["faith","build","craft","craftLeader","trade"].forEach(m=>{let p=M[m];for(let q in p)la("summary."+m,[game.getDisplayValueExt(p[q]),aa(q)])});k=M.lastYear;d=M.lastDay;k+d&&(e=game.calendar,k=e.year-k,d=e.day-d,b=e.trueYear()-M.lastTrueYear,c=e.daysPerSeason,f=e.seasonsPerYear,d=d+400*k+(e.season-M.lastSeason)*c,g="",400<=d&&(g=g+(k+" ")+(1===k?u("summary.year"):u("summary.years"))),0<=d&&(0<k&&(g+=u("summary.separator")),g+=+(Math.round(+(d%
400+"e+2"))+"e-2")+" ",g+=1===d?u("summary.day"):u("summary.days")),la("summary.head",[g]),0<b&&(e=game.toDisplaySeconds(b*f*c*e.ticksPerDay/game.ticksPerSecond))&&wa("\u603b\u5171 "+e+" \u7684\u5c0f\u55b5\u79cd\u7530\u65f6\u95f4"));e=l.auto.filter;e.enabled&&e.items.craftFilter.enabled&&e.items.buildFilter.enabled&&!game.console.filters.faith.enabled&&!game.console.filters.astronomicalEvent.enabled||game.msg("\u55b5\u55b5\u63d0\u793a\uff1a\u6e38\u620f(\u73c2\u5b66\u5bb6)\u65e5\u5fd7\u6d88\u8017\u6027\u80fd\u4f1a\u6bd4\u8f83\u591a",
"alert");if(e=M.ksTime){k=M.totalTicks;let m=Math.pow(10,2+game.opts.forceHighPrecision);wa(u("time.ks",[k,(p=>{let q=Math.round(p*m)/m,v=Math.round(p%1E3*m)/m;1E3<p&&(v=game.toDisplaySeconds(Math.floor(q/1E3))+v);return v})(e),Math.round(e*m/k)/m]));wa(a)}Ga()});T.append(Za);$("#clearLog").append(T);const Aa=$("<div/>",{id:"important-msg-box",class:"dialog help",css:{display:"none",width:"auto",height:"auto"}});T=$("<a/>",{text:u("ui.close"),href:"#",css:{position:"absolute",top:"10px",right:"15px"}});
T.on("click",function(){Aa.toggle()});let $a=$("<h1/>",{id:"mb-title",text:"test text"}),ab=$("<h1/>",{id:"mb-content",text:"test text"});Aa.append(T,$a,ab);$("#gamePageContainer").append(Aa);T=(a,b)=>{$a.html(a);ab.html(b);Aa.toggle()};let R=new Ma,ja,Wa=()=>{ja=$("#toggle-engine");ja.on("change",function(){let b=l.auto.engine;ja.is(":checked")?(b.enabled=!0,R.start(),Ha(),setTimeout(()=>{b.enabled&&Y("\u5982\u9700\u67e5\u770b\u5c0f\u55b5\u505a\u8fc7\u4ec0\u4e48\uff0c\u53ef\u4ee5\u70b9\u51fb\u5c0f\u732b\u603b\u7ed3(\u6e05\u7a7a\u65e5\u5fd7\u65c1\u8fb9)")},
2E3),-.03<game.getEffect("priceRatio")&&4>game.religion.transcendenceTier&&(E("ksHelp",!1,"noFilter"),E("ksHelp2",!1,"noFilter"),!game.stats.getStat("totalResets").val&&1E4<game.religion.faith&&E("ksHelp3",!1,"noFilter"),E("ksHelp4",!1,"noFilter"))):(b.enabled=!1,R.stop())});let a=$("<a/>",{css:{display:"inline-block",textShadow:"1px 1px 1px gray",transformOrigin:"bottom",fontStyle:"italic",transform:"scale(0.8)",paddingLeft:"3px"},text:"V15.58",target:"_blank",href:"https://petercheney.gitee.io/scientists/updateLog.html?v="+
(new Date).getDate()});$("#ks-engine").append(a)};Wa();l.auto.cache.dataTimer.trueYear=game.calendar.trueYear();l.auto.cache.dataTimer.ticksTotal=game.timer.ticksTotal;l.auto.cache.dataTimer.saveId=game.telemetry.guid;sessionStorage.setItem("options",JSON.stringify(l));Qa();let Xa=()=>{game.console.maxMessages=Math.min(Math.max(300,l.auto.options.items.filterGame.subTrigger),2E3)};Xa();$("#toggle-style").trigger("change");$("#toggle-donate").trigger("change");$("#ks-donate")[0].style.display="none";
console&&console.log&&console.log("\u5c0f\u732b\u73c2\u5b66\u5bb6\u7248\u672c15.58 loaded");game._publish("kitten_scientists/ready","\u5c0f\u732b\u73c2\u5b66\u5bb6\u7248\u672c15.58");let Ha=()=>{let a=l.auto.resources,b;for(let d in a){var c=a[d];if(c.enabled)if(c.stock){if("furs"!==d||350!==c.stock)b=!0,c=game.msg($I("resources."+d+".title")+"\u5e93\u5b58\uff1a"+game.getDisplayValueExt(c.stock),null,null,!0),$(c.span).css("color","#ff589c")}else.6===c.consume&&delete l.auto.resources[d]}b&&(Z("\u5c0f\u55b5\u7559\u4e0b\u8bbe\u7f6e\u597d\u7684\u5e93\u5b58\uff1a"),
Y("\u53ef\u7231\u7684\u732b\u732b\u73c2\u5b66\u5bb6\u63d0\u793a\u8bbe\u7f6e\u5e93\u5b58\u4f1a\u5f71\u54cd\u6302\u673a\u6548\u7387"));0>location.origin.indexOf("cheney")&&0>location.origin.indexOf("lolita")&&!l.net&&setTimeout(()=>{Y("\u73c2\u5b66\u5bb6\u5728Cheney\u7684\u7f51\u7ad9\u53ef\u4ee5\u5728\u6ca1\u7f51\u7684\u65f6\u5019\u52a0\u8f7d");l.net=!0},1E3)};I.reset&&I.reset.reset?(I.reset.karmaTotal+=h.karma.value-Number(I.reset.karmaLastTime),I.reset.paraonTotal+=h.paragon.value-Number(I.reset.paragonLastTime),
I.reset.reset=!1,T(u("summary.time.reset.title",[I.reset.times]),u("summary.time.reset.content",[I.reset.karmaTotal,I.reset.paragonTotal])),ja.prop("checked",!0),ja.trigger("change"),N("reset.after")):I.reset={reset:!1,times:0,paragonLastTime:0,paragonTotal:0,karmaLastTime:0,karmaTotal:0};Q();l.auto.infinity.enabled&&l.auto.infinity.allow&&(l.auto.engine.enabled||ja.click());i18nLang.messages["time.reset.instructional"]="\u91cd\u542f\u65f6\u95f4\u7ebf\u5c06\u4f7f\u6e38\u620f\u4ece\u96f6\u5f00\u59cb\u3002\u7edf\u8ba1\u548c\u6210\u5c31\u5c06\u4f1a\u4fdd\u7559\uff0c\u4e5f\u53ef\u80fd\u83b7\u5f97\u5404\u79cd\u6e38\u620f\u5956\u52b1\u3002<br><br>\u6b64\u65f6\u91cd\u7f6e\uff0c\u91cd\u7f6e\u540e\u5c06\u4f1a\u5f97\u5230\u5956\u52b1:";
let bb=setInterval(function(){if(!l.auto.engine.enabled&&l.auto.options.items.autoScientists.enabled){let a=l.countdown;0===a?(ja.click(),clearInterval(bb),N("reset.after")):10<a?(0===a%60&&N("auto.tip"),0===a%10&&L("auto.countdown",[a]),--l.countdown):10>=a&&(N("reset.countdown."+a),--l.countdown)}else clearInterval(bb)},1E3)};
window.loadTest=function(){if("undefined"===typeof gamePage||"undefined"===typeof i18nLang)setTimeout(function(){window.loadTest()},1E3);else{let va=game.workshop.upgrades;for(let u in va){let l=va[u];game.workshop.metaCache[l.name]=l}game.workshop.metaCache.undefined=null;delete game.workshop.metaCache.undefined;window.run();window.loadTest=null;window.run=null}};setTimeout(function(){window.loadTest()},1E3);
